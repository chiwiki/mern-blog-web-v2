function EE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function SE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o0={exports:{}},sc={},i0={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=Symbol.for("react.element"),_E=Symbol.for("react.portal"),CE=Symbol.for("react.fragment"),TE=Symbol.for("react.strict_mode"),AE=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),IE=Symbol.for("react.context"),PE=Symbol.for("react.forward_ref"),RE=Symbol.for("react.suspense"),LE=Symbol.for("react.memo"),BE=Symbol.for("react.lazy"),fm=Symbol.iterator;function OE(t){return t===null||typeof t!="object"?null:(t=fm&&t[fm]||t["@@iterator"],typeof t=="function"?t:null)}var s0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a0=Object.assign,l0={};function ai(t,e,n){this.props=t,this.context=e,this.refs=l0,this.updater=n||s0}ai.prototype.isReactComponent={};ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c0(){}c0.prototype=ai.prototype;function qh(t,e,n){this.props=t,this.context=e,this.refs=l0,this.updater=n||s0}var Kh=qh.prototype=new c0;Kh.constructor=qh;a0(Kh,ai.prototype);Kh.isPureReactComponent=!0;var pm=Array.isArray,u0=Object.prototype.hasOwnProperty,Gh={current:null},d0={key:!0,ref:!0,__self:!0,__source:!0};function h0(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)u0.call(e,r)&&!d0.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Ds,type:t,key:i,ref:s,props:o,_owner:Gh.current}}function ME(t,e){return{$$typeof:Ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ds}function jE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mm=/\/+/g;function Xc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jE(""+t.key):e.toString(36)}function ja(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ds:case _E:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+Xc(s,0):r,pm(o)?(n="",t!=null&&(n=t.replace(mm,"$&/")+"/"),ja(o,e,n,"",function(c){return c})):o!=null&&(Yh(o)&&(o=ME(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(mm,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",pm(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Xc(i,a);s+=ja(i,e,n,l,o)}else if(l=OE(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Xc(i,a++),s+=ja(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function la(t,e,n){if(t==null)return t;var r=[],o=0;return ja(t,r,"","",function(i){return e.call(n,i,o++)}),r}function DE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},Da={transition:null},FE={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Da,ReactCurrentOwner:Gh};Y.Children={map:la,forEach:function(t,e,n){la(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return la(t,function(){e++}),e},toArray:function(t){return la(t,function(e){return e})||[]},only:function(t){if(!Yh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=ai;Y.Fragment=CE;Y.Profiler=AE;Y.PureComponent=qh;Y.StrictMode=TE;Y.Suspense=RE;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FE;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a0({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Gh.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)u0.call(e,l)&&!d0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ds,type:t.type,key:o,ref:i,props:r,_owner:s}};Y.createContext=function(t){return t={$$typeof:IE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NE,_context:t},t.Consumer=t};Y.createElement=h0;Y.createFactory=function(t){var e=h0.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:PE,render:t}};Y.isValidElement=Yh;Y.lazy=function(t){return{$$typeof:BE,_payload:{_status:-1,_result:t},_init:DE}};Y.memo=function(t,e){return{$$typeof:LE,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=Da.transition;Da.transition={};try{t()}finally{Da.transition=e}};Y.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Y.useCallback=function(t,e){return Qe.current.useCallback(t,e)};Y.useContext=function(t){return Qe.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};Y.useEffect=function(t,e){return Qe.current.useEffect(t,e)};Y.useId=function(){return Qe.current.useId()};Y.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return Qe.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};Y.useRef=function(t){return Qe.current.useRef(t)};Y.useState=function(t){return Qe.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return Qe.current.useTransition()};Y.version="18.2.0";i0.exports=Y;var k=i0.exports;const Xh=SE(k),UE=EE({__proto__:null,default:Xh},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=k,HE=Symbol.for("react.element"),$E=Symbol.for("react.fragment"),zE=Object.prototype.hasOwnProperty,WE=VE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qE={key:!0,ref:!0,__self:!0,__source:!0};function f0(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)zE.call(e,r)&&!qE.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:HE,type:t,key:i,ref:s,props:o,_owner:WE.current}}sc.Fragment=$E;sc.jsx=f0;sc.jsxs=f0;o0.exports=sc;var h=o0.exports,ed={},p0={exports:{}},mt={},m0={exports:{}},g0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var G=B.length;B.push(W);e:for(;0<G;){var ee=G-1>>>1,se=B[ee];if(0<o(se,W))B[ee]=W,B[G]=se,G=ee;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],G=B.pop();if(G!==W){B[0]=G;e:for(var ee=0,se=B.length,sa=se>>>1;ee<sa;){var Cr=2*(ee+1)-1,Yc=B[Cr],Tr=Cr+1,aa=B[Tr];if(0>o(Yc,G))Tr<se&&0>o(aa,Yc)?(B[ee]=aa,B[Tr]=G,ee=Tr):(B[ee]=Yc,B[Cr]=G,ee=Cr);else if(Tr<se&&0>o(aa,G))B[ee]=aa,B[Tr]=G,ee=Tr;else break e}}return W}function o(B,W){var G=B.sortIndex-W.sortIndex;return G!==0?G:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,f=3,y=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=B)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function x(B){if(g=!1,b(B),!p)if(n(l)!==null)p=!0,q(E);else{var W=n(c);W!==null&&xe(x,W.startTime-B)}}function E(B,W){p=!1,g&&(g=!1,v(S),S=-1),y=!0;var G=f;try{for(b(W),u=n(l);u!==null&&(!(u.expirationTime>W)||B&&!R());){var ee=u.callback;if(typeof ee=="function"){u.callback=null,f=u.priorityLevel;var se=ee(u.expirationTime<=W);W=t.unstable_now(),typeof se=="function"?u.callback=se:u===n(l)&&r(l),b(W)}else r(l);u=n(l)}if(u!==null)var sa=!0;else{var Cr=n(c);Cr!==null&&xe(x,Cr.startTime-W),sa=!1}return sa}finally{u=null,f=G,y=!1}}var C=!1,A=null,S=-1,_=5,T=-1;function R(){return!(t.unstable_now()-T<_)}function M(){if(A!==null){var B=t.unstable_now();T=B;var W=!0;try{W=A(!0,B)}finally{W?V():(C=!1,A=null)}}else C=!1}var V;if(typeof m=="function")V=function(){m(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,j=$.port2;$.port1.onmessage=M,V=function(){j.postMessage(null)}}else V=function(){w(M,0)};function q(B){A=B,C||(C=!0,V())}function xe(B,W){S=w(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){p||y||(p=!0,q(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var G=f;f=W;try{return B()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var G=f;f=B;try{return W()}finally{f=G}},t.unstable_scheduleCallback=function(B,W,G){var ee=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,B){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=G+se,B={id:d++,callback:W,priorityLevel:B,startTime:G,expirationTime:se,sortIndex:-1},G>ee?(B.sortIndex=G,e(c,B),n(l)===null&&B===n(c)&&(g?(v(S),S=-1):g=!0,xe(x,G-ee))):(B.sortIndex=se,e(l,B),p||y||(p=!0,q(E))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var W=f;return function(){var G=f;f=W;try{return B.apply(this,arguments)}finally{f=G}}}})(g0);m0.exports=g0;var KE=m0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=k,ft=KE;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v0=new Set,ls={};function io(t,e){Ko(t,e),Ko(t+"Capture",e)}function Ko(t,e){for(ls[t]=e,t=0;t<e.length;t++)v0.add(e[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=Object.prototype.hasOwnProperty,GE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gm={},ym={};function YE(t){return td.call(ym,t)?!0:td.call(gm,t)?!1:GE.test(t)?ym[t]=!0:(gm[t]=!0,!1)}function XE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JE(t,e,n,r){if(e===null||typeof e>"u"||XE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jh=/[\-:]([a-z])/g;function Qh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jh,Qh);Fe[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jh,Qh);Fe[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jh,Qh);Fe[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zh(t,e,n,r){var o=Fe.hasOwnProperty(e)?Fe[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JE(e,n,o,r)&&(n=null),r||o===null?YE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ln=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ca=Symbol.for("react.element"),xo=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),nd=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),w0=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),rd=Symbol.for("react.suspense"),od=Symbol.for("react.suspense_list"),nf=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),x0=Symbol.for("react.offscreen"),vm=Symbol.iterator;function wi(t){return t===null||typeof t!="object"?null:(t=vm&&t[vm]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Object.assign,Jc;function Li(t){if(Jc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jc=e&&e[1]||""}return`
`+Jc+t}var Qc=!1;function Zc(t,e){if(!t||Qc)return"";Qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Qc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Li(t):""}function QE(t){switch(t.tag){case 5:return Li(t.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 2:case 15:return t=Zc(t.type,!1),t;case 11:return t=Zc(t.type.render,!1),t;case 1:return t=Zc(t.type,!0),t;default:return""}}function id(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case xo:return"Portal";case nd:return"Profiler";case ef:return"StrictMode";case rd:return"Suspense";case od:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w0:return(t.displayName||"Context")+".Consumer";case b0:return(t._context.displayName||"Context")+".Provider";case tf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nf:return e=t.displayName||null,e!==null?e:id(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return id(t(e))}catch{}}return null}function ZE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return id(e);case 8:return e===ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eS(t){var e=k0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ua(t){t._valueTracker||(t._valueTracker=eS(t))}function E0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=k0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sd(t,e){var n=e.checked;return ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S0(t,e){e=e.checked,e!=null&&Zh(t,"checked",e,!1)}function ad(t,e){S0(t,e);var n=mr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ld(t,e.type,n):e.hasOwnProperty("defaultValue")&&ld(t,e.type,mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ld(t,e,n){(e!=="number"||fl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bi=Array.isArray;function Do(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function cd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Bi(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mr(n)}}function _0(t,e){var n=mr(e.value),r=mr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function km(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ud(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var da,T0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tS=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(t){tS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wi[e]=Wi[t]})});function A0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wi.hasOwnProperty(t)&&Wi[t]?(""+e).trim():e+"px"}function N0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=A0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var nS=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dd(t,e){if(e){if(nS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function hd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=null;function rf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pd=null,Fo=null,Uo=null;function Em(t){if(t=Vs(t)){if(typeof pd!="function")throw Error(L(280));var e=t.stateNode;e&&(e=dc(e),pd(t.stateNode,t.type,e))}}function I0(t){Fo?Uo?Uo.push(t):Uo=[t]:Fo=t}function P0(){if(Fo){var t=Fo,e=Uo;if(Uo=Fo=null,Em(t),e)for(t=0;t<e.length;t++)Em(e[t])}}function R0(t,e){return t(e)}function L0(){}var eu=!1;function B0(t,e,n){if(eu)return t(e,n);eu=!0;try{return R0(t,e,n)}finally{eu=!1,(Fo!==null||Uo!==null)&&(L0(),P0())}}function us(t,e){var n=t.stateNode;if(n===null)return null;var r=dc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var md=!1;if(Cn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){md=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{md=!1}function rS(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var qi=!1,pl=null,ml=!1,gd=null,oS={onError:function(t){qi=!0,pl=t}};function iS(t,e,n,r,o,i,s,a,l){qi=!1,pl=null,rS.apply(oS,arguments)}function sS(t,e,n,r,o,i,s,a,l){if(iS.apply(this,arguments),qi){if(qi){var c=pl;qi=!1,pl=null}else throw Error(L(198));ml||(ml=!0,gd=c)}}function so(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function O0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sm(t){if(so(t)!==t)throw Error(L(188))}function aS(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Sm(o),t;if(i===r)return Sm(o),e;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function M0(t){return t=aS(t),t!==null?j0(t):null}function j0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j0(t);if(e!==null)return e;t=t.sibling}return null}var D0=ft.unstable_scheduleCallback,_m=ft.unstable_cancelCallback,lS=ft.unstable_shouldYield,cS=ft.unstable_requestPaint,Ee=ft.unstable_now,uS=ft.unstable_getCurrentPriorityLevel,of=ft.unstable_ImmediatePriority,F0=ft.unstable_UserBlockingPriority,gl=ft.unstable_NormalPriority,dS=ft.unstable_LowPriority,U0=ft.unstable_IdlePriority,ac=null,Yt=null;function hS(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ac,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:mS,fS=Math.log,pS=Math.LN2;function mS(t){return t>>>=0,t===0?32:31-(fS(t)/pS|0)|0}var ha=64,fa=4194304;function Oi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Oi(a):(i&=s,i!==0&&(r=Oi(i)))}else s=n&~o,s!==0?r=Oi(s):i!==0&&(r=Oi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mt(e),o=1<<n,r|=t[n],e&=~o;return r}function gS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Mt(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=gS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function yd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V0(){var t=ha;return ha<<=1,!(ha&4194240)&&(ha=64),t}function tu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mt(e),t[e]=n}function vS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Mt(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function sf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var oe=0;function H0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $0,af,z0,W0,q0,vd=!1,pa=[],nr=null,rr=null,or=null,ds=new Map,hs=new Map,qn=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cm(t,e){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":ds.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(e.pointerId)}}function ki(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Vs(e),e!==null&&af(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function wS(t,e,n,r,o){switch(e){case"focusin":return nr=ki(nr,t,e,n,r,o),!0;case"dragenter":return rr=ki(rr,t,e,n,r,o),!0;case"mouseover":return or=ki(or,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return ds.set(i,ki(ds.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,hs.set(i,ki(hs.get(i)||null,t,e,n,r,o)),!0}return!1}function K0(t){var e=Mr(t.target);if(e!==null){var n=so(e);if(n!==null){if(e=n.tag,e===13){if(e=O0(n),e!==null){t.blockedOn=e,q0(t.priority,function(){z0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fd=r,n.target.dispatchEvent(r),fd=null}else return e=Vs(n),e!==null&&af(e),t.blockedOn=n,!1;e.shift()}return!0}function Tm(t,e,n){Fa(t)&&n.delete(e)}function xS(){vd=!1,nr!==null&&Fa(nr)&&(nr=null),rr!==null&&Fa(rr)&&(rr=null),or!==null&&Fa(or)&&(or=null),ds.forEach(Tm),hs.forEach(Tm)}function Ei(t,e){t.blockedOn===e&&(t.blockedOn=null,vd||(vd=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,xS)))}function fs(t){function e(o){return Ei(o,t)}if(0<pa.length){Ei(pa[0],t);for(var n=1;n<pa.length;n++){var r=pa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nr!==null&&Ei(nr,t),rr!==null&&Ei(rr,t),or!==null&&Ei(or,t),ds.forEach(e),hs.forEach(e),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)K0(n),n.blockedOn===null&&qn.shift()}var Vo=Ln.ReactCurrentBatchConfig,vl=!0;function kS(t,e,n,r){var o=oe,i=Vo.transition;Vo.transition=null;try{oe=1,lf(t,e,n,r)}finally{oe=o,Vo.transition=i}}function ES(t,e,n,r){var o=oe,i=Vo.transition;Vo.transition=null;try{oe=4,lf(t,e,n,r)}finally{oe=o,Vo.transition=i}}function lf(t,e,n,r){if(vl){var o=bd(t,e,n,r);if(o===null)du(t,e,r,bl,n),Cm(t,r);else if(wS(o,t,e,n,r))r.stopPropagation();else if(Cm(t,r),e&4&&-1<bS.indexOf(t)){for(;o!==null;){var i=Vs(o);if(i!==null&&$0(i),i=bd(t,e,n,r),i===null&&du(t,e,r,bl,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else du(t,e,r,null,n)}}var bl=null;function bd(t,e,n,r){if(bl=null,t=rf(r),t=Mr(t),t!==null)if(e=so(t),e===null)t=null;else if(n=e.tag,n===13){if(t=O0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bl=t,null}function G0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uS()){case of:return 1;case F0:return 4;case gl:case dS:return 16;case U0:return 536870912;default:return 16}default:return 16}}var Zn=null,cf=null,Ua=null;function Y0(){if(Ua)return Ua;var t,e=cf,n=e.length,r,o="value"in Zn?Zn.value:Zn.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return Ua=o.slice(t,1<r?1-r:void 0)}function Va(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ma(){return!0}function Am(){return!1}function gt(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ma:Am,this.isPropagationStopped=Am,this}return ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),e}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=gt(li),Us=ve({},li,{view:0,detail:0}),SS=gt(Us),nu,ru,Si,lc=ve({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(nu=t.screenX-Si.screenX,ru=t.screenY-Si.screenY):ru=nu=0,Si=t),nu)},movementY:function(t){return"movementY"in t?t.movementY:ru}}),Nm=gt(lc),_S=ve({},lc,{dataTransfer:0}),CS=gt(_S),TS=ve({},Us,{relatedTarget:0}),ou=gt(TS),AS=ve({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),NS=gt(AS),IS=ve({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PS=gt(IS),RS=ve({},li,{data:0}),Im=gt(RS),LS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OS[t])?!!e[t]:!1}function df(){return MS}var jS=ve({},Us,{key:function(t){if(t.key){var e=LS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(t){return t.type==="keypress"?Va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DS=gt(jS),FS=ve({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pm=gt(FS),US=ve({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),VS=gt(US),HS=ve({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),$S=gt(HS),zS=ve({},lc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=gt(zS),qS=[9,13,27,32],hf=Cn&&"CompositionEvent"in window,Ki=null;Cn&&"documentMode"in document&&(Ki=document.documentMode);var KS=Cn&&"TextEvent"in window&&!Ki,X0=Cn&&(!hf||Ki&&8<Ki&&11>=Ki),Rm=" ",Lm=!1;function J0(t,e){switch(t){case"keyup":return qS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function GS(t,e){switch(t){case"compositionend":return Q0(e);case"keypress":return e.which!==32?null:(Lm=!0,Rm);case"textInput":return t=e.data,t===Rm&&Lm?null:t;default:return null}}function YS(t,e){if(Eo)return t==="compositionend"||!hf&&J0(t,e)?(t=Y0(),Ua=cf=Zn=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X0&&e.locale!=="ko"?null:e.data;default:return null}}var XS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XS[t.type]:e==="textarea"}function Z0(t,e,n,r){I0(r),e=wl(e,"onChange"),0<e.length&&(n=new uf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gi=null,ps=null;function JS(t){ub(t,0)}function cc(t){var e=Co(t);if(E0(e))return t}function QS(t,e){if(t==="change")return e}var eb=!1;if(Cn){var iu;if(Cn){var su="oninput"in document;if(!su){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),su=typeof Om.oninput=="function"}iu=su}else iu=!1;eb=iu&&(!document.documentMode||9<document.documentMode)}function Mm(){Gi&&(Gi.detachEvent("onpropertychange",tb),ps=Gi=null)}function tb(t){if(t.propertyName==="value"&&cc(ps)){var e=[];Z0(e,ps,t,rf(t)),B0(JS,e)}}function ZS(t,e,n){t==="focusin"?(Mm(),Gi=e,ps=n,Gi.attachEvent("onpropertychange",tb)):t==="focusout"&&Mm()}function e_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(ps)}function t_(t,e){if(t==="click")return cc(e)}function n_(t,e){if(t==="input"||t==="change")return cc(e)}function r_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:r_;function ms(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!td.call(e,o)||!Ft(t[o],e[o]))return!1}return!0}function jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dm(t,e){var n=jm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jm(n)}}function nb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rb(){for(var t=window,e=fl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fl(t.document)}return e}function ff(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o_(t){var e=rb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nb(n.ownerDocument.documentElement,n)){if(r!==null&&ff(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Dm(n,i);var s=Dm(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i_=Cn&&"documentMode"in document&&11>=document.documentMode,So=null,wd=null,Yi=null,xd=!1;function Fm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xd||So==null||So!==fl(r)||(r=So,"selectionStart"in r&&ff(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yi&&ms(Yi,r)||(Yi=r,r=wl(wd,"onSelect"),0<r.length&&(e=new uf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=So)))}function ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _o={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},au={},ob={};Cn&&(ob=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function uc(t){if(au[t])return au[t];if(!_o[t])return t;var e=_o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ob)return au[t]=e[n];return t}var ib=uc("animationend"),sb=uc("animationiteration"),ab=uc("animationstart"),lb=uc("transitionend"),cb=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){cb.set(t,e),io(e,[t])}for(var lu=0;lu<Um.length;lu++){var cu=Um[lu],s_=cu.toLowerCase(),a_=cu[0].toUpperCase()+cu.slice(1);xr(s_,"on"+a_)}xr(ib,"onAnimationEnd");xr(sb,"onAnimationIteration");xr(ab,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(lb,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function Vm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sS(r,e,void 0,t),t.currentTarget=null}function ub(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Vm(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Vm(o,a,c),i=l}}}if(ml)throw t=gd,ml=!1,gd=null,t}function ce(t,e){var n=e[Cd];n===void 0&&(n=e[Cd]=new Set);var r=t+"__bubble";n.has(r)||(db(e,t,2,!1),n.add(r))}function uu(t,e,n){var r=0;e&&(r|=4),db(n,t,r,e)}var ya="_reactListening"+Math.random().toString(36).slice(2);function gs(t){if(!t[ya]){t[ya]=!0,v0.forEach(function(n){n!=="selectionchange"&&(l_.has(n)||uu(n,!1,t),uu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ya]||(e[ya]=!0,uu("selectionchange",!1,e))}}function db(t,e,n,r){switch(G0(e)){case 1:var o=kS;break;case 4:o=ES;break;default:o=lf}n=o.bind(null,e,n,t),o=void 0,!md||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function du(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Mr(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}B0(function(){var c=i,d=rf(n),u=[];e:{var f=cb.get(t);if(f!==void 0){var y=uf,p=t;switch(t){case"keypress":if(Va(n)===0)break e;case"keydown":case"keyup":y=DS;break;case"focusin":p="focus",y=ou;break;case"focusout":p="blur",y=ou;break;case"beforeblur":case"afterblur":y=ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=CS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=VS;break;case ib:case sb:case ab:y=NS;break;case lb:y=$S;break;case"scroll":y=SS;break;case"wheel":y=WS;break;case"copy":case"cut":case"paste":y=PS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pm}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var m=c,b;m!==null;){b=m;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=us(m,v),x!=null&&g.push(ys(m,x,b)))),w)break;m=m.return}0<g.length&&(f=new y(f,p,null,n,d),u.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==fd&&(p=n.relatedTarget||n.fromElement)&&(Mr(p)||p[Tn]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(p=n.relatedTarget||n.toElement,y=c,p=p?Mr(p):null,p!==null&&(w=so(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(y=null,p=c),y!==p)){if(g=Nm,x="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=Pm,x="onPointerLeave",v="onPointerEnter",m="pointer"),w=y==null?f:Co(y),b=p==null?f:Co(p),f=new g(x,m+"leave",y,n,d),f.target=w,f.relatedTarget=b,x=null,Mr(d)===c&&(g=new g(v,m+"enter",p,n,d),g.target=b,g.relatedTarget=w,x=g),w=x,y&&p)t:{for(g=y,v=p,m=0,b=g;b;b=uo(b))m++;for(b=0,x=v;x;x=uo(x))b++;for(;0<m-b;)g=uo(g),m--;for(;0<b-m;)v=uo(v),b--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=uo(g),v=uo(v)}g=null}else g=null;y!==null&&Hm(u,f,y,g,!1),p!==null&&w!==null&&Hm(u,w,p,g,!0)}}e:{if(f=c?Co(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var E=QS;else if(Bm(f))if(eb)E=n_;else{E=e_;var C=ZS}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=t_);if(E&&(E=E(t,c))){Z0(u,E,n,d);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ld(f,"number",f.value)}switch(C=c?Co(c):window,t){case"focusin":(Bm(C)||C.contentEditable==="true")&&(So=C,wd=c,Yi=null);break;case"focusout":Yi=wd=So=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Fm(u,n,d);break;case"selectionchange":if(i_)break;case"keydown":case"keyup":Fm(u,n,d)}var A;if(hf)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Eo?J0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(X0&&n.locale!=="ko"&&(Eo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Eo&&(A=Y0()):(Zn=d,cf="value"in Zn?Zn.value:Zn.textContent,Eo=!0)),C=wl(c,S),0<C.length&&(S=new Im(S,t,null,n,d),u.push({event:S,listeners:C}),A?S.data=A:(A=Q0(n),A!==null&&(S.data=A)))),(A=KS?GS(t,n):YS(t,n))&&(c=wl(c,"onBeforeInput"),0<c.length&&(d=new Im("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=A))}ub(u,e)})}function ys(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wl(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=us(t,n),i!=null&&r.unshift(ys(t,i,o)),i=us(t,e),i!=null&&r.push(ys(t,i,o))),t=t.return}return r}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hm(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=us(n,i),l!=null&&s.unshift(ys(n,l,a))):o||(l=us(n,i),l!=null&&s.push(ys(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var c_=/\r\n?/g,u_=/\u0000|\uFFFD/g;function $m(t){return(typeof t=="string"?t:""+t).replace(c_,`
`).replace(u_,"")}function va(t,e,n){if(e=$m(e),$m(t)!==e&&n)throw Error(L(425))}function xl(){}var kd=null,Ed=null;function Sd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,d_=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,h_=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(t){return zm.resolve(null).then(t).catch(f_)}:_d;function f_(t){setTimeout(function(){throw t})}function hu(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),fs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);fs(e)}function ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),qt="__reactFiber$"+ci,vs="__reactProps$"+ci,Tn="__reactContainer$"+ci,Cd="__reactEvents$"+ci,p_="__reactListeners$"+ci,m_="__reactHandles$"+ci;function Mr(t){var e=t[qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tn]||n[qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wm(t);t!==null;){if(n=t[qt])return n;t=Wm(t)}return e}t=n,n=t.parentNode}return null}function Vs(t){return t=t[qt]||t[Tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function dc(t){return t[vs]||null}var Td=[],To=-1;function kr(t){return{current:t}}function de(t){0>To||(t.current=Td[To],Td[To]=null,To--)}function ae(t,e){To++,Td[To]=t.current,t.current=e}var gr={},qe=kr(gr),ot=kr(!1),Kr=gr;function Go(t,e){var n=t.type.contextTypes;if(!n)return gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function it(t){return t=t.childContextTypes,t!=null}function kl(){de(ot),de(qe)}function qm(t,e,n){if(qe.current!==gr)throw Error(L(168));ae(qe,e),ae(ot,n)}function hb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(L(108,ZE(t)||"Unknown",o));return ve({},n,r)}function El(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gr,Kr=qe.current,ae(qe,t),ae(ot,ot.current),!0}function Km(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=hb(t,e,Kr),r.__reactInternalMemoizedMergedChildContext=t,de(ot),de(qe),ae(qe,t)):de(ot),ae(ot,n)}var cn=null,hc=!1,fu=!1;function fb(t){cn===null?cn=[t]:cn.push(t)}function g_(t){hc=!0,fb(t)}function Er(){if(!fu&&cn!==null){fu=!0;var t=0,e=oe;try{var n=cn;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cn=null,hc=!1}catch(o){throw cn!==null&&(cn=cn.slice(t+1)),D0(of,Er),o}finally{oe=e,fu=!1}}return null}var Ao=[],No=0,Sl=null,_l=0,bt=[],wt=0,Gr=null,hn=1,fn="";function Nr(t,e){Ao[No++]=_l,Ao[No++]=Sl,Sl=t,_l=e}function pb(t,e,n){bt[wt++]=hn,bt[wt++]=fn,bt[wt++]=Gr,Gr=t;var r=hn;t=fn;var o=32-Mt(r)-1;r&=~(1<<o),n+=1;var i=32-Mt(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,hn=1<<32-Mt(e)+o|n<<o|r,fn=i+t}else hn=1<<i|n<<o|r,fn=t}function pf(t){t.return!==null&&(Nr(t,1),pb(t,1,0))}function mf(t){for(;t===Sl;)Sl=Ao[--No],Ao[No]=null,_l=Ao[--No],Ao[No]=null;for(;t===Gr;)Gr=bt[--wt],bt[wt]=null,fn=bt[--wt],bt[wt]=null,hn=bt[--wt],bt[wt]=null}var ht=null,ut=null,fe=!1,Lt=null;function mb(t,e){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,ut=ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gr!==null?{id:hn,overflow:fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,ut=null,!0):!1;default:return!1}}function Ad(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nd(t){if(fe){var e=ut;if(e){var n=e;if(!Gm(t,e)){if(Ad(t))throw Error(L(418));e=ir(n.nextSibling);var r=ht;e&&Gm(t,e)?mb(r,n):(t.flags=t.flags&-4097|2,fe=!1,ht=t)}}else{if(Ad(t))throw Error(L(418));t.flags=t.flags&-4097|2,fe=!1,ht=t}}}function Ym(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function ba(t){if(t!==ht)return!1;if(!fe)return Ym(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sd(t.type,t.memoizedProps)),e&&(e=ut)){if(Ad(t))throw gb(),Error(L(418));for(;e;)mb(t,e),e=ir(e.nextSibling)}if(Ym(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ut=ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ut=null}}else ut=ht?ir(t.stateNode.nextSibling):null;return!0}function gb(){for(var t=ut;t;)t=ir(t.nextSibling)}function Yo(){ut=ht=null,fe=!1}function gf(t){Lt===null?Lt=[t]:Lt.push(t)}var y_=Ln.ReactCurrentBatchConfig;function It(t,e){if(t&&t.defaultProps){e=ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Cl=kr(null),Tl=null,Io=null,yf=null;function vf(){yf=Io=Tl=null}function bf(t){var e=Cl.current;de(Cl),t._currentValue=e}function Id(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){Tl=t,yf=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function Ct(t){var e=t._currentValue;if(yf!==t)if(t={context:t,memoizedValue:e,next:null},Io===null){if(Tl===null)throw Error(L(308));Io=t,Tl.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return e}var jr=null;function wf(t){jr===null?jr=[t]:jr.push(t)}function yb(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,wf(e)):(n.next=o.next,o.next=n),e.interleaved=n,An(t,r)}function An(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $n=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,An(t,n)}return o=r.interleaved,o===null?(e.next=e,wf(r)):(e.next=o.next,o.next=e),r.interleaved=e,An(t,n)}function Ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sf(t,n)}}function Xm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Al(t,e,n,r){var o=t.updateQueue;$n=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var u=o.baseState;s=0,d=c=l=null,a=i;do{var f=a.lane,y=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,y=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){u=p.call(y,u,f);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(y,u,f):p,f==null)break e;u=ve({},u,f);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=u):d=d.next=y,s|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(d===null&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Xr|=s,t.lanes=s,t.memoizedState=u}}function Jm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(L(191,o));o.call(r)}}}var bb=new y0.Component().refs;function Pd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fc={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Je(),o=lr(t),i=wn(r,o);i.payload=e,n!=null&&(i.callback=n),e=sr(t,i,o),e!==null&&(jt(e,t,o,r),Ha(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Je(),o=lr(t),i=wn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=sr(t,i,o),e!==null&&(jt(e,t,o,r),Ha(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),r=lr(t),o=wn(n,r);o.tag=2,e!=null&&(o.callback=e),e=sr(t,o,r),e!==null&&(jt(e,t,r,n),Ha(e,t,r))}};function Qm(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!ms(n,r)||!ms(o,i):!0}function wb(t,e,n){var r=!1,o=gr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(o=it(e)?Kr:qe.current,r=e.contextTypes,i=(r=r!=null)?Go(t,o):gr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fc.enqueueReplaceState(e,e.state,null)}function Rd(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=bb,xf(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Ct(i):(i=it(e)?Kr:qe.current,o.context=Go(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pd(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&fc.enqueueReplaceState(o,o.state,null),Al(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function _i(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===bb&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function wa(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eg(t){var e=t._init;return e(t._payload)}function xb(t){function e(v,m){if(t){var b=v.deletions;b===null?(v.deletions=[m],v.flags|=16):b.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function o(v,m){return v=cr(v,m),v.index=0,v.sibling=null,v}function i(v,m,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<m?(v.flags|=2,m):b):(v.flags|=2,m)):(v.flags|=1048576,m)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,b,x){return m===null||m.tag!==6?(m=wu(b,v.mode,x),m.return=v,m):(m=o(m,b),m.return=v,m)}function l(v,m,b,x){var E=b.type;return E===ko?d(v,m,b.props.children,x,b.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hn&&eg(E)===m.type)?(x=o(m,b.props),x.ref=_i(v,m,b),x.return=v,x):(x=Ga(b.type,b.key,b.props,null,v.mode,x),x.ref=_i(v,m,b),x.return=v,x)}function c(v,m,b,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=xu(b,v.mode,x),m.return=v,m):(m=o(m,b.children||[]),m.return=v,m)}function d(v,m,b,x,E){return m===null||m.tag!==7?(m=Hr(b,v.mode,x,E),m.return=v,m):(m=o(m,b),m.return=v,m)}function u(v,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wu(""+m,v.mode,b),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ca:return b=Ga(m.type,m.key,m.props,null,v.mode,b),b.ref=_i(v,null,m),b.return=v,b;case xo:return m=xu(m,v.mode,b),m.return=v,m;case Hn:var x=m._init;return u(v,x(m._payload),b)}if(Bi(m)||wi(m))return m=Hr(m,v.mode,b,null),m.return=v,m;wa(v,m)}return null}function f(v,m,b,x){var E=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(v,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ca:return b.key===E?l(v,m,b,x):null;case xo:return b.key===E?c(v,m,b,x):null;case Hn:return E=b._init,f(v,m,E(b._payload),x)}if(Bi(b)||wi(b))return E!==null?null:d(v,m,b,x,null);wa(v,b)}return null}function y(v,m,b,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,a(m,v,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ca:return v=v.get(x.key===null?b:x.key)||null,l(m,v,x,E);case xo:return v=v.get(x.key===null?b:x.key)||null,c(m,v,x,E);case Hn:var C=x._init;return y(v,m,b,C(x._payload),E)}if(Bi(x)||wi(x))return v=v.get(b)||null,d(m,v,x,E,null);wa(m,x)}return null}function p(v,m,b,x){for(var E=null,C=null,A=m,S=m=0,_=null;A!==null&&S<b.length;S++){A.index>S?(_=A,A=null):_=A.sibling;var T=f(v,A,b[S],x);if(T===null){A===null&&(A=_);break}t&&A&&T.alternate===null&&e(v,A),m=i(T,m,S),C===null?E=T:C.sibling=T,C=T,A=_}if(S===b.length)return n(v,A),fe&&Nr(v,S),E;if(A===null){for(;S<b.length;S++)A=u(v,b[S],x),A!==null&&(m=i(A,m,S),C===null?E=A:C.sibling=A,C=A);return fe&&Nr(v,S),E}for(A=r(v,A);S<b.length;S++)_=y(A,v,S,b[S],x),_!==null&&(t&&_.alternate!==null&&A.delete(_.key===null?S:_.key),m=i(_,m,S),C===null?E=_:C.sibling=_,C=_);return t&&A.forEach(function(R){return e(v,R)}),fe&&Nr(v,S),E}function g(v,m,b,x){var E=wi(b);if(typeof E!="function")throw Error(L(150));if(b=E.call(b),b==null)throw Error(L(151));for(var C=E=null,A=m,S=m=0,_=null,T=b.next();A!==null&&!T.done;S++,T=b.next()){A.index>S?(_=A,A=null):_=A.sibling;var R=f(v,A,T.value,x);if(R===null){A===null&&(A=_);break}t&&A&&R.alternate===null&&e(v,A),m=i(R,m,S),C===null?E=R:C.sibling=R,C=R,A=_}if(T.done)return n(v,A),fe&&Nr(v,S),E;if(A===null){for(;!T.done;S++,T=b.next())T=u(v,T.value,x),T!==null&&(m=i(T,m,S),C===null?E=T:C.sibling=T,C=T);return fe&&Nr(v,S),E}for(A=r(v,A);!T.done;S++,T=b.next())T=y(A,v,S,T.value,x),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?S:T.key),m=i(T,m,S),C===null?E=T:C.sibling=T,C=T);return t&&A.forEach(function(M){return e(v,M)}),fe&&Nr(v,S),E}function w(v,m,b,x){if(typeof b=="object"&&b!==null&&b.type===ko&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ca:e:{for(var E=b.key,C=m;C!==null;){if(C.key===E){if(E=b.type,E===ko){if(C.tag===7){n(v,C.sibling),m=o(C,b.props.children),m.return=v,v=m;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hn&&eg(E)===C.type){n(v,C.sibling),m=o(C,b.props),m.ref=_i(v,C,b),m.return=v,v=m;break e}n(v,C);break}else e(v,C);C=C.sibling}b.type===ko?(m=Hr(b.props.children,v.mode,x,b.key),m.return=v,v=m):(x=Ga(b.type,b.key,b.props,null,v.mode,x),x.ref=_i(v,m,b),x.return=v,v=x)}return s(v);case xo:e:{for(C=b.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){n(v,m.sibling),m=o(m,b.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=xu(b,v.mode,x),m.return=v,v=m}return s(v);case Hn:return C=b._init,w(v,m,C(b._payload),x)}if(Bi(b))return p(v,m,b,x);if(wi(b))return g(v,m,b,x);wa(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(n(v,m.sibling),m=o(m,b),m.return=v,v=m):(n(v,m),m=wu(b,v.mode,x),m.return=v,v=m),s(v)):n(v,m)}return w}var Xo=xb(!0),kb=xb(!1),Hs={},Xt=kr(Hs),bs=kr(Hs),ws=kr(Hs);function Dr(t){if(t===Hs)throw Error(L(174));return t}function kf(t,e){switch(ae(ws,e),ae(bs,t),ae(Xt,Hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ud(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ud(e,t)}de(Xt),ae(Xt,e)}function Jo(){de(Xt),de(bs),de(ws)}function Eb(t){Dr(ws.current);var e=Dr(Xt.current),n=ud(e,t.type);e!==n&&(ae(bs,t),ae(Xt,n))}function Ef(t){bs.current===t&&(de(Xt),de(bs))}var pe=kr(0);function Nl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pu=[];function Sf(){for(var t=0;t<pu.length;t++)pu[t]._workInProgressVersionPrimary=null;pu.length=0}var $a=Ln.ReactCurrentDispatcher,mu=Ln.ReactCurrentBatchConfig,Yr=0,ge=null,Ae=null,Ie=null,Il=!1,Xi=!1,xs=0,v_=0;function Ue(){throw Error(L(321))}function _f(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function Cf(t,e,n,r,o,i){if(Yr=i,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$a.current=t===null||t.memoizedState===null?k_:E_,t=n(r,o),Xi){i=0;do{if(Xi=!1,xs=0,25<=i)throw Error(L(301));i+=1,Ie=Ae=null,e.updateQueue=null,$a.current=S_,t=n(r,o)}while(Xi)}if($a.current=Pl,e=Ae!==null&&Ae.next!==null,Yr=0,Ie=Ae=ge=null,Il=!1,e)throw Error(L(300));return t}function Tf(){var t=xs!==0;return xs=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ge.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Tt(){if(Ae===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=Ie===null?ge.memoizedState:Ie.next;if(e!==null)Ie=e,Ae=t;else{if(t===null)throw Error(L(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ie===null?ge.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function ks(t,e){return typeof e=="function"?e(t):e}function gu(t){var e=Tt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Ae,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var d=c.lane;if((Yr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=r):l=l.next=u,ge.lanes|=d,Xr|=d}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Ft(r,e.memoizedState)||(nt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,ge.lanes|=i,Xr|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yu(t){var e=Tt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Ft(i,e.memoizedState)||(nt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Sb(){}function _b(t,e){var n=ge,r=Tt(),o=e(),i=!Ft(r.memoizedState,o);if(i&&(r.memoizedState=o,nt=!0),r=r.queue,Af(Ab.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,Es(9,Tb.bind(null,n,r,o,e),void 0,null),Pe===null)throw Error(L(349));Yr&30||Cb(n,e,o)}return o}function Cb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Tb(t,e,n,r){e.value=n,e.getSnapshot=r,Nb(e)&&Ib(t)}function Ab(t,e,n){return n(function(){Nb(e)&&Ib(t)})}function Nb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function Ib(t){var e=An(t,1);e!==null&&jt(e,t,1,-1)}function tg(t){var e=$t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:t},e.queue=t,t=t.dispatch=x_.bind(null,ge,t),[e.memoizedState,t]}function Es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Pb(){return Tt().memoizedState}function za(t,e,n,r){var o=$t();ge.flags|=t,o.memoizedState=Es(1|e,n,void 0,r===void 0?null:r)}function pc(t,e,n,r){var o=Tt();r=r===void 0?null:r;var i=void 0;if(Ae!==null){var s=Ae.memoizedState;if(i=s.destroy,r!==null&&_f(r,s.deps)){o.memoizedState=Es(e,n,i,r);return}}ge.flags|=t,o.memoizedState=Es(1|e,n,i,r)}function ng(t,e){return za(8390656,8,t,e)}function Af(t,e){return pc(2048,8,t,e)}function Rb(t,e){return pc(4,2,t,e)}function Lb(t,e){return pc(4,4,t,e)}function Bb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ob(t,e,n){return n=n!=null?n.concat([t]):null,pc(4,4,Bb.bind(null,e,t),n)}function Nf(){}function Mb(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_f(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jb(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_f(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Db(t,e,n){return Yr&21?(Ft(n,e)||(n=V0(),ge.lanes|=n,Xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=n)}function b_(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=mu.transition;mu.transition={};try{t(!1),e()}finally{oe=n,mu.transition=r}}function Fb(){return Tt().memoizedState}function w_(t,e,n){var r=lr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ub(t))Vb(e,n);else if(n=yb(t,e,n,r),n!==null){var o=Je();jt(n,t,r,o),Hb(n,e,r)}}function x_(t,e,n){var r=lr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ub(t))Vb(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Ft(a,s)){var l=e.interleaved;l===null?(o.next=o,wf(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=yb(t,e,o,r),n!==null&&(o=Je(),jt(n,t,r,o),Hb(n,e,r))}}function Ub(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function Vb(t,e){Xi=Il=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sf(t,n)}}var Pl={readContext:Ct,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},k_={readContext:Ct,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:ng,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,za(4194308,4,Bb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return za(4194308,4,t,e)},useInsertionEffect:function(t,e){return za(4,2,t,e)},useMemo:function(t,e){var n=$t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w_.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:tg,useDebugValue:Nf,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=tg(!1),e=t[0];return t=b_.bind(null,t[1]),$t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ge,o=$t();if(fe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Pe===null)throw Error(L(349));Yr&30||Cb(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,ng(Ab.bind(null,r,i,t),[t]),r.flags|=2048,Es(9,Tb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=$t(),e=Pe.identifierPrefix;if(fe){var n=fn,r=hn;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},E_={readContext:Ct,useCallback:Mb,useContext:Ct,useEffect:Af,useImperativeHandle:Ob,useInsertionEffect:Rb,useLayoutEffect:Lb,useMemo:jb,useReducer:gu,useRef:Pb,useState:function(){return gu(ks)},useDebugValue:Nf,useDeferredValue:function(t){var e=Tt();return Db(e,Ae.memoizedState,t)},useTransition:function(){var t=gu(ks)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Sb,useSyncExternalStore:_b,useId:Fb,unstable_isNewReconciler:!1},S_={readContext:Ct,useCallback:Mb,useContext:Ct,useEffect:Af,useImperativeHandle:Ob,useInsertionEffect:Rb,useLayoutEffect:Lb,useMemo:jb,useReducer:yu,useRef:Pb,useState:function(){return yu(ks)},useDebugValue:Nf,useDeferredValue:function(t){var e=Tt();return Ae===null?e.memoizedState=t:Db(e,Ae.memoizedState,t)},useTransition:function(){var t=yu(ks)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Sb,useSyncExternalStore:_b,useId:Fb,unstable_isNewReconciler:!1};function Qo(t,e){try{var n="",r=e;do n+=QE(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function vu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ld(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var __=typeof WeakMap=="function"?WeakMap:Map;function $b(t,e,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ll||(Ll=!0,$d=r),Ld(t,e)},n}function zb(t,e,n){n=wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Ld(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ld(t,e),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function rg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new __;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=F_.bind(null,t,e,n),e.then(t,t))}function og(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ig(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wn(-1,1),e.tag=2,sr(n,e,1))),n.lanes|=1),t)}var C_=Ln.ReactCurrentOwner,nt=!1;function Xe(t,e,n,r){e.child=t===null?kb(e,null,n,r):Xo(e,t.child,n,r)}function sg(t,e,n,r,o){n=n.render;var i=e.ref;return Ho(e,o),r=Cf(t,e,n,r,i,o),n=Tf(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Nn(t,e,o)):(fe&&n&&pf(e),e.flags|=1,Xe(t,e,r,o),e.child)}function ag(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!jf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Wb(t,e,i,r,o)):(t=Ga(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ms,n(s,r)&&t.ref===e.ref)return Nn(t,e,o)}return e.flags|=1,t=cr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Wb(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(ms(i,r)&&t.ref===e.ref)if(nt=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,Nn(t,e,o)}return Bd(t,e,n,r,o)}function qb(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Ro,ct),ct|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Ro,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(Ro,ct),ct|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ae(Ro,ct),ct|=r;return Xe(t,e,o,n),e.child}function Kb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bd(t,e,n,r,o){var i=it(n)?Kr:qe.current;return i=Go(e,i),Ho(e,o),n=Cf(t,e,n,r,i,o),r=Tf(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Nn(t,e,o)):(fe&&r&&pf(e),e.flags|=1,Xe(t,e,n,o),e.child)}function lg(t,e,n,r,o){if(it(n)){var i=!0;El(e)}else i=!1;if(Ho(e,o),e.stateNode===null)Wa(t,e),wb(e,n,r),Rd(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ct(c):(c=it(n)?Kr:qe.current,c=Go(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Zm(e,s,r,c),$n=!1;var f=e.memoizedState;s.state=f,Al(e,r,s,o),l=e.memoizedState,a!==r||f!==l||ot.current||$n?(typeof d=="function"&&(Pd(e,n,d,r),l=e.memoizedState),(a=$n||Qm(e,n,a,r,f,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,vb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:It(e.type,a),s.props=c,u=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ct(l):(l=it(n)?Kr:qe.current,l=Go(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||f!==l)&&Zm(e,s,r,l),$n=!1,f=e.memoizedState,s.state=f,Al(e,r,s,o);var p=e.memoizedState;a!==u||f!==p||ot.current||$n?(typeof y=="function"&&(Pd(e,n,y,r),p=e.memoizedState),(c=$n||Qm(e,n,c,r,f,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Od(t,e,n,r,i,o)}function Od(t,e,n,r,o,i){Kb(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&Km(e,n,!1),Nn(t,e,i);r=e.stateNode,C_.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Xo(e,t.child,null,i),e.child=Xo(e,null,a,i)):Xe(t,e,a,i),e.memoizedState=r.state,o&&Km(e,n,!0),e.child}function Gb(t){var e=t.stateNode;e.pendingContext?qm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qm(t,e.context,!1),kf(t,e.containerInfo)}function cg(t,e,n,r,o){return Yo(),gf(o),e.flags|=256,Xe(t,e,n,r),e.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function jd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yb(t,e,n){var r=e.pendingProps,o=pe.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),ae(pe,o&1),t===null)return Nd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=yc(s,r,0,null),t=Hr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jd(n),e.memoizedState=Md,t):If(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return T_(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=cr(a,i):(i=Hr(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?jd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Md,r}return i=t.child,t=i.sibling,r=cr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function If(t,e){return e=yc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xa(t,e,n,r){return r!==null&&gf(r),Xo(e,t.child,null,n),t=If(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T_(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=vu(Error(L(422))),xa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=yc({mode:"visible",children:r.children},o,0,null),i=Hr(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xo(e,t.child,null,s),e.child.memoizedState=jd(s),e.memoizedState=Md,i);if(!(e.mode&1))return xa(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(L(419)),r=vu(i,r,void 0),xa(t,e,s,r)}if(a=(s&t.childLanes)!==0,nt||a){if(r=Pe,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,An(t,o),jt(r,t,o,-1))}return Mf(),r=vu(Error(L(421))),xa(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=U_.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,ut=ir(o.nextSibling),ht=e,fe=!0,Lt=null,t!==null&&(bt[wt++]=hn,bt[wt++]=fn,bt[wt++]=Gr,hn=t.id,fn=t.overflow,Gr=e),e=If(e,r.children),e.flags|=4096,e)}function ug(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Id(t.return,e,n)}function bu(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Xb(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Xe(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,n,e);else if(t.tag===19)ug(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(pe,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Nl(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),bu(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Nl(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}bu(e,!0,n,null,i);break;case"together":bu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A_(t,e,n){switch(e.tag){case 3:Gb(e),Yo();break;case 5:Eb(e);break;case 1:it(e.type)&&El(e);break;case 4:kf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;ae(Cl,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?Yb(t,e,n):(ae(pe,pe.current&1),t=Nn(t,e,n),t!==null?t.sibling:null);ae(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Xb(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ae(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,qb(t,e,n)}return Nn(t,e,n)}var Jb,Dd,Qb,Zb;Jb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dd=function(){};Qb=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Dr(Xt.current);var i=null;switch(n){case"input":o=sd(t,o),r=sd(t,r),i=[];break;case"select":o=ve({},o,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":o=cd(t,o),r=cd(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xl)}dd(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ls.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ls.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ce("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Zb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ci(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function N_(t,e,n){var r=e.pendingProps;switch(mf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return it(e.type)&&kl(),Ve(e),null;case 3:return r=e.stateNode,Jo(),de(ot),de(qe),Sf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lt!==null&&(qd(Lt),Lt=null))),Dd(t,e),Ve(e),null;case 5:Ef(e);var o=Dr(ws.current);if(n=e.type,t!==null&&e.stateNode!=null)Qb(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return Ve(e),null}if(t=Dr(Xt.current),ba(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qt]=e,r[vs]=i,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(o=0;o<Mi.length;o++)ce(Mi[o],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":bm(r,i),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ce("invalid",r);break;case"textarea":xm(r,i),ce("invalid",r)}dd(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&va(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&va(r.textContent,a,t),o=["children",""+a]):ls.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ce("scroll",r)}switch(n){case"input":ua(r),wm(r,i,!0);break;case"textarea":ua(r),km(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xl)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qt]=e,t[vs]=r,Jb(t,e,!1,!1),e.stateNode=t;e:{switch(s=hd(n,r),n){case"dialog":ce("cancel",t),ce("close",t),o=r;break;case"iframe":case"object":case"embed":ce("load",t),o=r;break;case"video":case"audio":for(o=0;o<Mi.length;o++)ce(Mi[o],t);o=r;break;case"source":ce("error",t),o=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),o=r;break;case"details":ce("toggle",t),o=r;break;case"input":bm(t,r),o=sd(t,r),ce("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ve({},r,{value:void 0}),ce("invalid",t);break;case"textarea":xm(t,r),o=cd(t,r),ce("invalid",t);break;default:o=r}dd(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?N0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&T0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cs(t,l):typeof l=="number"&&cs(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ls.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ce("scroll",t):l!=null&&Zh(t,i,l,s))}switch(n){case"input":ua(t),wm(t,r,!1);break;case"textarea":ua(t),km(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Do(t,!!r.multiple,i,!1):r.defaultValue!=null&&Do(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)Zb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Dr(ws.current),Dr(Xt.current),ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[qt]=e,(i=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:va(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&va(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=e,e.stateNode=r}return Ve(e),null;case 13:if(de(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&ut!==null&&e.mode&1&&!(e.flags&128))gb(),Yo(),e.flags|=98560,i=!1;else if(i=ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(L(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[qt]=e}else Yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),i=!1}else Lt!==null&&(qd(Lt),Lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Ne===0&&(Ne=3):Mf())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return Jo(),Dd(t,e),t===null&&gs(e.stateNode.containerInfo),Ve(e),null;case 10:return bf(e.type._context),Ve(e),null;case 17:return it(e.type)&&kl(),Ve(e),null;case 19:if(de(pe),i=e.memoizedState,i===null)return Ve(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Ci(i,!1);else{if(Ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Nl(t),s!==null){for(e.flags|=128,Ci(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(pe,pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ee()>Zo&&(e.flags|=128,r=!0,Ci(i,!1),e.lanes=4194304)}else{if(!r)if(t=Nl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ci(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!fe)return Ve(e),null}else 2*Ee()-i.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,Ci(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ee(),e.sibling=null,n=pe.current,ae(pe,r?n&1|2:n&1),e):(Ve(e),null);case 22:case 23:return Of(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ct&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function I_(t,e){switch(mf(e),e.tag){case 1:return it(e.type)&&kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jo(),de(ot),de(qe),Sf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ef(e),null;case 13:if(de(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(pe),null;case 4:return Jo(),null;case 10:return bf(e.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var ka=!1,$e=!1,P_=typeof WeakSet=="function"?WeakSet:Set,D=null;function Po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(t,e,r)}else n.current=null}function Fd(t,e,n){try{n()}catch(r){we(t,e,r)}}var dg=!1;function R_(t,e){if(kd=vl,t=rb(),ff(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=t,f=null;t:for(;;){for(var y;u!==n||o!==0&&u.nodeType!==3||(a=s+o),u!==i||r!==0&&u.nodeType!==3||(l=s+r),u.nodeType===3&&(s+=u.nodeValue.length),(y=u.firstChild)!==null;)f=u,u=y;for(;;){if(u===t)break t;if(f===n&&++c===o&&(a=s),f===i&&++d===r&&(l=s),(y=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ed={focusedElem:t,selectionRange:n},vl=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:It(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(x){we(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return p=dg,dg=!1,p}function Ji(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Fd(e,n,i)}o=o.next}while(o!==r)}}function mc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ud(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ew(t){var e=t.alternate;e!==null&&(t.alternate=null,ew(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qt],delete e[vs],delete e[Cd],delete e[p_],delete e[m_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tw(t){return t.tag===5||t.tag===3||t.tag===4}function hg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xl));else if(r!==4&&(t=t.child,t!==null))for(Vd(t,e,n),t=t.sibling;t!==null;)Vd(t,e,n),t=t.sibling}function Hd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hd(t,e,n),t=t.sibling;t!==null;)Hd(t,e,n),t=t.sibling}var Oe=null,Pt=!1;function jn(t,e,n){for(n=n.child;n!==null;)nw(t,e,n),n=n.sibling}function nw(t,e,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:$e||Po(n,e);case 6:var r=Oe,o=Pt;Oe=null,jn(t,e,n),Oe=r,Pt=o,Oe!==null&&(Pt?(t=Oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Pt?(t=Oe,n=n.stateNode,t.nodeType===8?hu(t.parentNode,n):t.nodeType===1&&hu(t,n),fs(t)):hu(Oe,n.stateNode));break;case 4:r=Oe,o=Pt,Oe=n.stateNode.containerInfo,Pt=!0,jn(t,e,n),Oe=r,Pt=o;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Fd(n,e,s),o=o.next}while(o!==r)}jn(t,e,n);break;case 1:if(!$e&&(Po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){we(n,e,a)}jn(t,e,n);break;case 21:jn(t,e,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,jn(t,e,n),$e=r):jn(t,e,n);break;default:jn(t,e,n)}}function fg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P_),e.forEach(function(r){var o=V_.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,Pt=!1;break e;case 3:Oe=a.stateNode.containerInfo,Pt=!0;break e;case 4:Oe=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(Oe===null)throw Error(L(160));nw(i,s,o),Oe=null,Pt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){we(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rw(e,t),e=e.sibling}function rw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Vt(t),r&4){try{Ji(3,t,t.return),mc(3,t)}catch(g){we(t,t.return,g)}try{Ji(5,t,t.return)}catch(g){we(t,t.return,g)}}break;case 1:Nt(e,t),Vt(t),r&512&&n!==null&&Po(n,n.return);break;case 5:if(Nt(e,t),Vt(t),r&512&&n!==null&&Po(n,n.return),t.flags&32){var o=t.stateNode;try{cs(o,"")}catch(g){we(t,t.return,g)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&S0(o,i),hd(a,s);var c=hd(a,i);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];d==="style"?N0(o,u):d==="dangerouslySetInnerHTML"?T0(o,u):d==="children"?cs(o,u):Zh(o,d,u,c)}switch(a){case"input":ad(o,i);break;case"textarea":_0(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Do(o,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Do(o,!!i.multiple,i.defaultValue,!0):Do(o,!!i.multiple,i.multiple?[]:"",!1))}o[vs]=i}catch(g){we(t,t.return,g)}}break;case 6:if(Nt(e,t),Vt(t),r&4){if(t.stateNode===null)throw Error(L(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(g){we(t,t.return,g)}}break;case 3:if(Nt(e,t),Vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fs(e.containerInfo)}catch(g){we(t,t.return,g)}break;case 4:Nt(e,t),Vt(t);break;case 13:Nt(e,t),Vt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Lf=Ee())),r&4&&fg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($e=(c=$e)||d,Nt(e,t),$e=c):Nt(e,t),Vt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(u=D=d;D!==null;){switch(f=D,y=f.child,f.tag){case 0:case 11:case 14:case 15:Ji(4,f,f.return);break;case 1:Po(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){we(r,n,g)}}break;case 5:Po(f,f.return);break;case 22:if(f.memoizedState!==null){mg(u);continue}}y!==null?(y.return=f,D=y):mg(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{o=u.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=A0("display",s))}catch(g){we(t,t.return,g)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){we(t,t.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Nt(e,t),Vt(t),r&4&&fg(t);break;case 21:break;default:Nt(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tw(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(cs(o,""),r.flags&=-33);var i=hg(t);Hd(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=hg(t);Vd(t,a,s);break;default:throw Error(L(161))}}catch(l){we(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L_(t,e,n){D=t,ow(t)}function ow(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var o=D,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ka;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||$e;a=ka;var c=$e;if(ka=s,($e=l)&&!c)for(D=o;D!==null;)s=D,l=s.child,s.tag===22&&s.memoizedState!==null?gg(o):l!==null?(l.return=s,D=l):gg(o);for(;i!==null;)D=i,ow(i),i=i.sibling;D=o,ka=a,$e=c}pg(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,D=i):pg(t)}}function pg(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||mc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$e)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:It(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jm(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jm(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&fs(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}$e||e.flags&512&&Ud(e)}catch(f){we(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function mg(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function gg(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mc(4,e)}catch(l){we(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){we(e,o,l)}}var i=e.return;try{Ud(e)}catch(l){we(e,i,l)}break;case 5:var s=e.return;try{Ud(e)}catch(l){we(e,s,l)}}}catch(l){we(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var B_=Math.ceil,Rl=Ln.ReactCurrentDispatcher,Pf=Ln.ReactCurrentOwner,Et=Ln.ReactCurrentBatchConfig,Z=0,Pe=null,Se=null,je=0,ct=0,Ro=kr(0),Ne=0,Ss=null,Xr=0,gc=0,Rf=0,Qi=null,tt=null,Lf=0,Zo=1/0,ln=null,Ll=!1,$d=null,ar=null,Ea=!1,er=null,Bl=0,Zi=0,zd=null,qa=-1,Ka=0;function Je(){return Z&6?Ee():qa!==-1?qa:qa=Ee()}function lr(t){return t.mode&1?Z&2&&je!==0?je&-je:y_.transition!==null?(Ka===0&&(Ka=V0()),Ka):(t=oe,t!==0||(t=window.event,t=t===void 0?16:G0(t.type)),t):1}function jt(t,e,n,r){if(50<Zi)throw Zi=0,zd=null,Error(L(185));Fs(t,n,r),(!(Z&2)||t!==Pe)&&(t===Pe&&(!(Z&2)&&(gc|=n),Ne===4&&Kn(t,je)),st(t,r),n===1&&Z===0&&!(e.mode&1)&&(Zo=Ee()+500,hc&&Er()))}function st(t,e){var n=t.callbackNode;yS(t,e);var r=yl(t,t===Pe?je:0);if(r===0)n!==null&&_m(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_m(n),e===1)t.tag===0?g_(yg.bind(null,t)):fb(yg.bind(null,t)),h_(function(){!(Z&6)&&Er()}),n=null;else{switch(H0(r)){case 1:n=of;break;case 4:n=F0;break;case 16:n=gl;break;case 536870912:n=U0;break;default:n=gl}n=hw(n,iw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iw(t,e){if(qa=-1,Ka=0,Z&6)throw Error(L(327));var n=t.callbackNode;if($o()&&t.callbackNode!==n)return null;var r=yl(t,t===Pe?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ol(t,r);else{e=r;var o=Z;Z|=2;var i=aw();(Pe!==t||je!==e)&&(ln=null,Zo=Ee()+500,Vr(t,e));do try{j_();break}catch(a){sw(t,a)}while(!0);vf(),Rl.current=i,Z=o,Se!==null?e=0:(Pe=null,je=0,e=Ne)}if(e!==0){if(e===2&&(o=yd(t),o!==0&&(r=o,e=Wd(t,o))),e===1)throw n=Ss,Vr(t,0),Kn(t,r),st(t,Ee()),n;if(e===6)Kn(t,r);else{if(o=t.current.alternate,!(r&30)&&!O_(o)&&(e=Ol(t,r),e===2&&(i=yd(t),i!==0&&(r=i,e=Wd(t,i))),e===1))throw n=Ss,Vr(t,0),Kn(t,r),st(t,Ee()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Ir(t,tt,ln);break;case 3:if(Kn(t,r),(r&130023424)===r&&(e=Lf+500-Ee(),10<e)){if(yl(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Je(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=_d(Ir.bind(null,t,tt,ln),e);break}Ir(t,tt,ln);break;case 4:if(Kn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-Mt(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B_(r/1960))-r,10<r){t.timeoutHandle=_d(Ir.bind(null,t,tt,ln),r);break}Ir(t,tt,ln);break;case 5:Ir(t,tt,ln);break;default:throw Error(L(329))}}}return st(t,Ee()),t.callbackNode===n?iw.bind(null,t):null}function Wd(t,e){var n=Qi;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=Ol(t,e),t!==2&&(e=tt,tt=n,e!==null&&qd(e)),t}function qd(t){tt===null?tt=t:tt.push.apply(tt,t)}function O_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ft(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kn(t,e){for(e&=~Rf,e&=~gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mt(e),r=1<<n;t[n]=-1,e&=~r}}function yg(t){if(Z&6)throw Error(L(327));$o();var e=yl(t,0);if(!(e&1))return st(t,Ee()),null;var n=Ol(t,e);if(t.tag!==0&&n===2){var r=yd(t);r!==0&&(e=r,n=Wd(t,r))}if(n===1)throw n=Ss,Vr(t,0),Kn(t,e),st(t,Ee()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ir(t,tt,ln),st(t,Ee()),null}function Bf(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(Zo=Ee()+500,hc&&Er())}}function Jr(t){er!==null&&er.tag===0&&!(Z&6)&&$o();var e=Z;Z|=1;var n=Et.transition,r=oe;try{if(Et.transition=null,oe=1,t)return t()}finally{oe=r,Et.transition=n,Z=e,!(Z&6)&&Er()}}function Of(){ct=Ro.current,de(Ro)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d_(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(mf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:Jo(),de(ot),de(qe),Sf();break;case 5:Ef(r);break;case 4:Jo();break;case 13:de(pe);break;case 19:de(pe);break;case 10:bf(r.type._context);break;case 22:case 23:Of()}n=n.return}if(Pe=t,Se=t=cr(t.current,null),je=ct=e,Ne=0,Ss=null,Rf=gc=Xr=0,tt=Qi=null,jr!==null){for(e=0;e<jr.length;e++)if(n=jr[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}jr=null}return t}function sw(t,e){do{var n=Se;try{if(vf(),$a.current=Pl,Il){for(var r=ge.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Il=!1}if(Yr=0,Ie=Ae=ge=null,Xi=!1,xs=0,Pf.current=null,n===null||n.return===null){Ne=1,Ss=e,Se=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=og(s);if(y!==null){y.flags&=-257,ig(y,s,a,i,e),y.mode&1&&rg(i,c,e),e=y,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){rg(i,c,e),Mf();break e}l=Error(L(426))}}else if(fe&&a.mode&1){var w=og(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ig(w,s,a,i,e),gf(Qo(l,a));break e}}i=l=Qo(l,a),Ne!==4&&(Ne=2),Qi===null?Qi=[i]:Qi.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=$b(i,l,e);Xm(i,v);break e;case 1:a=l;var m=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ar===null||!ar.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=zb(i,a,e);Xm(i,x);break e}}i=i.return}while(i!==null)}cw(n)}catch(E){e=E,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function aw(){var t=Rl.current;return Rl.current=Pl,t===null?Pl:t}function Mf(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Pe===null||!(Xr&268435455)&&!(gc&268435455)||Kn(Pe,je)}function Ol(t,e){var n=Z;Z|=2;var r=aw();(Pe!==t||je!==e)&&(ln=null,Vr(t,e));do try{M_();break}catch(o){sw(t,o)}while(!0);if(vf(),Z=n,Rl.current=r,Se!==null)throw Error(L(261));return Pe=null,je=0,Ne}function M_(){for(;Se!==null;)lw(Se)}function j_(){for(;Se!==null&&!lS();)lw(Se)}function lw(t){var e=dw(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?cw(t):Se=e,Pf.current=null}function cw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=I_(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ne=6,Se=null;return}}else if(n=N_(n,e,ct),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Ne===0&&(Ne=5)}function Ir(t,e,n){var r=oe,o=Et.transition;try{Et.transition=null,oe=1,D_(t,e,n,r)}finally{Et.transition=o,oe=r}return null}function D_(t,e,n,r){do $o();while(er!==null);if(Z&6)throw Error(L(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(vS(t,i),t===Pe&&(Se=Pe=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ea||(Ea=!0,hw(gl,function(){return $o(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var s=oe;oe=1;var a=Z;Z|=4,Pf.current=null,R_(t,n),rw(n,t),o_(Ed),vl=!!kd,Ed=kd=null,t.current=n,L_(n),cS(),Z=a,oe=s,Et.transition=i}else t.current=n;if(Ea&&(Ea=!1,er=t,Bl=o),i=t.pendingLanes,i===0&&(ar=null),hS(n.stateNode),st(t,Ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ll)throw Ll=!1,t=$d,$d=null,t;return Bl&1&&t.tag!==0&&$o(),i=t.pendingLanes,i&1?t===zd?Zi++:(Zi=0,zd=t):Zi=0,Er(),null}function $o(){if(er!==null){var t=H0(Bl),e=Et.transition,n=oe;try{if(Et.transition=null,oe=16>t?16:t,er===null)var r=!1;else{if(t=er,er=null,Bl=0,Z&6)throw Error(L(331));var o=Z;for(Z|=4,D=t.current;D!==null;){var i=D,s=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ji(8,d,i)}var u=d.child;if(u!==null)u.return=d,D=u;else for(;D!==null;){d=D;var f=d.sibling,y=d.return;if(ew(d),d===c){D=null;break}if(f!==null){f.return=y,D=f;break}D=y}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}D=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,D=s;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ji(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,D=v;break e}D=i.return}}var m=t.current;for(D=m;D!==null;){s=D;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,D=b;else e:for(s=m;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mc(9,a)}}catch(E){we(a,a.return,E)}if(a===s){D=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,D=x;break e}D=a.return}}if(Z=o,Er(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ac,t)}catch{}r=!0}return r}finally{oe=n,Et.transition=e}}return!1}function vg(t,e,n){e=Qo(n,e),e=$b(t,e,1),t=sr(t,e,1),e=Je(),t!==null&&(Fs(t,1,e),st(t,e))}function we(t,e,n){if(t.tag===3)vg(t,t,n);else for(;e!==null;){if(e.tag===3){vg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){t=Qo(n,t),t=zb(e,t,1),e=sr(e,t,1),t=Je(),e!==null&&(Fs(e,1,t),st(e,t));break}}e=e.return}}function F_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&n,Pe===t&&(je&n)===n&&(Ne===4||Ne===3&&(je&130023424)===je&&500>Ee()-Lf?Vr(t,0):Rf|=n),st(t,e)}function uw(t,e){e===0&&(t.mode&1?(e=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):e=1);var n=Je();t=An(t,e),t!==null&&(Fs(t,e,n),st(t,n))}function U_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uw(t,n)}function V_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),uw(t,n)}var dw;dw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nt=!1,A_(t,e,n);nt=!!(t.flags&131072)}else nt=!1,fe&&e.flags&1048576&&pb(e,_l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wa(t,e),t=e.pendingProps;var o=Go(e,qe.current);Ho(e,n),o=Cf(null,e,r,t,o,n);var i=Tf();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(r)?(i=!0,El(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,xf(e),o.updater=fc,e.stateNode=o,o._reactInternals=e,Rd(e,r,t,n),e=Od(null,e,r,!0,i,n)):(e.tag=0,fe&&i&&pf(e),Xe(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wa(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=$_(r),t=It(r,t),o){case 0:e=Bd(null,e,r,t,n);break e;case 1:e=lg(null,e,r,t,n);break e;case 11:e=sg(null,e,r,t,n);break e;case 14:e=ag(null,e,r,It(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:It(r,o),Bd(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:It(r,o),lg(t,e,r,o,n);case 3:e:{if(Gb(e),t===null)throw Error(L(387));r=e.pendingProps,i=e.memoizedState,o=i.element,vb(t,e),Al(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Qo(Error(L(423)),e),e=cg(t,e,r,n,o);break e}else if(r!==o){o=Qo(Error(L(424)),e),e=cg(t,e,r,n,o);break e}else for(ut=ir(e.stateNode.containerInfo.firstChild),ht=e,fe=!0,Lt=null,n=kb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yo(),r===o){e=Nn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return Eb(e),t===null&&Nd(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,Sd(r,o)?s=null:i!==null&&Sd(r,i)&&(e.flags|=32),Kb(t,e),Xe(t,e,s,n),e.child;case 6:return t===null&&Nd(e),null;case 13:return Yb(t,e,n);case 4:return kf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xo(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:It(r,o),sg(t,e,r,o,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,ae(Cl,r._currentValue),r._currentValue=s,i!==null)if(Ft(i.value,s)){if(i.children===o.children&&!ot.current){e=Nn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=wn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Id(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(L(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Id(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Xe(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Ho(e,n),o=Ct(o),r=r(o),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,o=It(r,e.pendingProps),o=It(r.type,o),ag(t,e,r,o,n);case 15:return Wb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:It(r,o),Wa(t,e),e.tag=1,it(r)?(t=!0,El(e)):t=!1,Ho(e,n),wb(e,r,o),Rd(e,r,o,n),Od(null,e,r,!0,t,n);case 19:return Xb(t,e,n);case 22:return qb(t,e,n)}throw Error(L(156,e.tag))};function hw(t,e){return D0(t,e)}function H_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,e,n,r){return new H_(t,e,n,r)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $_(t){if(typeof t=="function")return jf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tf)return 11;if(t===nf)return 14}return 2}function cr(t,e){var n=t.alternate;return n===null?(n=kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ga(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")jf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ko:return Hr(n.children,o,i,e);case ef:s=8,o|=8;break;case nd:return t=kt(12,n,e,o|2),t.elementType=nd,t.lanes=i,t;case rd:return t=kt(13,n,e,o),t.elementType=rd,t.lanes=i,t;case od:return t=kt(19,n,e,o),t.elementType=od,t.lanes=i,t;case x0:return yc(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b0:s=10;break e;case w0:s=9;break e;case tf:s=11;break e;case nf:s=14;break e;case Hn:s=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=kt(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Hr(t,e,n,r){return t=kt(7,t,r,e),t.lanes=n,t}function yc(t,e,n,r){return t=kt(22,t,r,e),t.elementType=x0,t.lanes=n,t.stateNode={isHidden:!1},t}function wu(t,e,n){return t=kt(6,t,null,e),t.lanes=n,t}function xu(t,e,n){return e=kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z_(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Df(t,e,n,r,o,i,s,a,l){return t=new z_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(i),t}function W_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fw(t){if(!t)return gr;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(it(n))return hb(t,n,e)}return e}function pw(t,e,n,r,o,i,s,a,l){return t=Df(n,r,!0,t,o,i,s,a,l),t.context=fw(null),n=t.current,r=Je(),o=lr(n),i=wn(r,o),i.callback=e??null,sr(n,i,o),t.current.lanes=o,Fs(t,o,r),st(t,r),t}function vc(t,e,n,r){var o=e.current,i=Je(),s=lr(o);return n=fw(n),e.context===null?e.context=n:e.pendingContext=n,e=wn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sr(o,e,s),t!==null&&(jt(t,o,s,i),Ha(t,o,s)),s}function Ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ff(t,e){bg(t,e),(t=t.alternate)&&bg(t,e)}function q_(){return null}var mw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uf(t){this._internalRoot=t}bc.prototype.render=Uf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));vc(t,e,null,null)};bc.prototype.unmount=Uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jr(function(){vc(null,t,null,null)}),e[Tn]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var e=W0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qn.length&&e!==0&&e<qn[n].priority;n++);qn.splice(n,0,t),n===0&&K0(t)}};function Vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wg(){}function K_(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=Ml(s);i.call(c)}}var s=pw(e,r,t,0,null,!1,!1,"",wg);return t._reactRootContainer=s,t[Tn]=s.current,gs(t.nodeType===8?t.parentNode:t),Jr(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Ml(l);a.call(c)}}var l=Df(t,0,!1,null,null,!1,!1,"",wg);return t._reactRootContainer=l,t[Tn]=l.current,gs(t.nodeType===8?t.parentNode:t),Jr(function(){vc(e,l,n,r)}),l}function xc(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=Ml(s);a.call(l)}}vc(e,s,t,o)}else s=K_(n,e,t,o,r);return Ml(s)}$0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oi(e.pendingLanes);n!==0&&(sf(e,n|1),st(e,Ee()),!(Z&6)&&(Zo=Ee()+500,Er()))}break;case 13:Jr(function(){var r=An(t,1);if(r!==null){var o=Je();jt(r,t,1,o)}}),Ff(t,1)}};af=function(t){if(t.tag===13){var e=An(t,134217728);if(e!==null){var n=Je();jt(e,t,134217728,n)}Ff(t,134217728)}};z0=function(t){if(t.tag===13){var e=lr(t),n=An(t,e);if(n!==null){var r=Je();jt(n,t,e,r)}Ff(t,e)}};W0=function(){return oe};q0=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};pd=function(t,e,n){switch(e){case"input":if(ad(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=dc(r);if(!o)throw Error(L(90));E0(r),ad(r,o)}}}break;case"textarea":_0(t,n);break;case"select":e=n.value,e!=null&&Do(t,!!n.multiple,e,!1)}};R0=Bf;L0=Jr;var G_={usingClientEntryPoint:!1,Events:[Vs,Co,dc,I0,P0,Bf]},Ti={findFiberByHostInstance:Mr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Y_={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||q_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sa.isDisabled&&Sa.supportsFiber)try{ac=Sa.inject(Y_),Yt=Sa}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G_;mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(e))throw Error(L(200));return W_(t,e,null,n)};mt.createRoot=function(t,e){if(!Vf(t))throw Error(L(299));var n=!1,r="",o=mw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Df(t,1,!1,null,null,n,!1,r,o),t[Tn]=e.current,gs(t.nodeType===8?t.parentNode:t),new Uf(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=M0(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return Jr(t)};mt.hydrate=function(t,e,n){if(!wc(e))throw Error(L(200));return xc(null,t,e,!0,n)};mt.hydrateRoot=function(t,e,n){if(!Vf(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=mw;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=pw(e,null,t,1,n??null,o,!1,i,s),t[Tn]=e.current,gs(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new bc(e)};mt.render=function(t,e,n){if(!wc(e))throw Error(L(200));return xc(null,t,e,!1,n)};mt.unmountComponentAtNode=function(t){if(!wc(t))throw Error(L(40));return t._reactRootContainer?(Jr(function(){xc(null,null,t,!1,function(){t._reactRootContainer=null,t[Tn]=null})}),!0):!1};mt.unstable_batchedUpdates=Bf;mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wc(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return xc(t,e,n,!1,r)};mt.version="18.2.0-next-9e3b772b8-20220608";function gw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gw)}catch(t){console.error(t)}}gw(),p0.exports=mt;var X_=p0.exports,xg=X_;ed.createRoot=xg.createRoot,ed.hydrateRoot=xg.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_s.apply(this,arguments)}var tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tr||(tr={}));const kg="popstate";function J_(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return Kd("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:jl(o)}return Z_(e,n,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q_(){return Math.random().toString(36).substr(2,8)}function Eg(t,e){return{usr:t.state,key:t.key,idx:e}}function Kd(t,e,n,r){return n===void 0&&(n=null),_s({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ui(e):e,{state:n,key:e&&e.key||r||Q_()})}function jl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ui(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z_(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=tr.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(_s({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function u(){a=tr.Pop;let w=d(),v=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:v})}function f(w,v){a=tr.Push;let m=Kd(g.location,w,v);n&&n(m,w),c=d()+1;let b=Eg(m,c),x=g.createHref(m);try{s.pushState(b,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(x)}i&&l&&l({action:a,location:g.location,delta:1})}function y(w,v){a=tr.Replace;let m=Kd(g.location,w,v);n&&n(m,w),c=d();let b=Eg(m,c),x=g.createHref(m);s.replaceState(b,"",x),i&&l&&l({action:a,location:g.location,delta:0})}function p(w){let v=o.location.origin!=="null"?o.location.origin:o.location.href,m=typeof w=="string"?w:jl(w);return m=m.replace(/ $/,"%20"),ye(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let g={get action(){return a},get location(){return t(o,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(kg,u),l=w,()=>{o.removeEventListener(kg,u),l=null}},createHref(w){return e(o,w)},createURL:p,encodeLocation(w){let v=p(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:y,go(w){return s.go(w)}};return g}var Sg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sg||(Sg={}));function eC(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ui(e):e,o=ei(r.pathname||"/",n);if(o==null)return null;let i=vw(t);tC(i);let s=null;for(let a=0;s==null&&a<i.length;++a){let l=hC(o);s=uC(i[a],l)}return s}function vw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ur([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vw(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:lC(c,i.index),routesMeta:d})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of bw(i.path))o(i,s,l)}),e}function bw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=bw(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nC=/^:[\w-]+$/,rC=3,oC=2,iC=1,sC=10,aC=-2,_g=t=>t==="*";function lC(t,e){let n=t.split("/"),r=n.length;return n.some(_g)&&(r+=aC),e&&(r+=oC),n.filter(o=>!_g(o)).reduce((o,i)=>o+(nC.test(i)?rC:i===""?iC:sC),r)}function cC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function uC(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=Gd({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let u=a.route;i.push({params:r,pathname:ur([o,d.pathname]),pathnameBase:gC(ur([o,d.pathnameBase])),route:u}),d.pathnameBase!=="/"&&(o=ur([o,d.pathnameBase]))}return i}function Gd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,d,u)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let g=a[u]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[u];return y&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function dC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function hC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ui(t):t;return{pathname:n?n.startsWith("/")?n:pC(n,e):e,search:yC(r),hash:vC(o)}}function pC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ku(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hf(t,e){let n=mC(t);return e?n.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $f(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=ui(t):(o=_s({},t),ye(!o.pathname||!o.pathname.includes("?"),ku("?","pathname","search",o)),ye(!o.pathname||!o.pathname.includes("#"),ku("#","pathname","hash",o)),ye(!o.search||!o.search.includes("#"),ku("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let u=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),u-=1;o.pathname=f.join("/")}a=u>=0?e[u]:"/"}let l=fC(o,a),c=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ur=t=>t.join("/").replace(/\/\/+/g,"/"),gC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ww=["post","put","patch","delete"];new Set(ww);const wC=["get",...ww];new Set(wC);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(this,arguments)}const kc=k.createContext(null),xw=k.createContext(null),Bn=k.createContext(null),Ec=k.createContext(null),rn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),kw=k.createContext(null);function xC(t,e){let{relative:n}=e===void 0?{}:e;di()||ye(!1);let{basename:r,navigator:o}=k.useContext(Bn),{hash:i,pathname:s,search:a}=Sc(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ur([r,s])),o.createHref({pathname:l,search:a,hash:i})}function di(){return k.useContext(Ec)!=null}function ao(){return di()||ye(!1),k.useContext(Ec).location}function Ew(t){k.useContext(Bn).static||k.useLayoutEffect(t)}function Ut(){let{isDataRoute:t}=k.useContext(rn);return t?MC():kC()}function kC(){di()||ye(!1);let t=k.useContext(kc),{basename:e,future:n,navigator:r}=k.useContext(Bn),{matches:o}=k.useContext(rn),{pathname:i}=ao(),s=JSON.stringify(Hf(o,n.v7_relativeSplatPath)),a=k.useRef(!1);return Ew(()=>{a.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let u=$f(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ur([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,s,i,t])}const EC=k.createContext(null);function SC(t){let e=k.useContext(rn).outlet;return e&&k.createElement(EC.Provider,{value:t},e)}function hi(){let{matches:t}=k.useContext(rn),e=t[t.length-1];return e?e.params:{}}function Sc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Bn),{matches:o}=k.useContext(rn),{pathname:i}=ao(),s=JSON.stringify(Hf(o,r.v7_relativeSplatPath));return k.useMemo(()=>$f(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function _C(t,e){return CC(t,e)}function CC(t,e,n,r){di()||ye(!1);let{navigator:o}=k.useContext(Bn),{matches:i}=k.useContext(rn),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=ao(),d;if(e){var u;let w=typeof e=="string"?ui(e):e;l==="/"||(u=w.pathname)!=null&&u.startsWith(l)||ye(!1),d=w}else d=c;let f=d.pathname||"/",y=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=eC(t,{pathname:y}),g=PC(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ur([l,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ur([l,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?k.createElement(Ec.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:tr.Pop}},g):g}function TC(){let t=OC(),e=bC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,null)}const AC=k.createElement(TC,null);class NC extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(rn.Provider,{value:this.props.routeContext},k.createElement(kw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IC(t){let{routeContext:e,match:n,children:r}=t,o=k.useContext(kc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(rn.Provider,{value:e},r)}function PC(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let d=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));d>=0||ye(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let u=s[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:y}=n,p=u.route.loader&&f[u.route.id]===void 0&&(!y||y[u.route.id]===void 0);if(u.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,u,f)=>{let y,p=!1,g=null,w=null;n&&(y=a&&u.route.id?a[u.route.id]:void 0,g=u.route.errorElement||AC,l&&(c<0&&f===0?(jC("route-fallback",!1),p=!0,w=null):c===f&&(p=!0,w=u.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,f+1)),m=()=>{let b;return y?b=g:p?b=w:u.route.Component?b=k.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=d,k.createElement(IC,{match:u,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?k.createElement(NC,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Sw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sw||{}),Dl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dl||{});function RC(t){let e=k.useContext(kc);return e||ye(!1),e}function LC(t){let e=k.useContext(xw);return e||ye(!1),e}function BC(t){let e=k.useContext(rn);return e||ye(!1),e}function _w(t){let e=BC(),n=e.matches[e.matches.length-1];return n.route.id||ye(!1),n.route.id}function OC(){var t;let e=k.useContext(kw),n=LC(Dl.UseRouteError),r=_w(Dl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MC(){let{router:t}=RC(Sw.UseNavigateStable),e=_w(Dl.UseNavigateStable),n=k.useRef(!1);return Ew(()=>{n.current=!0}),k.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Cs({fromRouteId:e},i)))},[t,e])}const Cg={};function jC(t,e,n){!e&&!Cg[t]&&(Cg[t]=!0)}function zf(t){let{to:e,replace:n,state:r,relative:o}=t;di()||ye(!1);let{future:i,static:s}=k.useContext(Bn),{matches:a}=k.useContext(rn),{pathname:l}=ao(),c=Ut(),d=$f(e,Hf(a,i.v7_relativeSplatPath),l,o==="path"),u=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(u),{replace:n,state:r,relative:o}),[c,u,o,n,r]),null}function Cw(t){return SC(t.context)}function Ce(t){ye(!1)}function DC(t){let{basename:e="/",children:n=null,location:r,navigationType:o=tr.Pop,navigator:i,static:s=!1,future:a}=t;di()&&ye(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:s,future:Cs({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=ui(r));let{pathname:d="/",search:u="",hash:f="",state:y=null,key:p="default"}=r,g=k.useMemo(()=>{let w=ei(d,l);return w==null?null:{location:{pathname:w,search:u,hash:f,state:y,key:p},navigationType:o}},[l,d,u,f,y,p,o]);return g==null?null:k.createElement(Bn.Provider,{value:c},k.createElement(Ec.Provider,{children:n,value:g}))}function FC(t){let{children:e,location:n}=t;return _C(Yd(e),n)}new Promise(()=>{});function Yd(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,o)=>{if(!k.isValidElement(r))return;let i=[...e,o];if(r.type===k.Fragment){n.push.apply(n,Yd(r.props.children,i));return}r.type!==Ce&&ye(!1),!r.props.index||!r.props.children||ye(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Yd(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}function Tw(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function UC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VC(t,e){return t.button===0&&(!e||e==="_self")&&!UC(t)}function Xd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function HC(t,e){let n=Xd(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(i=>{n.append(o,i)})}),n}const $C=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],zC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],WC="6";try{window.__reactRouterVersion=WC}catch{}const qC=k.createContext({isTransitioning:!1}),KC="startTransition",Tg=UE[KC];function GC(t){let{basename:e,children:n,future:r,window:o}=t,i=k.useRef();i.current==null&&(i.current=J_({window:o,v5Compat:!0}));let s=i.current,[a,l]=k.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=k.useCallback(u=>{c&&Tg?Tg(()=>l(u)):l(u)},[l,c]);return k.useLayoutEffect(()=>s.listen(d),[s,d]),k.createElement(DC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=k.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:u}=e,f=Tw(e,$C),{basename:y}=k.useContext(Bn),p,g=!1;if(typeof c=="string"&&XC.test(c)&&(p=c,YC))try{let b=new URL(window.location.href),x=c.startsWith("//")?new URL(b.protocol+c):new URL(c),E=ei(x.pathname,y);x.origin===b.origin&&E!=null?c=E+x.search+x.hash:g=!0}catch{}let w=xC(c,{relative:o}),v=QC(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:o,unstable_viewTransition:u});function m(b){r&&r(b),b.defaultPrevented||v(b)}return k.createElement("a",Fl({},f,{href:p||w,onClick:g||i?r:m,ref:n,target:l}))}),Ai=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:s=!1,style:a,to:l,unstable_viewTransition:c,children:d}=e,u=Tw(e,zC),f=Sc(l,{relative:u.relative}),y=ao(),p=k.useContext(xw),{navigator:g,basename:w}=k.useContext(Bn),v=p!=null&&eT(f)&&c===!0,m=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=y.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;o||(b=b.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase()),x&&w&&(x=ei(x,w)||x);const E=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let C=b===m||!s&&b.startsWith(m)&&b.charAt(E)==="/",A=x!=null&&(x===m||!s&&x.startsWith(m)&&x.charAt(m.length)==="/"),S={isActive:C,isPending:A,isTransitioning:v},_=C?r:void 0,T;typeof i=="function"?T=i(S):T=[i,C?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(S):a;return k.createElement(ne,Fl({},u,{"aria-current":_,className:T,ref:n,style:R,to:l,unstable_viewTransition:c}),typeof d=="function"?d(S):d)});var Jd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jd||(Jd={}));var Ag;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ag||(Ag={}));function JC(t){let e=k.useContext(kc);return e||ye(!1),e}function QC(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Ut(),c=ao(),d=Sc(t,{relative:s});return k.useCallback(u=>{if(VC(u,n)){u.preventDefault();let f=r!==void 0?r:jl(c)===jl(d);l(t,{replace:f,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:a})}},[c,l,d,r,o,n,t,i,s,a])}function ZC(t){let e=k.useRef(Xd(t)),n=k.useRef(!1),r=ao(),o=k.useMemo(()=>HC(r.search,n.current?null:e.current),[r.search]),i=Ut(),s=k.useCallback((a,l)=>{const c=Xd(typeof a=="function"?a(o):a);n.current=!0,i("?"+c,l)},[i,o]);return[o,s]}function eT(t,e){e===void 0&&(e={});let n=k.useContext(qC);n==null&&ye(!1);let{basename:r}=JC(Jd.useViewTransitionState),o=Sc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gd(o.pathname,s)!=null||Gd(o.pathname,i)!=null}const Qd=(t,e)=>sessionStorage.setItem(t,e),Aw=t=>sessionStorage.getItem(t),tT=t=>sessionStorage.removeItem(t),nT=()=>{sessionStorage.clear()};function Nw(t,e){return function(){return t.apply(e,arguments)}}const{toString:rT}=Object.prototype,{getPrototypeOf:Wf}=Object,_c=(t=>e=>{const n=rT.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),on=t=>(t=t.toLowerCase(),e=>_c(e)===t),Cc=t=>e=>typeof e===t,{isArray:fi}=Array,Ts=Cc("undefined");function oT(t){return t!==null&&!Ts(t)&&t.constructor!==null&&!Ts(t.constructor)&&St(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Iw=on("ArrayBuffer");function iT(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Iw(t.buffer),e}const sT=Cc("string"),St=Cc("function"),Pw=Cc("number"),Tc=t=>t!==null&&typeof t=="object",aT=t=>t===!0||t===!1,Ya=t=>{if(_c(t)!=="object")return!1;const e=Wf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lT=on("Date"),cT=on("File"),uT=on("Blob"),dT=on("FileList"),hT=t=>Tc(t)&&St(t.pipe),fT=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||St(t.append)&&((e=_c(t))==="formdata"||e==="object"&&St(t.toString)&&t.toString()==="[object FormData]"))},pT=on("URLSearchParams"),mT=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $s(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),fi(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function Rw(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Lw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bw=t=>!Ts(t)&&t!==Lw;function Zd(){const{caseless:t}=Bw(this)&&this||{},e={},n=(r,o)=>{const i=t&&Rw(e,o)||o;Ya(e[i])&&Ya(r)?e[i]=Zd(e[i],r):Ya(r)?e[i]=Zd({},r):fi(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&$s(arguments[r],n);return e}const gT=(t,e,n,{allOwnKeys:r}={})=>($s(e,(o,i)=>{n&&St(o)?t[i]=Nw(o,n):t[i]=o},{allOwnKeys:r}),t),yT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),vT=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},bT=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Wf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},wT=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},xT=t=>{if(!t)return null;if(fi(t))return t;let e=t.length;if(!Pw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},kT=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Wf(Uint8Array)),ET=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},ST=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},_T=on("HTMLFormElement"),CT=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Ng=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),TT=on("RegExp"),Ow=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};$s(n,(o,i)=>{let s;(s=e(o,i,t))!==!1&&(r[i]=s||o)}),Object.defineProperties(t,r)},AT=t=>{Ow(t,(e,n)=>{if(St(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(St(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NT=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return fi(t)?r(t):r(String(t).split(e)),n},IT=()=>{},PT=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Eu="abcdefghijklmnopqrstuvwxyz",Ig="0123456789",Mw={DIGIT:Ig,ALPHA:Eu,ALPHA_DIGIT:Eu+Eu.toUpperCase()+Ig},RT=(t=16,e=Mw.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function LT(t){return!!(t&&St(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const BT=t=>{const e=new Array(10),n=(r,o)=>{if(Tc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=fi(r)?[]:{};return $s(r,(s,a)=>{const l=n(s,o+1);!Ts(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},OT=on("AsyncFunction"),MT=t=>t&&(Tc(t)||St(t))&&St(t.then)&&St(t.catch),P={isArray:fi,isArrayBuffer:Iw,isBuffer:oT,isFormData:fT,isArrayBufferView:iT,isString:sT,isNumber:Pw,isBoolean:aT,isObject:Tc,isPlainObject:Ya,isUndefined:Ts,isDate:lT,isFile:cT,isBlob:uT,isRegExp:TT,isFunction:St,isStream:hT,isURLSearchParams:pT,isTypedArray:kT,isFileList:dT,forEach:$s,merge:Zd,extend:gT,trim:mT,stripBOM:yT,inherits:vT,toFlatObject:bT,kindOf:_c,kindOfTest:on,endsWith:wT,toArray:xT,forEachEntry:ET,matchAll:ST,isHTMLForm:_T,hasOwnProperty:Ng,hasOwnProp:Ng,reduceDescriptors:Ow,freezeMethods:AT,toObjectSet:NT,toCamelCase:CT,noop:IT,toFiniteNumber:PT,findKey:Rw,global:Lw,isContextDefined:Bw,ALPHABET:Mw,generateString:RT,isSpecCompliantForm:LT,toJSONObject:BT,isAsyncFn:OT,isThenable:MT};function Q(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}P.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jw=Q.prototype,Dw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Dw[t]={value:t}});Object.defineProperties(Q,Dw);Object.defineProperty(jw,"isAxiosError",{value:!0});Q.from=(t,e,n,r,o,i)=>{const s=Object.create(jw);return P.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Q.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const jT=null;function eh(t){return P.isPlainObject(t)||P.isArray(t)}function Fw(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function Pg(t,e,n){return t?t.concat(e).map(function(o,i){return o=Fw(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function DT(t){return P.isArray(t)&&!t.some(eh)}const FT=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Ac(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!P.isUndefined(w[g])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(o))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(P.isDate(p))return p.toISOString();if(!l&&P.isBlob(p))throw new Q("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(p)||P.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,w){let v=p;if(p&&!w&&typeof p=="object"){if(P.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(P.isArray(p)&&DT(p)||(P.isFileList(p)||P.endsWith(g,"[]"))&&(v=P.toArray(p)))return g=Fw(g),v.forEach(function(b,x){!(P.isUndefined(b)||b===null)&&e.append(s===!0?Pg([g],x,i):s===null?g:g+"[]",c(b))}),!1}return eh(p)?!0:(e.append(Pg(w,g,i),c(p)),!1)}const u=[],f=Object.assign(FT,{defaultVisitor:d,convertValue:c,isVisitable:eh});function y(p,g){if(!P.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(p),P.forEach(p,function(v,m){(!(P.isUndefined(v)||v===null)&&o.call(e,v,P.isString(m)?m.trim():m,g,f))===!0&&y(v,g?g.concat(m):[m])}),u.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return y(t),e}function Rg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function qf(t,e){this._pairs=[],t&&Ac(t,this,e)}const Uw=qf.prototype;Uw.append=function(e,n){this._pairs.push([e,n])};Uw.toString=function(e){const n=e?function(r){return e.call(this,r,Rg)}:Rg;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function UT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vw(t,e,n){if(!e)return t;const r=n&&n.encode||UT,o=n&&n.serialize;let i;if(o?i=o(e,n):i=P.isURLSearchParams(e)?e.toString():new qf(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Lg{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Hw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VT=typeof URLSearchParams<"u"?URLSearchParams:qf,HT=typeof FormData<"u"?FormData:null,$T=typeof Blob<"u"?Blob:null,zT={isBrowser:!0,classes:{URLSearchParams:VT,FormData:HT,Blob:$T},protocols:["http","https","file","blob","url","data"]},$w=typeof window<"u"&&typeof document<"u",WT=(t=>$w&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),qT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$w,hasStandardBrowserEnv:WT,hasStandardBrowserWebWorkerEnv:qT},Symbol.toStringTag,{value:"Module"})),Kt={...KT,...zT};function GT(t,e){return Ac(t,new Kt.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Kt.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function YT(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function XT(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function zw(t){function e(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&P.isArray(o)?o.length:s,l?(P.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!P.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&P.isArray(o[s])&&(o[s]=XT(o[s])),!a)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(r,o)=>{e(YT(r),o,n,0)}),n}return null}function JT(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Kf={transitional:Hw,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=P.isObject(e);if(i&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return o?JSON.stringify(zw(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return GT(e,this.formSerializer).toString();if((a=P.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ac(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),JT(e)):e}],transformResponse:[function(e){const n=this.transitional||Kf.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&P.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Q.from(a,Q.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{Kf.headers[t]={}});const Gf=Kf,QT=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZT=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&QT[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bg=Symbol("internals");function Ni(t){return t&&String(t).trim().toLowerCase()}function Xa(t){return t===!1||t==null?t:P.isArray(t)?t.map(Xa):String(t)}function e2(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const t2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Su(t,e,n,r,o){if(P.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!P.isString(e)){if(P.isString(r))return e.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(e)}}function n2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function r2(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class Nc{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const d=Ni(l);if(!d)throw new Error("header name must be a non-empty string");const u=P.findKey(o,d);(!u||o[u]===void 0||c===!0||c===void 0&&o[u]!==!1)&&(o[u||l]=Xa(a))}const s=(a,l)=>P.forEach(a,(c,d)=>i(c,d,l));return P.isPlainObject(e)||e instanceof this.constructor?s(e,n):P.isString(e)&&(e=e.trim())&&!t2(e)?s(ZT(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=Ni(e),e){const r=P.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return e2(o);if(P.isFunction(n))return n.call(this,o,r);if(P.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ni(e),e){const r=P.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Su(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=Ni(s),s){const a=P.findKey(r,s);a&&(!n||Su(r,r[a],a,n))&&(delete r[a],o=!0)}}return P.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||Su(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return P.forEach(this,(o,i)=>{const s=P.findKey(r,i);if(s){n[s]=Xa(o),delete n[i];return}const a=e?n2(i):String(i).trim();a!==i&&delete n[i],n[a]=Xa(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Bg]=this[Bg]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=Ni(s);r[a]||(r2(o,s),r[a]=!0)}return P.isArray(e)?e.forEach(i):i(e),this}}Nc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Nc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});P.freezeMethods(Nc);const xn=Nc;function _u(t,e){const n=this||Gf,r=e||n,o=xn.from(r.headers);let i=r.data;return P.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function Ww(t){return!!(t&&t.__CANCEL__)}function zs(t,e,n){Q.call(this,t??"canceled",Q.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(zs,Q,{__CANCEL__:!0});function o2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Q("Request failed with status code "+n.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const i2=Kt.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];P.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),P.isString(r)&&s.push("path="+r),P.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function s2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function a2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function qw(t,e){return t&&!s2(e)?a2(t,e):e}const l2=Kt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){const a=P.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function c2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function u2(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];s||(s=c),n[o]=l,r[o]=c;let u=i,f=0;for(;u!==o;)f+=n[u++],u=u%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const y=d&&c-d;return y?Math.round(f*1e3/y):void 0}}function Og(t,e){let n=0;const r=u2(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,l=r(a),c=i<=s;n=i;const d={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-i)/l:void 0,event:o};d[e?"download":"upload"]=!0,t(d)}}const d2=typeof XMLHttpRequest<"u",h2=d2&&function(t){return new Promise(function(n,r){let o=t.data;const i=xn.from(t.headers).normalize();let{responseType:s,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(P.isFormData(o)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((d=i.getContentType())!==!1){const[g,...w]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];i.setContentType([g||"multipart/form-data",...w].join("; "))}}let u=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(g+":"+w))}const f=qw(t.baseURL,t.url);u.open(t.method.toUpperCase(),Vw(f,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function y(){if(!u)return;const g=xn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:t,request:u};o2(function(b){n(b),c()},function(b){r(b),c()},v),u=null}if("onloadend"in u?u.onloadend=y:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(y)},u.onabort=function(){u&&(r(new Q("Request aborted",Q.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Q("Network Error",Q.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||Hw;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),r(new Q(w,v.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,t,u)),u=null},Kt.hasStandardBrowserEnv&&(a&&P.isFunction(a)&&(a=a(t)),a||a!==!1&&l2(f))){const g=t.xsrfHeaderName&&t.xsrfCookieName&&i2.read(t.xsrfCookieName);g&&i.set(t.xsrfHeaderName,g)}o===void 0&&i.setContentType(null),"setRequestHeader"in u&&P.forEach(i.toJSON(),function(w,v){u.setRequestHeader(v,w)}),P.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Og(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Og(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=g=>{u&&(r(!g||g.type?new zs(null,t,u):g),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const p=c2(f);if(p&&Kt.protocols.indexOf(p)===-1){r(new Q("Unsupported protocol "+p+":",Q.ERR_BAD_REQUEST,t));return}u.send(o||null)})},th={http:jT,xhr:h2};P.forEach(th,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Mg=t=>`- ${t}`,f2=t=>P.isFunction(t)||t===null||t===!1,Kw={getAdapter:t=>{t=P.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){n=t[i];let s;if(r=n,!f2(n)&&(r=th[(s=String(n)).toLowerCase()],r===void 0))throw new Q(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(Mg).join(`
`):" "+Mg(i[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:th};function Cu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zs(null,t)}function jg(t){return Cu(t),t.headers=xn.from(t.headers),t.data=_u.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Kw.getAdapter(t.adapter||Gf.adapter)(t).then(function(r){return Cu(t),r.data=_u.call(t,t.transformResponse,r),r.headers=xn.from(r.headers),r},function(r){return Ww(r)||(Cu(t),r&&r.response&&(r.response.data=_u.call(t,t.transformResponse,r.response),r.response.headers=xn.from(r.response.headers))),Promise.reject(r)})}const Dg=t=>t instanceof xn?{...t}:t;function ti(t,e){e=e||{};const n={};function r(c,d,u){return P.isPlainObject(c)&&P.isPlainObject(d)?P.merge.call({caseless:u},c,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function o(c,d,u){if(P.isUndefined(d)){if(!P.isUndefined(c))return r(void 0,c,u)}else return r(c,d,u)}function i(c,d){if(!P.isUndefined(d))return r(void 0,d)}function s(c,d){if(P.isUndefined(d)){if(!P.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,u){if(u in e)return r(c,d);if(u in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d)=>o(Dg(c),Dg(d),!0)};return P.forEach(Object.keys(Object.assign({},t,e)),function(d){const u=l[d]||o,f=u(t[d],e[d],d);P.isUndefined(f)&&u!==a||(n[d]=f)}),n}const Gw="1.6.8",Yf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Fg={};Yf.transitional=function(e,n,r){function o(i,s){return"[Axios v"+Gw+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new Q(o(s," has been removed"+(n?" in "+n:"")),Q.ERR_DEPRECATED);return n&&!Fg[s]&&(Fg[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function p2(t,e,n){if(typeof t!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new Q("option "+i+" must be "+l,Q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Q("Unknown option "+i,Q.ERR_BAD_OPTION)}}const nh={assertOptions:p2,validators:Yf},Dn=nh.validators;class Ul{constructor(e){this.defaults=e,this.interceptors={request:new Lg,response:new Lg}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ti(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&nh.assertOptions(r,{silentJSONParsing:Dn.transitional(Dn.boolean),forcedJSONParsing:Dn.transitional(Dn.boolean),clarifyTimeoutError:Dn.transitional(Dn.boolean)},!1),o!=null&&(P.isFunction(o)?n.paramsSerializer={serialize:o}:nh.assertOptions(o,{encode:Dn.function,serialize:Dn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&P.merge(i.common,i[n.method]);i&&P.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=xn.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,u=0,f;if(!l){const p=[jg.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,d=Promise.resolve(n);u<f;)d=d.then(p[u++],p[u++]);return d}f=a.length;let y=n;for(u=0;u<f;){const p=a[u++],g=a[u++];try{y=p(y)}catch(w){g.call(this,w);break}}try{d=jg.call(this,y)}catch(p){return Promise.reject(p)}for(u=0,f=c.length;u<f;)d=d.then(c[u++],c[u++]);return d}getUri(e){e=ti(this.defaults,e);const n=qw(e.baseURL,e.url);return Vw(n,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){Ul.prototype[e]=function(n,r){return this.request(ti(r||{},{method:e,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(ti(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Ul.prototype[e]=n(),Ul.prototype[e+"Form"]=n(!0)});const Ja=Ul;class Xf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new zs(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Xf(function(o){e=o}),cancel:e}}}const m2=Xf;function g2(t){return function(n){return t.apply(null,n)}}function y2(t){return P.isObject(t)&&t.isAxiosError===!0}const rh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rh).forEach(([t,e])=>{rh[e]=t});const v2=rh;function Yw(t){const e=new Ja(t),n=Nw(Ja.prototype.request,e);return P.extend(n,Ja.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return Yw(ti(t,o))},n}const U=Yw(Gf);U.Axios=Ja;U.CanceledError=zs;U.CancelToken=m2;U.isCancel=Ww;U.VERSION=Gw;U.toFormData=Ac;U.AxiosError=Q;U.Cancel=U.CanceledError;U.all=function(e){return Promise.all(e)};U.spread=g2;U.isAxiosError=y2;U.mergeConfig=ti;U.AxiosHeaders=xn;U.formToJSON=t=>zw(P.isHTMLForm(t)?new FormData(t):t);U.getAdapter=Kw.getAdapter;U.HttpStatusCode=v2;U.default=U;let b2={data:""},w2=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||b2,x2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,k2=/\/\*[^]*?\*\/|  +/g,Ug=/\n+/g,Gn=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?Gn(s,i):i+"{"+Gn(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=Gn(s,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Gn.p?Gn.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},an={},Xw=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Xw(t[n]);return e}return t},E2=(t,e,n,r,o)=>{let i=Xw(t),s=an[i]||(an[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!an[s]){let l=i!==t?t:(c=>{let d,u,f=[{}];for(;d=x2.exec(c.replace(k2,""));)d[4]?f.shift():d[3]?(u=d[3].replace(Ug," ").trim(),f.unshift(f[0][u]=f[0][u]||{})):f[0][d[1]]=d[2].replace(Ug," ").trim();return f[0]})(t);an[s]=Gn(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&an.g?an.g:null;return n&&(an.g=an[s]),((l,c,d,u)=>{u?c.data=c.data.replace(u,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(an[s],e,r,a),s},S2=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Gn(a,""):a===!1?"":a}return r+o+(s??"")},"");function Ic(t){let e=this||{},n=t.call?t(e.p):t;return E2(n.unshift?n.raw?S2(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,w2(e.target),e.g,e.o,e.k)}let Jw,oh,ih;Ic.bind({g:1});let In=Ic.bind({k:1});function _2(t,e,n,r){Gn.p=e,Jw=t,oh=n,ih=r}function Sr(t,e){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:oh&&oh()},a),n.o=/ *go\d+/.test(l),a.className=Ic.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),ih&&c[0]&&ih(a),Jw(c,a)}return e?e(o):o}}var C2=t=>typeof t=="function",Vl=(t,e)=>C2(t)?t(e):t,T2=(()=>{let t=0;return()=>(++t).toString()})(),Qw=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),A2=20,Qa=new Map,N2=1e3,Vg=t=>{if(Qa.has(t))return;let e=setTimeout(()=>{Qa.delete(t),lo({type:4,toastId:t})},N2);Qa.set(t,e)},I2=t=>{let e=Qa.get(t);e&&clearTimeout(e)},sh=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,A2)};case 1:return e.toast.id&&I2(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?sh(t,{type:1,toast:n}):sh(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Vg(r):t.toasts.forEach(i=>{Vg(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Za=[],el={toasts:[],pausedAt:void 0},lo=t=>{el=sh(el,t),Za.forEach(e=>{e(el)})},P2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},R2=(t={})=>{let[e,n]=k.useState(el);k.useEffect(()=>(Za.push(n),()=>{let o=Za.indexOf(n);o>-1&&Za.splice(o,1)}),[e]);let r=e.toasts.map(o=>{var i,s;return{...t,...t[o.type],...o,duration:o.duration||((i=t[o.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||P2[o.type],style:{...t.style,...(s=t[o.type])==null?void 0:s.style,...o.style}}});return{...e,toasts:r}},L2=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||T2()}),Ws=t=>(e,n)=>{let r=L2(e,t,n);return lo({type:2,toast:r}),r.id},O=(t,e)=>Ws("blank")(t,e);O.error=Ws("error");O.success=Ws("success");O.loading=Ws("loading");O.custom=Ws("custom");O.dismiss=t=>{lo({type:3,toastId:t})};O.remove=t=>lo({type:4,toastId:t});O.promise=(t,e,n)=>{let r=O.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(o=>(O.success(Vl(e.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{O.error(Vl(e.error,o),{id:r,...n,...n==null?void 0:n.error})}),t};var B2=(t,e)=>{lo({type:1,toast:{id:t,height:e}})},O2=()=>{lo({type:5,time:Date.now()})},M2=t=>{let{toasts:e,pausedAt:n}=R2(t);k.useEffect(()=>{if(n)return;let i=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&O.dismiss(a.id);return}return setTimeout(()=>O.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=k.useCallback(()=>{n&&lo({type:6,time:Date.now()})},[n]),o=k.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},d=e.filter(y=>(y.position||c)===(i.position||c)&&y.height),u=d.findIndex(y=>y.id===i.id),f=d.filter((y,p)=>p<u&&y.visible).length;return d.filter(y=>y.visible).slice(...a?[f+1]:[0,f]).reduce((y,p)=>y+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:B2,startPause:O2,endPause:r,calculateOffset:o}}},j2=In`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,D2=In`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,F2=In`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,U2=Sr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${D2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${F2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,V2=In`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H2=Sr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${V2} 1s linear infinite;
`,$2=In`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,z2=In`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,W2=Sr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${z2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,q2=Sr("div")`
  position: absolute;
`,K2=Sr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,G2=In`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y2=Sr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${G2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,X2=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(Y2,null,e):e:n==="blank"?null:k.createElement(K2,null,k.createElement(H2,{...r}),n!=="loading"&&k.createElement(q2,null,n==="error"?k.createElement(U2,{...r}):k.createElement(W2,{...r})))},J2=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Q2=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Z2="0%{opacity:0;} 100%{opacity:1;}",eA="0%{opacity:1;} 100%{opacity:0;}",tA=Sr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nA=Sr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rA=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=Qw()?[Z2,eA]:[J2(n),Q2(n)];return{animation:e?`${In(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${In(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oA=k.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?rA(t.position||e||"top-center",t.visible):{opacity:0},i=k.createElement(X2,{toast:t}),s=k.createElement(nA,{...t.ariaProps},Vl(t.message,t));return k.createElement(tA,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:i,message:s}):k.createElement(k.Fragment,null,i,s))});_2(k.createElement);var iA=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let i=k.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:i,className:e,style:n},o)},sA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Qw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},aA=Ic`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_a=16,qs=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=M2(n);return k.createElement("div",{style:{position:"fixed",zIndex:9999,top:_a,left:_a,right:_a,bottom:_a,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,u=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=sA(d,u);return k.createElement(iA,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?aA:"",style:f},c.type==="custom"?Vl(c.message,c):o?o(c):k.createElement(oA,{toast:c,position:d}))}))};const Zw="/assets/logo-dark-hvbxHG66.png",lA="/assets/vietnam-J0LtqqBr.png",cA="/assets/usa-rnEks3Fq.png",Qr=async({created_new_arr:t=!1,state:e,page:n,data:r,data_to_send:o={},countRoute:i,user:s})=>{let a,l={};return s&&(l.headers={Authorization:"Bearer "+s}),e!==null&&!t?a={...e,results:[...e.results,...r],page:n}:await U.post(`https://backend-mern-blog-web-v22.onrender.com/api/v1${i}`,o,l).then(({data:{totalDocs:c}})=>{a={results:r,page:1,totalDocs:c,deletedDocCount:0},console.log("manaa blogs: ",a)}).catch(c=>{console.log(c.message)}),a},I={home_page:{home:["Home","Trang chủ"],trending:["Trending","Xu hướng"],tags:["Stories from all interests","Câu chuyện từ các tag được yêu thích"]},navbar:{search_blog:["Search blog","Tìm kiếm blog"],profile:["Profile","Hồ sơ"],sign_out:["Sign Out","Đăng xuất"]},authform:{password:["Password","Mật khẩu"],forgot_password:["Forgot password?","Quên mật khẩu?"],google:["Continue with google","Tiếp tục với google"],dont_have:["Don't have an account","Chưa có tài khoản"],fullname:["Fullname","Tên đầy đủ"],type_fullname:["Type fullname","Điền tên đầy đủ"],type_password:["Type password","Điền mật khẩu"],type_email:["Type email","Điền email"],have_had:["Have you had an account?","Bạn đã có tài khoản?"],or:["Or","Hoặc"],join_us:["Join us today","Tham gia vào cộng đồng"],welcome_back:["Welcome back","Chào mừng bạn đã quay trở lại"]},editor_page:{new_title:["New title","Tiêu đề mới"],publish:["Publish","Đăng"],save_draft:["Save draft","Lưu bản nháp"],title:["Blog title","Tiêu đề"],banner:["Blog Banner","Ảnh nền"],content:["Let's write story","Hãy viết nội dung"]},preview_page:{preview:["Preview","Xem trước"],description:["Description","Mô tả"],toppic:["Toppic","Chủ đề"],char_left:["characters left","ký tự còn lại"]},profile_page:{reads:["Reads","Lượt đọc"],published_blog:["Published blogs","Blogs đã đăng"],about_user:["About user","Thông tin thêm"],edit_profile:["Edit profile","Chỉnh sửa hồ sơ"]},dashboard_blogs:{drafts:["Drafts","Bản nháp"],likes:["Likes","Lượt thích"],comments:["Comments","Lượt bình luận"],reads:["Reads","Lượt đọc"],manage_blog:["Manage blog","Quản lý blog"],stats:["Stats","Trạng thái"]},dashboard_noti:{all:["All","Tất cả"],like:["Like","Yêu thích"]},change_pasword:{cp:["Change pasword","Thay đổi mật khẩu"],current_pass:["Current password","Mật khẩu hiện tại"],new_pass:["New Password","Mật khẩu mới"]},write:["write","Tạo blog mới"],sign_in:["sign in","đăng nhập"],sign_up:["sign up","đăng ký"],notifications:["Notifications","Thông báo"],dashboard:["Dashboard","Quản lý"],settings:["Settings","Cài đặt"],delete:["Delete","Xoá"],edit:["Edit","Chỉnh sửa"],published_on:["Published on","Đăng ngày"],comment:["comment","Bình luận"],all:["all","Tất cả"],like:["like","Thích"],reply:["reply","Phản hồi"],show:["Show","Hiển thị "],hidden:["Hidden","Ẩn"],load_more:["Load more","Tải thêm"],edit_profile:["Edit profile","Chỉnh sửa hồ sơ"],username_des:["Username will use to search user and will be visible to everyone","Username sẽ dùng để tìm kiếm người dung và hiển thị cho mọi người"],social_link:["Add your social links below","Thêm đường dẫn mạng xã hội của bạn bên dưới"],update:["Update","Cập nhật"],upload_image:["Upload image","Tải hình ảnh lên"],like_your_blog:["liked the blog","đã thích blog "],commented_on:["commented on your blog","đã bình luận trên blog"],replied_on:["replied on the comment on the blog","đã phản hồi bình luận trên blog"],minutes:["minutes","phút"],hours:["hours","giờ"],days:["days","ngày"],joined_at:["joined at","đã tham gia lúc"],page_not_found:{pnf:["page not found","Trang không tồn tại"],des:["The page you are looking does not exists. Head back to the","Trang bạn tìm không tồn tại. Quay lại"],footer:["Read millions of stories in the world","Đọc hàng triệu câu chuyện trên toàn thế giới"]},forgot_password:["Forgot password","Quên mật khẩu"],reset_password:["Reset password","Tạo mật khẩu mới"],send:["Send","Gửi"],view_all:["view all","Xem tất cả"],new:["new","mới"],confirm:["Confirm","Xác nhận"],cancel:["Cacel","Huỷ"],warn:["Are you sure to delete this blog?","Bạn có chắc chắn muốn xoá blog này không?"],warning:["Warning","Cảnh báo"],delete_all:["Delete all","Xoá tất cả"],mark_as_read:["Mark as read","Đánh dấu đã đọc"],similar_blogs:["Similar blogs","Các blog tương tự"]},Zr=({state:t,fetchDataFunc:e,additionalParams:n})=>{const{language:r}=k.useContext(re);if(console.log("additional params: ",n),t!==null&&t.totalDocs>t.results.length)return h.jsx("button",{onClick:()=>e({...n,page:t.page+1}),className:"text-dark-grey p-2 px-3 flex items-center hover:bg-grey/30 border border-grey mx-auto max-w-[100px] my-5",children:I.load_more[r]})},_t=({message:t})=>h.jsx("div",{className:"w-full rounded-full bg-grey/50 py-2 text-center",children:h.jsx("h1",{className:"text-black ",children:t})}),On=t=>{let e=new Date(t),n=new Date(Date.now());const{language:r}=k.useContext(re);let o=n.getTime()-e.getTime(),i=Math.floor(o/1e3/60),s=Math.floor(o/1e3/3600),a=Math.floor(s/24);return i<1?"Vua xong":s<1?`${i} ${I.minutes[r]}`:a<1?`${s} ${I.hours[r]}`:a<7?`${a} ${I.days[r]}`:`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`},uA=({data:t,setOpen:e})=>{const{userAuth:{access_token:n},setNotifications:r}=k.useContext(le),{language:o}=k.useContext(re),i=Ut(),{blog:{banner:s,title:a,blog_id:l},user:{personal_info:{username:c,profile_img:d}},type:u,seen:f,createdAt:y,_id:p}=t,g=()=>{U.put(`https://backend-mern-blog-web-v22.onrender.com/api/v1/notifications/${p}`,null,{headers:{Authorization:"Bearer "+n}}).then(({data:w})=>{e(!1),r(null),i(`/blog/${l}`,{replace:!0})}).catch(({response:w})=>{console.log(w.data.message)})};return h.jsxs("div",{className:"w-full bg-white px-4 py-2 flex items-start justify-between hover:bg-grey mb-2 relative",onClick:g,children:[f?h.jsx("span",{className:"w-[6px] h-[6px] bg-transparent rounded-full absolute left-[10px] top-[50%] -translate-y-1/2"}):h.jsx("div",{className:"rounded-full w-[10px] h-[10px] bg-indigo-400 absolute left-[10px] top-[23px]"}),h.jsxs("div",{className:"flex gap-2 items-start justify-center ml-3",children:[h.jsx("img",{src:d,className:"w-[45px] h-[45px] object-cover rounded-full"}),h.jsxs("div",{className:"font-gelasio w-[250px] ",children:[h.jsxs("div",{className:"flex text-base items-end gap-2",children:[h.jsx("p",{className:"font-bold text-[13px]",children:c}),h.jsx("span",{className:"text-gray text-[10px]",children:On(y)})]}),h.jsxs("p",{children:[u==="reply"?h.jsx("span",{children:I.replied_on[o]}):u==="comment"?h.jsx("span",{children:I.commented_on[o]}):h.jsx("span",{children:I.like_your_blog[o]})," ",h.jsx("span",{children:a})]})]})]}),h.jsx("div",{className:"flex items-start",children:h.jsx("img",{src:s,alt:"",className:"h-[45px] w-[60px] object-cover rounded-md"})})]})},dA=({setOpen:t})=>{var a;const{notifications:e,setNotifications:n,userAuth:{access_token:r}}=k.useContext(le),{language:o}=k.useContext(re),i=Ut(),s=({page:l=1})=>{U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/notifications/",{filter:"all",page:l},{headers:{Authorization:"Bearer "+r}}).then(async({data:c})=>{console.log("NOTIFI_____: ",c);const d=await Qr({state:e,data:c.notifications,countRoute:"/notifications/count-notifications",page:1,user:r,data_to_send:{filter:"all"}});console.log("data: ",d),n(d)})};return k.useEffect(()=>{console.log(e),e||s({page:1})},[]),h.jsxs("div",{className:"bg-white border border-grey absolute right-[45px] top-full duration-200 z-50 h-60 overflow-y-scroll overscroll-contain w-[450px]  shadow-md max-md:-right-[20px] max-md:w-[400px]",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("h1",{className:"py-2 px-6",children:I.notifications[o]}),h.jsx("button",{className:"text-blue-600 underline px-6 py-2 hover:text-blue-400",onClick:()=>i("/dashboard/notifications"),children:I.view_all[o]})]}),h.jsx("hr",{className:"w-full mb-5"}),e&&((a=e==null?void 0:e.results)!=null&&a.length)?h.jsxs("div",{className:"w-full",children:[e.results.map((l,c)=>h.jsx(uA,{data:l,setOpen:t},c)),h.jsx(Zr,{state:e,fetchDataFunc:s})]}):h.jsx(_t,{message:"No notification yet"})]})},hA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVkAAABECAYAAAArzUYqAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA8tSURBVHgB7Z3tddy2EoZn77n/s6kgTAVRKjBdQTYVmKnA6wqWqkByBbu3AtsVLF2BdCsgU4GUCiacBeilKGDwQZDaj3nO4ZG9JAgCBF8OB8BgARcEIi7bPzft9ke75e2WtdtS737U27fFYvEVBEEQBDckrO1WtNu+3Z7Qj5rSgCAIgvAaLayrQGE1sdXWryAIgtAKYt5udyOFdciDCK0gCFcLvnQHTMUXEARBuCa0uG4wrdXKUYAgCMKl8wbi2lGDIAjCpfKG4tonB0EQhEviRMS1YwuCIAgJ+S+8IagsRxK2DE6DHARBEBLyJiLbimsGSlxzOC1kKJcgCEn5D8wMql78BzhNq1FEVhCEpMwusqDE9VTF7BkEQRAS8qY+2RPkEQQr2s2TW3ZXi8WiAUEQXiAi+5L/w4nSChxFFxvzBdAkEMEMlC/dxF/ttgNBEF4wmciS1XOGls0ph0C8g5F+7Pae0B+y1pt2+wZifQrC5Ezik20f5k37ZwPnxXMrOBVcPmQRr0BZpDWqSGQZCIIwCUlFFtXEgn37zxKm53O7/dwK4wLUp2oD4/gO10nRbg8osRsEYRKSiay2huYamnXbauu63Q6jAdq/O1BCO4ZrXi2BfL1k0a5BEISkJBFZ3SlDFmwG00MCWw5/TPCpL0vStH5ffS8FQUjE6I6v9qHs/HtzjH01Cqy+jgzi+dZZxWcKuU64l0QGx7XPMuChDrb3IAhCEkaJbCtsH2C+YTtWgdV8gHjO3Yp99LTk19r3SkJqeynS6hPLM3/pCMLJEO0uOCWB1aMZSoij0T7dq8DTf70CQRCSECWyOnrWDuZhSoElKrgy9JLoDXOI+GUFIRHBItuLoDUHUwss8RmuE27I2k8gCEISYnyyc8V/nUNgyZd5rfEKGjgR9IgG2rLBrsPstNT3aJDfL/rnv0EFCKpS5odqJeRc59X3gzegylZ5nKY7zws/OjdbT39tUhl/0z9R2aiMX1PN8rPUY5ePbz9BSH62uqQ8H3Weo/oSdB5duV7lMfmEJVSrxo5aZaD9feeRtnRcxwbTUMCZgPxqvQUE0qa5x8D6R7Uke5JrwLDl3WscOTMNw1bg6PLLuQ3c5dsH5JU5zlda0i4Hx330KOMeI+tSl2uL/vVYwEgwbLXqLUYsI4XH++Uq1xNONUuSTqorzZdYkS0d17HBNJzVwomYXmS58+WWNKNFFpXYfcF4gqdrt2lWOMHyRhOUj146S8t5S0uald5Pz+cew/Cuy/bYm4jzd9QYIUqo2tsDxrH1yRPj6q0jbegADLNiD4W0nIcT2dJxDRtMxxrOCEwosqgalo2aSTdKZFE9qDWOp0bPhxbTtpkXgLleaxxHjQahRbvI0hcJ1WvsS8T5HKCyjsdSY4DQJszzhsmD2vPYly+9UNPMEcDwxhMqsqUj/w2mo8YzC4qCiUQWlaXFWQc5kzZaZFEJUEprskZH43Zc72gM+W1xPLWlLDaRpXs5pl4pLSdEd5iOPXiAaQS244sljxtMxxeuPF4dX6gevAymY45Orj5XF+IPlSAV7fYR7PfydgrHPqoXGj1gnChSxwWNeOg6LqjDxtQZ1kG/U+PmZqfZRsFQHjSqZNe1Azx24myAb+uNvtZv/R/1M1I48nuEY/korw/werjcJwjDJJCVvs5/QHVI5WCve/qdm+X3D/BUOi/q7HLdM3rprfQQQiO6rdyDO0+K/dzVJaV5B6/zbcBQnzqPL47zf9N/n/V5abO1DXJHUSwV13Xbwbg3tK8lW3rknyXe0pj3M4K8JbvX98i00edMjTxkzaw8riHKkkW+/dTIW89r5FlHXCtnuXGf/KuIMtbIfDXp6+yeiZI5rkQ35DpYWsp070ibW/Jd4uv6eNLXE+o/JlhrFvm2WiPfVopB+sJy3JbJg3WfMGV7wjG6gnF+Jh+RLUHwAuOd8xzsw2K4hmCRRYf/F/06J3JHGUzCYhMV5xhvtAv7PZPG5oJJ4vtHt8j6+Fa5DjmubJ0vnep6j373bMfkZRPngklTe+a71OfJLfu5tlSCB0w9FhAD8g8Jh0tkSxC8wWlEdosBw10wTmS3oWks5+Ee2pXh+C++xxrS2to895lb48gyOq6JE1kvIUf+WX6ChCDfVlaWNHsmTQ4JQOaLI+AcNn+u0Ur3mfGVQXpcwV6EeSjabY+JxjNayC2/h8aM4I4twJ9niCdmJtyYwEW+fPU5SPufK8tusgAzSIT27dvqOhv+gO5FOisYCR77JUx4z/zUk1UeDbuMbigfkb2BtNyLwJ4cGaig3fuUDxoq32dm2V1BAPohayy73xl+s3XYZODG5j7hOoFsgpKjYyjRzHCLheaQFludmOqXq59vkAYujwrCMNWj8UXlM7ogaScRN2Ux5QNuyLeBy8UVT5buYQaqkZl6YTtyUJbt74lCHWbMvpgH57vlnIfGPbjH1M5MVqRP9Dib9VmBHSqP7SHOQC3xQ9f0P0g4tTWCR2bfW3YI58w+7ppT5UHDxiCAd5bfMxgYAyezJDimH6bVp2m3X+FyCZpTjcqHR/VteqgyvS90KJEJznKIEfGG2ZcN9u9ADU0aQpblpq2vW9NJtMVp83FyLzLqOKLhcZxQdcPE7rTg0stx7uGEDbMvg0i0gdRt3blCRPsXZl8qkeWup4CJOAmRnVhgCYn034PG8+mH3DachnrXbxNYs1yjjjk3lybr/4euvS0DidhHw7GlFgWyPht93s7KtwnsZ04MdX70YvKNUHfTHdum24Hqp2hgehpmn5fPWfs2V6DqK4c0/TbWtrJIF0D+TSx1H59sqgIamUFgP1/bxAMftOVbMYcUMJ45RdZECXYrqAA1IJ0W/6z1v20C24BHG9UdeX9CeISzApQ7YY5OsmhQB1Fp/0kjEegFUcA8EfnOiWb4g48lO5nIziCwDbhnj1wzZMnlln2/wXhSt50g0dbWJYkeCUIOcZBI/+lrTdFsJv2VUALv/x5CZaNhan9PHE4vY/YZO/bwGEM6h8uE7m0K99ijyaDzEdlYfwjXizmHwBK3YsWycMLxM0x7/gzCLb5gy1jf//eoxm0X4M9hKmzMSBidZ0H/1kPjaAHLlWfybcKOx1Be5YnHKdGZR9oGju4Xmmbr8lH3+du2A9OtOddYfqdr/DpVnfuIbAPh3HLzeGcS2N3iitbuimRqH1XD7MsgnN9C89L+Q+oAK3o/d4KQwetA2hWoUQxJHjrdBnd4DDhNYsu5BTJ9zA6m4YbZ98Kg8hDYCtTXkHG0hHZ/+LYx1ws51tjr08D0ebzCKbL6k6sC/0+FuYO9mGggjfl/6QSLViAVs4972EPTPDNfLGTBDq3I93OviKEF+yttqGY73oHduo2pG19C7rktIAqV5S8u0EsE3P3IIY0AVsy+FUwksr5rfH33PO4UBJZ4v5AlrVl6lpWN0Q1OC5/tPgR18jgmNny3pCngtZA1izdecojqpd3IV1xZDplyjbXc8rupXmwvgU+JBZaomH1/QAJ0e2wsuyfrdPQV2XuPY05FYMUP64crpF8FabBNV1wGTuX9yOzbWX43PTgZnk7Adlu/hSu8YBS6vjPL7mpwLL3UbJ/6qQXWNeU3TxW7ANRkEBNv3y6QD95QOtJucB58xyieHZguaLfPMiK24D6po3BRVKcM3Nf8gTlHzaSrHXnvUQWS2aIKTl3qjcYJU4zQHAJAFQHKOw0GRHNCPkCMcxkUdAdNvxkczwW1zjzy+8CkLy1pCiZN7Zlv175rNExlRnWPbPXABjA3nGej83nAFLNV0f6AlY50G5yHGs8wTqwvyAsjPaylY7tD/0hemeUagkVWp7t33LfCko4asitKPpfvmLXE+tBDtEE+LmyGR1G3lmlwvI3McHzpuMYt8vet5tIGXl/pKJvrnpVMWm7VjhrtEbxMC2XWGFeXdJ5lQD4EGyfXG3z9kJaO4zc4DzVOGPfgFMBpQh2aKJlriBVZU+DnIbS/e1nQC2GL7mVV2C8XDF+XzoeNJa+t4dhaXwNZV0u9kXht0F62veX8LmHo6L9wfV+smSVPzuJb99Ppcq098yvBfs9yj/QkxP0vjy0G1Cf6tcdDWn3uLo+94/g7GAu+/OQoHcducD6m7I09CXAekS0d1xAlsjptv+2koEaPLxf0F6cQ1oM8Uop5NmM5CKsfcsI8S+DvmWs1jBBIkJdgbo81psVYLt+OrwPaOU2BNU6lk4v49Na9xRfAYcbLYsIQlLrt/A7phob5DtivEuXZZ4PTuKb+mrnTlh3PDqrDO3aUDj2Tv0ME+ppuYTwVWEYadZNUIF3buE32/KCyUD849s9FCVcCnunyM4ZzkAWxwzgO1+uZD30SmnyyNSrLc63LTv7iLR4/B31Xfy0M5dpjHDU6OsyQtypXGGaVPaH//YpZxv2+l35v2F965l1gnLV5cGd45kHtJLY9EntMN/LhhYAae+FQBHYyMI3I0n0jEdmiasBB1hgmENneuTqxrdENHeP9MtDnN3WgPKD/C+UG+YevtKTLdTofoa59y4W8yGbo9/IKeqn28vY99xYH7g40t5kyMO81+vtQg8s3KKNPPl1Zc59zL8ATfO0CIBP8x8wZnNdFkM40PxN0wxnzifqcYoIG2jsYo8+Px4kG/Rf3s96C462iEnxTp9ivEeei6FymHm2Ka7B2pE1WLi1MtqFav/aWNl/CMW7tspcnPaePY9qAvvfduSHk3IN2E9VWmPpsQNXn6PbtyOdQ1knck2i3UA9LSeN8Fqz3Z45wvaDZ6o9aKBDtFuQaZgQdliwIJ4uz4wt5C7V7a3pbxCOoQHV27EAQwjkMoYJw3ll+r0AQxoJuC7XsHTvG8c/h7cQWBALtkxCCZgSivf0/wMygWLKXBwYI7CAdObr3OJ4HjHRiC9cN8uMsa70/H7Yt1NNi9X5u5lEGM4MispcFRgrs4ByZbhh79IcaNg2pyUEQIkH/GT0xlPAGoIjs2fIqniy6Rwl49ezr3s5Sn7Pz3XZ/O3702IEKtZakd1C4bnQMZBpo7hPRP4RPjsH7gsCDCSxYQTgVcNzEhz57fOOvKxRL9vwRgRUuFQybINDxdAri2iEie74chl5hIheBIJw6WjS7weY/wdGd0Oi/FEh79MB9QfiBWLCCIAgTgnwvbAmCIAhCPGj3U5UgCIIgjAPNva8lCIIgCOPBYzzFJ+06kCmsgiAIifgX/vMRChqnBTAAAAAASUVORK5CYII=",fA=()=>h.jsx("footer",{className:"w-screen bg-black flex flex-col justify-center items-center ",children:h.jsxs("div",{className:"mb-3 flex gap-4 w-full max-md:flex-col max-md:gap-2 justify-center items-center border-t border-dark-grey py-4",children:[h.jsx("img",{src:hA,atl:"",className:"h-12 object-contain max-w-min"}),h.jsx("span",{className:"text-base text-dark-grey",children:"Copyright © 2015-2024"})]})}),pA=({setOpen:t})=>{const{userAuth:{username:e},setUserAuth:n}=k.useContext(le),{language:r}=k.useContext(re),o=Ut(),i=()=>{nT(),n({}),o("/signin",{replace:!0})};return h.jsxs("div",{className:"w-60 bg-white border border-grey absolute right-0 top-full duration-200",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[h.jsxs(ne,{to:"/editor",className:"md:hidden flex link gap-2 text-2xl link pl-8 py-4",children:[h.jsx("i",{className:"fi fi-rr-file-edit"}),h.jsx("p",{children:I.write[r]})]}),h.jsx(ne,{to:`/user/${e}`,className:"link pl-8 py-4",children:I.navbar.profile[r]}),h.jsx(ne,{to:"/dashboard/blogs",className:"link pl-8 py-4",children:I.dashboard[r]}),h.jsx(ne,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:I.settings[r]}),h.jsx("span",{className:"absolute border-t border-grey w-[100%]"}),h.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4 relative group",onClick:i,children:[h.jsx("h1",{className:"font-bold text-xl mt-1",children:I.navbar.sign_out[r]}),h.jsxs("p",{className:"text-dark-grey",children:["@",e]}),h.jsx("i",{className:"fi fi-sr-exit text-2xl absolute right-[10%] top-1/2 -translate-y-1/2 text-dark-grey group-hover:text-black"})]})]})};k.createContext({});const mA=()=>{const[t,e]=k.useState(!1),[n,r]=k.useState(!1),[o,i]=k.useState(!1),[s,a]=k.useState(!1),l=Ut(),[c,d]=k.useState(JSON.parse(Aw("new notification"))||0),{userAuth:{access_token:u,profile_img:f},notifications:y,setNotifications:p,socket:g}=k.useContext(le),{language:w,setLanguage:v}=k.useContext(re),m=x=>{console.log(x.target.innerText);let E=x.target.innerText;v(E==="English"?0:1)},b=x=>{let E=x.target.value;console.log("query: ",E),x.keyCode==13&&E.length&&(e(!1),l(`/search/${E}`))};return k.useEffect(()=>{console.log("nofofofoofo",y),g==null||g.on("sendNotification",async x=>{d(E=>{const C=E+1;return Qd("new notification",C),C}),O.custom(E=>{const{blog:{banner:C,title:A},user:{personal_info:{username:S,profile_img:_}},type:T,seen:R,createdAt:M,_id:V}=x;return h.jsxs("div",{className:"min-w-fit w-[430px] bg-grey px-4 py-2 flex items-start justify-between hover:bg-grey mb-2 relative",children:[R?h.jsx("span",{className:"w-[6px] h-[6px] bg-transparent rounded-full absolute left-[10px] top-[50%] -translate-y-1/2"}):h.jsx("div",{className:"rounded-full w-[10px] h-[10px] bg-indigo-400 absolute left-[10px] top-[23px]"}),h.jsxs("div",{className:"flex gap-2 items-start justify-center ml-3",children:[h.jsx("img",{src:_,className:"w-[45px] h-[45px] object-cover rounded-full"}),h.jsxs("div",{className:"font-gelasio w-[250px] ",children:[h.jsxs("div",{className:"flex text-base items-end gap-2",children:[h.jsx("p",{className:"font-bold text-[13px]",children:S}),h.jsx("span",{className:"text-gray text-[10px]",children:On(M)})]}),h.jsxs("p",{children:[T==="reply"?h.jsx("span",{children:I.replied_on[w]}):T==="comment"?h.jsx("span",{children:I.commented_on[w]}):h.jsx("span",{children:I.like_your_blog[w]})," ",h.jsx("span",{children:A})]})]})]}),h.jsx("div",{className:"flex items-start",children:h.jsx("img",{src:C,alt:"",className:"h-[45px] w-[60px] object-cover rounded-md"})})]})},{position:"bottom-left"})}),g==null||g.on("deleteNotification",x=>{console.log(x.message),U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/notifications/",{filter:"all",page:1},{headers:{Authorization:"Bearer "+u}}).then(({data:E})=>{p([...E])})})},[g]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsxs("nav",{className:"navbar z-50",children:[h.jsx(ne,{to:"/",className:"flex-none w-10",children:h.jsx("img",{src:Zw,className:"w-full",alt:""})}),h.jsxs("div",{className:`absolute bg-white w-full left-0 top-full mt-0.5  border-b border-gray py-4 px-[5vw] md:border-none md:block md:relative md:inset-0 md:p-0 md:w-auto md:show ${t?"show":"hidden"}`,children:[h.jsx("input",{onKeyDown:b,type:"text",placeholder:I.navbar.search_blog[w],className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12"}),h.jsx("i",{className:"fi fi-rr-search absolute right-[10%] top-1/2 -translate-y-1/2 md:pointer-events-none md:left-5 text-2xl text-dark-grey z-10"})]}),h.jsxs("div",{className:"flex items-center gap-3 md:gap-6 ml-auto",children:[h.jsx("button",{className:"md:hidden bg-grey w-12 h-12 rounded-full flex items-center justify-center",onClick:()=>{e(x=>!x)},children:h.jsx("i",{className:"fi fi-rr-search text-dark-grey text-2xl"})}),h.jsxs("button",{className:" bg-grey w-12 h-12 flex items-center justify-center rounded-full relative ",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onClick:()=>a(x=>!x),children:[h.jsx("img",{src:w===1?lA:cA,alt:"",className:"h-10 w-10"}),h.jsxs("div",{onMouseLeave:()=>a(!1),className:`absolute right-0 top-[100%] flex flex-col justify-center gap-2 px-4 py-2 bg-white border border-grey ${s?"show":"hide"} `,onClick:m,children:[h.jsx("span",{className:"whitespace-nowrap link",children:"Tiếng Việt"}),h.jsx("span",{className:"whitespace-nowrap link",children:"English"})]})]}),h.jsxs(ne,{to:"/editor",className:"hidden md:flex link gap-2 text-2xl",children:[h.jsx("i",{className:"fi fi-rr-file-edit"}),h.jsx("p",{children:I.write[w]})]}),u?h.jsxs("div",{className:"relative flex gap-2 justify-center items-center",children:[h.jsxs("button",{onClick:()=>{d(0),tT("new notification"),i(x=>!x)},className:"bg-grey w-12 h-12 rounded-full flex items-center justify-center hover:bg-black/10 relative",children:[h.jsx("i",{className:"fi fi-rr-bell text-dark-grey text-2xl"}),c!==0&&h.jsx("div",{className:"bg-grey flex items-center justify-center h-[15px] w-[15px] absolute top-[3px] right-[6px] rounded-full",children:h.jsx("span",{className:" text-rose-500",children:c})})]}),o?h.jsx(dA,{setOpen:i}):"",h.jsx("button",{className:"w-12 h-12 mt-1",onClick:()=>{r(x=>!x)},children:h.jsx("img",{src:f,alt:"",className:"w-full h-full object-cover rounded-full"})}),n?h.jsx(pA,{setOpen:r}):""]}):h.jsxs(h.Fragment,{children:[h.jsx(ne,{to:"/signin",className:"btn-dark py-2",children:I.sign_in[w]}),h.jsx(ne,{to:"/signup",className:"btn-light py-2 hidden md:block",children:I.sign_up[w]})]})]})]}),h.jsx(Cw,{})]}),h.jsx(fA,{})]})},Hg=()=>{const t=window.location.pathname.split("/")[2],[e,n]=k.useState(t.replace("-"," ")),[r,o]=k.useState(!1),{userAuth:{access_token:i}}=k.useContext(le),{language:s}=k.useContext(re),a=k.useRef(),l=k.useRef(),c=k.useRef(),d=u=>{const{offsetWidth:f,offsetLeft:y}=u.target;console.log(u.target.offsetLeft,u.target.offsetWidth),a.current.style.width=f+"px",a.current.style.left=y+"px",u.target===l.current?o(!0):o(!1)};return k.useEffect(()=>{console.log("render")},[window.location.href]),i===null?h.jsx(zf,{to:"/signin"}):h.jsxs("section",{className:"relative py-0 m-0 flex max-md:flex-col gap-10",children:[h.jsx("div",{className:"sticky top-[80px] z-30",children:h.jsxs("div",{className:"md:hidden border-b border-grey py-1 flex flex-wrap overflow-x-auto bg-white",children:[h.jsx("button",{onClick:d,ref:l,className:`p-5 capitalize
          `,children:h.jsx("i",{className:"fi fi-sr-bars-staggered pointer-events-none"})}),h.jsx("button",{className:"capitalize cursor-pointer px-2",ref:c,onClick:d,children:e}),h.jsx("hr",{ref:a,className:" absolute top-[calc(100%-1px)] duration-500 border-black"})]})}),h.jsxs("div",{className:`min-w-[200px] h-[calc(100vh-80px-60px)] 
          md:h-cover
          md:sticky top-24 overflow-y-auto p-6 md:pr-0 md:border-grey md:border-r absolute max-md:top-[64px] 
        bg-white max-md:w-[calc(100%+80px)] max-md:px-16 max-md:-ml-7 duration-150 ${r?"pointer-events-auto opacity-100":"max-md:opacity-0 max-md:pointer-events-none"} `,children:[h.jsx("h1",{className:"text-xl text-dark-grey mb-3",children:I.dashboard[s]}),h.jsx("hr",{className:"border-grey -ml-6 mb-6 mr-6 w-full"}),h.jsxs(Ai,{to:"/dashboard/blogs",onClick:u=>{n(u.target.innerText)},className:"sidebar-link",children:[h.jsx("i",{className:"fi fi-rr-document"}),"Blogs"]}),h.jsxs(Ai,{to:"/dashboard/notifications",onClick:u=>{n(u.target.innerText)},className:"sidebar-link",children:[h.jsx("i",{className:"fi fi-rr-bell"}),I.notifications[s]]}),h.jsxs(Ai,{to:"/editor",onClick:u=>{n(u.target.innerText)},className:"sidebar-link",children:[h.jsx("i",{className:"fi fi-rr-edit"}),I.write[s]]}),h.jsx("h1",{className:"text-xl text-dark-grey mb-3 mt-20",children:I.settings[s]}),h.jsx("hr",{className:"border-grey -ml-6 mb-6 mr-6"}),h.jsxs(Ai,{to:"/settings/edit-profile",onClick:u=>{n(u.target.innerText)},className:"sidebar-link",children:[h.jsx("i",{className:"fi fi-rs-user-pen"}),I.profile_page.edit_profile[s]]}),h.jsxs(Ai,{to:"/settings/change-password",onClick:u=>{n(u.target.innerText)},className:"sidebar-link",children:[h.jsx("i",{className:"fi fi-rr-lock"}),I.change_pasword.cp[s]]})]}),h.jsx("div",{className:`max-md:-mt-8 mt-8 w-full ${r?"max-md:opacity-0 pointer-events-none":""}`,children:h.jsx(Cw,{})})]})},gA="/assets/404-dark-CjKyFeWZ.png",yA="/assets/full-logo-dark-j4i7Krzv.png",ex=()=>{const{language:t}=k.useContext(re);return h.jsxs("section",{className:" h-cover relative p-10 flex flex-col items-center gap-20",children:[h.jsx("img",{src:gA,className:"select-none border-2 border-grey w-72 aspect-square object-cover rounded"}),h.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page not found"}),h.jsxs("p",{className:"text-dark-grey text-xl leading-7 -mt-8",children:[I.page_not_found.des[t]," ",h.jsx(ne,{to:"/",className:"text-black underline",children:I.home_page.home[t]})]}),h.jsxs("div",{className:"mt-auto",children:[h.jsx("img",{src:yA,className:"h-8 object-contain block mx-auto select-none"}),h.jsx("p",{className:"mt-5 text-dark-grey",children:I.page_not_found.footer[t]})]})]})},Jf=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Pc=k.createContext({}),Rc=k.createContext(null),Qf=typeof document<"u",Zf=Qf?k.useLayoutEffect:k.useEffect,tx=k.createContext({strict:!1}),ep=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vA="framerAppearId",nx="data-"+ep(vA),bA={skipAnimations:!1,useManualTiming:!1};class $g{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function wA(t){let e=new $g,n=new $g,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&o,f=u?e:n;return c&&s.add(l),f.add(l)&&u&&o&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];s.has(d)&&(a.schedule(d),t()),d(l)}o=!1,i&&(i=!1,a.process(l))}};return a}const Ca=["read","resolveKeyframes","update","preRender","render","postRender"],xA=40;function rx(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Ca.reduce((u,f)=>(u[f]=wA(()=>n=!0),u),{}),s=u=>{i[u].process(o)},a=()=>{const u=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(u-o.timestamp,xA),1),o.timestamp=u,o.isProcessing=!0,Ca.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:Ca.reduce((u,f)=>{const y=i[f];return u[f]=(p,g=!1,w=!1)=>(n||l(),y.schedule(p,g,w)),u},{}),cancel:u=>Ca.forEach(f=>i[f].cancel(u)),state:o,steps:i}}const{schedule:tp,cancel:y5}=rx(queueMicrotask,!1);function kA(t,e,n,r){const{visualElement:o}=k.useContext(Pc),i=k.useContext(tx),s=k.useContext(Rc),a=k.useContext(Jf).reducedMotion,l=k.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;k.useInsertionEffect(()=>{c&&c.update(n,s)});const d=k.useRef(!!(n[nx]&&!window.HandoffComplete));return Zf(()=>{c&&(tp.postRender(c.render),d.current&&c.animationState&&c.animationState.animateChanges())}),k.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EA(t,e,n){return k.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Lo(n)&&(n.current=r))},[e])}function As(t){return typeof t=="string"||Array.isArray(t)}function Lc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const np=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rp=["initial",...np];function Bc(t){return Lc(t.animate)||rp.some(e=>As(t[e]))}function ox(t){return!!(Bc(t)||t.variants)}function SA(t,e){if(Bc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||As(n)?n:void 0,animate:As(r)?r:void 0}}return t.inherit!==!1?e:{}}function _A(t){const{initial:e,animate:n}=SA(t,k.useContext(Pc));return k.useMemo(()=>({initial:e,animate:n}),[zg(e),zg(n)])}function zg(t){return Array.isArray(t)?t.join(" "):t}const Wg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ns={};for(const t in Wg)Ns[t]={isEnabled:e=>Wg[t].some(n=>!!e[n])};function CA(t){for(const e in t)Ns[e]={...Ns[e],...t[e]}}const op=k.createContext({}),ix=k.createContext({}),TA=Symbol.for("motionComponentSymbol");function AA({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&CA(t);function i(a,l){let c;const d={...k.useContext(Jf),...a,layoutId:NA(a)},{isStatic:u}=d,f=_A(a),y=r(a,u);if(!u&&Qf){f.visualElement=kA(o,y,d,e);const p=k.useContext(ix),g=k.useContext(tx).strict;f.visualElement&&(c=f.visualElement.loadFeatures(d,g,t,p))}return k.createElement(Pc.Provider,{value:f},c&&f.visualElement?k.createElement(c,{visualElement:f.visualElement,...d}):null,n(o,a,EA(y,f.visualElement,l),y,u,f.visualElement))}const s=k.forwardRef(i);return s[TA]=o,s}function NA({layoutId:t}){const e=k.useContext(op).id;return e&&t!==void 0?e+"-"+t:t}function IA(t){function e(r,o={}){return AA(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const PA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ip(t){return typeof t!="string"||t.includes("-")?!1:!!(PA.indexOf(t)>-1||/[A-Z]/u.test(t))}const Hl={};function RA(t){Object.assign(Hl,t)}const Ks=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(Ks);function sx(t,{layout:e,layoutId:n}){return co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hl[t]||t==="opacity")}const ze=t=>!!(t&&t.getVelocity),LA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BA=Ks.length;function OA(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<BA;s++){const a=Ks[s];if(t[a]!==void 0){const l=LA[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const ax=t=>e=>typeof e=="string"&&e.startsWith(t),lx=ax("--"),MA=ax("var(--"),sp=t=>MA(t)?jA.test(t.split("/*")[0].trim()):!1,jA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,DA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,yr=(t,e,n)=>n>e?e:n<t?t:n,pi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},es={...pi,transform:t=>yr(0,1,t)},Ta={...pi,default:1},ts=t=>Math.round(t*1e5)/1e5,ap=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,FA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,UA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Gs(t){return typeof t=="string"}const Ys=t=>({test:e=>Gs(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Un=Ys("deg"),Jt=Ys("%"),H=Ys("px"),VA=Ys("vh"),HA=Ys("vw"),qg={...Jt,parse:t=>Jt.parse(t)/100,transform:t=>Jt.transform(t*100)},Kg={...pi,transform:Math.round},cx={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,size:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,rotate:Un,rotateX:Un,rotateY:Un,rotateZ:Un,scale:Ta,scaleX:Ta,scaleY:Ta,scaleZ:Ta,skew:Un,skewX:Un,skewY:Un,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:es,originX:qg,originY:qg,originZ:H,zIndex:Kg,backgroundPositionX:H,backgroundPositionY:H,fillOpacity:es,strokeOpacity:es,numOctaves:Kg};function lp(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const u in e){const f=e[u];if(lx(u)){i[u]=f;continue}const y=cx[u],p=DA(f,y);if(co.has(u)){if(l=!0,s[u]=p,!d)continue;f!==(y.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,a[u]=p):o[u]=p}if(e.transform||(l||r?o.transform=OA(t.transform,n,d,r):o.transform&&(o.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:y=0}=a;o.transformOrigin=`${u} ${f} ${y}`}}const cp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ux(t,e,n){for(const r in e)!ze(e[r])&&!sx(r,n)&&(t[r]=e[r])}function $A({transformTemplate:t},e,n){return k.useMemo(()=>{const r=cp();return lp(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function zA(t,e,n){const r=t.style||{},o={};return ux(o,r,t),Object.assign(o,$A(t,e,n)),o}function WA(t,e,n){const r={},o=zA(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const qA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $l(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qA.has(t)}let dx=t=>!$l(t);function KA(t){t&&(dx=e=>e.startsWith("on")?!$l(e):t(e))}try{KA(require("@emotion/is-prop-valid").default)}catch{}function GA(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(dx(o)||n===!0&&$l(o)||!e&&!$l(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function Gg(t,e,n){return typeof t=="string"?t:H.transform(e+n*t)}function YA(t,e,n){const r=Gg(e,t.x,t.width),o=Gg(n,t.y,t.height);return`${r} ${o}`}const XA={offset:"stroke-dashoffset",array:"stroke-dasharray"},JA={offset:"strokeDashoffset",array:"strokeDasharray"};function QA(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?XA:JA;t[i.offset]=H.transform(-r);const s=H.transform(e),a=H.transform(n);t[i.array]=`${s} ${a}`}function up(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,u,f){if(lp(t,c,d,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:p,dimensions:g}=t;y.transform&&(g&&(p.transform=y.transform),delete y.transform),g&&(o!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=YA(g,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&QA(y,s,a,l,!1)}const hx=()=>({...cp(),attrs:{}}),dp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZA(t,e,n,r){const o=k.useMemo(()=>{const i=hx();return up(i,e,{enableHardwareAcceleration:!1},dp(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};ux(i,t.style,t),o.style={...i,...o.style}}return o}function eN(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(ip(n)?ZA:WA)(r,i,s,n),c=GA(r,typeof n=="string",t),d=n!==k.Fragment?{...c,...l,ref:o}:{},{children:u}=r,f=k.useMemo(()=>ze(u)?u.get():u,[u]);return k.createElement(n,{...d,children:f})}}function fx(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const px=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mx(t,e,n,r){fx(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(px.has(o)?o:ep(o),e.attrs[o])}function hp(t,e){const{style:n}=t,r={};for(const o in n)(ze(n[o])||e.style&&ze(e.style[o])||sx(o,t))&&(r[o]=n[o]);return r}function gx(t,e){const n=hp(t,e);for(const r in t)if(ze(t[r])||ze(e[r])){const o=Ks.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function fp(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function yx(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const ah=t=>Array.isArray(t),tN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),nN=t=>ah(t)?t[t.length-1]||0:t;function tl(t){const e=ze(t)?t.get():t;return tN(e)?e.toValue():e}function rN({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:oN(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const vx=t=>(e,n)=>{const r=k.useContext(Pc),o=k.useContext(Rc),i=()=>rN(t,e,r,o);return n?i():yx(i)};function oN(t,e,n,r){const o={},i=r(t,{});for(const f in i)o[f]=tl(i[f]);let{initial:s,animate:a}=t;const l=Bc(t),c=ox(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const u=d?a:s;return u&&typeof u!="boolean"&&!Lc(u)&&(Array.isArray(u)?u:[u]).forEach(y=>{const p=fp(t,y);if(!p)return;const{transitionEnd:g,transition:w,...v}=p;for(const m in v){let b=v[m];if(Array.isArray(b)){const x=d?b.length-1:0;b=b[x]}b!==null&&(o[m]=b)}for(const m in g)o[m]=g[m]}),o}const We=t=>t,{schedule:Re,cancel:vr,state:Me,steps:Tu}=rx(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),iN={useVisualState:vx({scrapeMotionValuesFromProps:gx,createRenderState:hx,onMount:(t,e,{renderState:n,latestValues:r})=>{Re.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Re.render(()=>{up(n,r,{enableHardwareAcceleration:!1},dp(e.tagName),t.transformTemplate),mx(e,n)})}})},sN={useVisualState:vx({scrapeMotionValuesFromProps:hp,createRenderState:cp})};function aN(t,{forwardMotionProps:e=!1},n,r){return{...ip(t)?iN:sN,preloadedFeatures:n,useRender:eN(e),createVisualElement:r,Component:t}}function pn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const bx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Oc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const lN=t=>e=>bx(e)&&t(e,Oc(e));function kn(t,e,n,r){return pn(t,e,lN(n),r)}const cN=(t,e)=>n=>e(t(n)),En=(...t)=>t.reduce(cN);function wx(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Yg=wx("dragHorizontal"),Xg=wx("dragVertical");function xx(t){let e=!1;if(t==="y")e=Xg();else if(t==="x")e=Yg();else{const n=Yg(),r=Xg();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function kx(){const t=xx(!0);return t?(t(),!1):!0}class _r{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Jg(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||kx())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&a[r](i,s)};return kn(t.current,n,o,{passive:!t.getProps()[r]})}class uN extends _r{mount(){this.unmount=En(Jg(this.node,!0),Jg(this.node,!1))}unmount(){}}class dN extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=En(pn(this.node.current,"focus",()=>this.onFocus()),pn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ex=(t,e)=>e?t===e?!0:Ex(t,e.parentElement):!1;function Au(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Oc(n))}class hN extends _r{constructor(){super(...arguments),this.removeStartListeners=We,this.removeEndListeners=We,this.removeAccessibleListeners=We,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=kn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:u}=this.node.getProps();!u&&!Ex(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)},{passive:!(r.onTap||r.onPointerUp)}),s=kn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=En(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Au("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&d(l,c)})};this.removeEndListeners(),this.removeEndListeners=pn(this.node.current,"keyup",s),Au("down",(a,l)=>{this.startPress(a,l)})},n=pn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Au("cancel",(i,s)=>this.cancelPress(i,s))},o=pn(this.node.current,"blur",r);this.removeAccessibleListeners=En(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(e,n)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kx()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&r(e,n)}mount(){const e=this.node.getProps(),n=kn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=pn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=En(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lh=new WeakMap,Nu=new WeakMap,fN=t=>{const e=lh.get(t.target);e&&e(t)},pN=t=>{t.forEach(fN)};function mN({root:t,...e}){const n=t||document;Nu.has(n)||Nu.set(n,{});const r=Nu.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(pN,{root:t,...e})),r[o]}function gN(t,e,n){const r=mN(e);return lh.set(t,n),r.observe(t),()=>{lh.delete(t),r.unobserve(t)}}const yN={some:0,all:1};class vN extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:yN[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),f=c?d:u;f&&f(l)};return gN(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(bN(e,n))&&this.startObserver()}unmount(){}}function bN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wN={inView:{Feature:vN},tap:{Feature:hN},focus:{Feature:dN},hover:{Feature:uN}};function Sx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xN(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function kN(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Mc(t,e,n){const r=t.getProps();return fp(r,e,n!==void 0?n:r.custom,xN(t),kN(t))}const $r=t=>t*1e3,Sn=t=>t/1e3,EN={type:"spring",stiffness:500,damping:25,restSpeed:10},SN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_N={type:"keyframes",duration:.8},CN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TN=(t,{keyframes:e})=>e.length>2?_N:co.has(t)?t.startsWith("scale")?SN(e[1]):EN:CN;function AN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function pp(t,e){return t[e]||t.default||t}const NN=t=>t!==null;function jc(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(NN),i=e&&n!=="loop"&&e%2===1?0:o.length-1;return!i||r===void 0?o[i]:r}let nl;function IN(){nl=void 0}const dr={now:()=>(nl===void 0&&dr.set(Me.isProcessing||bA.useManualTiming?Me.timestamp:performance.now()),nl),set:t=>{nl=t,queueMicrotask(IN)}},_x=t=>/^0[^.\s]+$/u.test(t);function PN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_x(t):!0}let Cx=We;const Tx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),RN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LN(t){const e=RN.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function Ax(t,e,n=1){const[r,o]=LN(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const s=i.trim();return Tx(s)?parseFloat(s):s}return sp(o)?Ax(o,e,n+1):o}const BN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Qg=t=>t===pi||t===H,Zg=(t,e)=>parseFloat(t.split(", ")[e]),ey=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return Zg(o[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Zg(i[1],t):0}},ON=new Set(["x","y","z"]),MN=Ks.filter(t=>!ON.has(t));function jN(t){const e=[];return MN.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ni={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ey(4,13),y:ey(5,14)};ni.translateX=ni.x;ni.translateY=ni.y;const Nx=t=>e=>e.test(t),DN={test:t=>t==="auto",parse:t=>t},Ix=[pi,H,Jt,Un,HA,VA,DN],ty=t=>Ix.find(Nx(t)),Wt=new Set;let ch=!1,uh=!1;function Px(){uh&&(Wt.forEach(t=>{t.needsMeasurement&&t.unsetTransforms()}),Wt.forEach(t=>{t.needsMeasurement&&t.measureInitialState()}),Wt.forEach(t=>{t.needsMeasurement&&t.renderEndStyles()}),Wt.forEach(t=>{t.needsMeasurement&&t.measureEndState()})),uh=!1,ch=!1,Wt.forEach(t=>t.complete()),Wt.clear()}function Rx(){Wt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uh=!0)})}function FN(){Rx(),Px()}class mp{constructor(e,n,r,o,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wt.add(this),ch||(ch=!0,Re.read(Rx),Re.resolveKeyframes(Px))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const s=o==null?void 0:o.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),o&&s===void 0&&o.set(e[0])}else e[i]=e[i-1]}unsetTransforms(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gp=(t,e)=>n=>!!(Gs(n)&&UA.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Lx=(t,e,n)=>r=>{if(!Gs(r))return r;const[o,i,s,a]=r.match(ap);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},UN=t=>yr(0,255,t),Iu={...pi,transform:t=>Math.round(UN(t))},Fr={test:gp("rgb","red"),parse:Lx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Iu.transform(t)+", "+Iu.transform(e)+", "+Iu.transform(n)+", "+ts(es.transform(r))+")"};function VN(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const dh={test:gp("#"),parse:VN,transform:Fr.transform},Bo={test:gp("hsl","hue"),parse:Lx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Jt.transform(ts(e))+", "+Jt.transform(ts(n))+", "+ts(es.transform(r))+")"},He={test:t=>Fr.test(t)||dh.test(t)||Bo.test(t),parse:t=>Fr.test(t)?Fr.parse(t):Bo.test(t)?Bo.parse(t):dh.parse(t),transform:t=>Gs(t)?t:t.hasOwnProperty("red")?Fr.transform(t):Bo.transform(t)};function HN(t){var e,n;return isNaN(t)&&Gs(t)&&(((e=t.match(ap))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(FA))===null||n===void 0?void 0:n.length)||0)>0}const Bx="number",Ox="color",$N="var",zN="var(",ny="${}",WN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=e.replace(WN,l=>(He.test(l)?(r.color.push(i),o.push(Ox),n.push(He.parse(l))):l.startsWith(zN)?(r.var.push(i),o.push($N),n.push(l)):(r.number.push(i),o.push(Bx),n.push(parseFloat(l))),++i,ny)).split(ny);return{values:n,split:a,indexes:r,types:o}}function Mx(t){return zl(t).values}function jx(t){const{split:e,types:n}=zl(t),r=e.length;return o=>{let i="";for(let s=0;s<r;s++)if(i+=e[s],o[s]!==void 0){const a=n[s];a===Bx?i+=ts(o[s]):a===Ox?i+=He.transform(o[s]):i+=o[s]}return i}}const qN=t=>typeof t=="number"?0:t;function KN(t){const e=Mx(t);return jx(t)(e.map(qN))}const br={test:HN,parse:Mx,createTransformer:jx,getAnimatableNone:KN},GN=new Set(["brightness","contrast","saturate","opacity"]);function YN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ap)||[];if(!r)return t;const o=n.replace(r,"");let i=GN.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const XN=/\b([a-z-]*)\(.*?\)/gu,hh={...br,getAnimatableNone:t=>{const e=t.match(XN);return e?e.map(YN).join(" "):t}},JN={...cx,color:He,backgroundColor:He,outlineColor:He,fill:He,stroke:He,borderColor:He,borderTopColor:He,borderRightColor:He,borderBottomColor:He,borderLeftColor:He,filter:hh,WebkitFilter:hh},yp=t=>JN[t];function Dx(t,e){let n=yp(t);return n!==hh&&(n=br),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function QN(t,e,n){let r=0,o;for(;r<t.length&&!o;)typeof t[r]=="string"&&t[r]!=="none"&&t[r]!=="0"&&(o=t[r]),r++;if(o&&n)for(const i of e)t[i]=Dx(n,o)}class Fx extends mp{constructor(e,n,r,o){super(e,n,r,o,o==null?void 0:o.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const c=e[l];if(typeof c=="string"&&sp(c)){const d=Ax(c,n.current);d!==void 0&&(e[l]=d)}}if(!BN.has(r)||e.length!==2)return this.resolveNoneKeyframes();const[o,i]=e,s=ty(o),a=ty(i);if(s!==a)if(Qg(s)&&Qg(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)PN(e[o])&&r.push(o);r.length&&QN(e,r,n)}unsetTransforms(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e.current)return;this.removedTransforms=jN(e);const o=r[r.length-1];e.getValue(n,o).jump(o,!1)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;e.current&&(r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ni[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin)}renderEndStyles(){this.element.render()}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=o.length-1,a=o[s];o[s]=ni[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&(this.finalKeyframe=a),r==="height"&&this.suspendedScrollY!==void 0&&window.scrollTo(0,this.suspendedScrollY),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ZN(t){let e;return()=>(e===void 0&&(e=t()),e)}const ry=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(br.test(t)||t==="0")&&!t.startsWith("url("));function eI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tI(t,e,n,r){const o=t[0];if(o===null)return!1;const i=t[t.length-1],s=ry(o,e),a=ry(i,e);return!s||!a?!1:eI(t)||n==="spring"&&r}class Ux{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:s="loop",...a}){this.isStopped=!1,this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:i,repeatType:s,...a},this.updateFinishedPromise()}get resolved(){return this._resolved||FN(),this._resolved}onKeyframesResolved(e,n){const{name:r,type:o,velocity:i,delay:s,onComplete:a,onUpdate:l}=this.options;if(!tI(e,r,o,i))if(s)this.options.duration=0;else{l==null||l(jc(e,this.options,n)),a==null||a(),this.resolveFinishedPromise(),this.updateFinishedPromise();return}this._resolved={keyframes:e,finalKeyframe:n,...this.initPlayback(e,n)},this.onPostResolved()}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=()=>{e(),this.updateFinishedPromise()}})}}function Vx(t,e){return e?t*(1e3/e):0}const nI=5;function Hx(t,e,n){const r=Math.max(e-nI,0);return Vx(n-t(r),e-r)}const Pu=.001,rI=.01,oI=10,iI=.05,sI=1;function aI({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i,s=1-e;s=yr(iI,sI,s),t=yr(rI,oI,Sn(t)),s<1?(o=c=>{const d=c*s,u=d*t,f=d-n,y=fh(c,s),p=Math.exp(-u);return Pu-f/y*p},i=c=>{const u=c*s*t,f=u*n+n,y=Math.pow(s,2)*Math.pow(c,2)*t,p=Math.exp(-u),g=fh(Math.pow(c,2),s);return(-o(c)+Pu>0?-1:1)*((f-y)*p)/g}):(o=c=>{const d=Math.exp(-c*t),u=(c-n)*t+1;return-Pu+d*u},i=c=>{const d=Math.exp(-c*t),u=(n-c)*(t*t);return d*u});const a=5/t,l=cI(o,i,a);if(t=$r(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const lI=12;function cI(t,e,n){let r=n;for(let o=1;o<lI;o++)r=r-t(r)/e(r);return r}function fh(t,e){return t*Math.sqrt(1-e*e)}const uI=["duration","bounce"],dI=["stiffness","damping","mass"];function oy(t,e){return e.some(n=>t[n]!==void 0)}function hI(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!oy(t,dI)&&oy(t,uI)){const n=aI(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function $x({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:d,velocity:u,isResolvedFromDuration:f}=hI({...r,velocity:-Sn(r.velocity||0)}),y=u||0,p=l/(2*Math.sqrt(a*c)),g=i-o,w=Sn(Math.sqrt(a/c)),v=Math.abs(g)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let m;if(p<1){const b=fh(w,p);m=x=>{const E=Math.exp(-p*w*x);return i-E*((y+p*w*g)/b*Math.sin(b*x)+g*Math.cos(b*x))}}else if(p===1)m=b=>i-Math.exp(-w*b)*(g+(y+w*g)*b);else{const b=w*Math.sqrt(p*p-1);m=x=>{const E=Math.exp(-p*w*x),C=Math.min(b*x,300);return i-E*((y+p*w*g)*Math.sinh(C)+b*g*Math.cosh(C))/b}}return{calculatedDuration:f&&d||null,next:b=>{const x=m(b);if(f)s.done=b>=d;else{let E=y;b!==0&&(p<1?E=Hx(m,b,x):E=0);const C=Math.abs(E)<=n,A=Math.abs(i-x)<=e;s.done=C&&A}return s.value=s.done?i:x,s}}}function iy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=t[0],f={done:!1,value:u},y=S=>a!==void 0&&S<a||l!==void 0&&S>l,p=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let g=n*e;const w=u+g,v=s===void 0?w:s(w);v!==w&&(g=v-u);const m=S=>-g*Math.exp(-S/r),b=S=>v+m(S),x=S=>{const _=m(S),T=b(S);f.done=Math.abs(_)<=c,f.value=f.done?v:T};let E,C;const A=S=>{y(f.value)&&(E=S,C=$x({keyframes:[f.value,p(f.value)],velocity:Hx(b,S,f.value),damping:o,stiffness:i,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:S=>{let _=!1;return!C&&E===void 0&&(_=!0,x(S),A(S)),E!==void 0&&S>=E?C.next(S-E):(!_&&x(S),f)}}}const zx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fI=1e-7,pI=12;function mI(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=zx(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>fI&&++a<pI);return s}function Xs(t,e,n,r){if(t===e&&n===r)return We;const o=i=>mI(i,0,1,t,n);return i=>i===0||i===1?i:zx(o(i),e,r)}const gI=Xs(.42,0,1,1),yI=Xs(0,0,.58,1),Wx=Xs(.42,0,.58,1),vI=t=>Array.isArray(t)&&typeof t[0]!="number",qx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Kx=t=>e=>1-t(1-e),vp=t=>1-Math.sin(Math.acos(t)),Gx=Kx(vp),bI=qx(vp),Yx=Xs(.33,1.53,.69,.99),bp=Kx(Yx),wI=qx(bp),xI=t=>(t*=2)<1?.5*bp(t):.5*(2-Math.pow(2,-10*(t-1))),kI={linear:We,easeIn:gI,easeInOut:Wx,easeOut:yI,circIn:vp,circInOut:bI,circOut:Gx,backIn:bp,backInOut:wI,backOut:Yx,anticipate:xI},sy=t=>{if(Array.isArray(t)){Cx(t.length===4);const[e,n,r,o]=t;return Xs(e,n,r,o)}else if(typeof t=="string")return kI[t];return t},Is=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},me=(t,e,n)=>t+(e-t)*n;function Ru(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function EI({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=Ru(l,a,t+1/3),i=Ru(l,a,t),s=Ru(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const Lu=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},SI=[dh,Fr,Bo],_I=t=>SI.find(e=>e.test(t));function ay(t){const e=_I(t);let n=e.parse(t);return e===Bo&&(n=EI(n)),n}const ly=(t,e)=>{const n=ay(t),r=ay(e),o={...n};return i=>(o.red=Lu(n.red,r.red,i),o.green=Lu(n.green,r.green,i),o.blue=Lu(n.blue,r.blue,i),o.alpha=me(n.alpha,r.alpha,i),Fr.transform(o))};function ph(t,e){return n=>n>0?e:t}function CI(t,e){return n=>me(t,e,n)}function wp(t){return typeof t=="number"?CI:typeof t=="string"?sp(t)?ph:He.test(t)?ly:NI:Array.isArray(t)?Xx:typeof t=="object"?He.test(t)?ly:TI:ph}function Xx(t,e){const n=[...t],r=n.length,o=t.map((i,s)=>wp(i)(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}}function TI(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=wp(t[o])(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}}function AI(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][o[s]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,o[s]++}return r}const NI=(t,e)=>{const n=br.createTransformer(e),r=zl(t),o=zl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?En(Xx(AI(r,o),o.values),n):ph(t,e)};function Jx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?me(t,e,n):wp(t)(t,e)}function II(t,e,n){const r=[],o=n||Jx,i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||We:e;a=En(l,a)}r.push(a)}return r}function PI(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(Cx(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=II(e,r,o),a=s.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const u=Is(t[d],t[d+1],c);return s[d](u)};return n?c=>l(yr(t[0],t[i-1],c)):l}function RI(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Is(0,e,r);t.push(me(n,1,o))}}function LI(t){const e=[0];return RI(e,t.length-1),e}function BI(t,e){return t.map(n=>n*e)}function OI(t,e){return t.map(()=>e||Wx).splice(0,t.length-1)}function Wl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=vI(r)?r.map(sy):sy(r),i={done:!1,value:e[0]},s=BI(n&&n.length===e.length?n:LI(e),t),a=PI(s,e,{ease:Array.isArray(o)?o:OI(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const cy=2e4;function MI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cy;)e+=n,r=t.next(e);return e>=cy?1/0:e}const jI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Re.update(e,!0),stop:()=>vr(e),now:()=>Me.isProcessing?Me.timestamp:dr.now()}},DI={decay:iy,inertia:iy,tween:Wl,keyframes:Wl,spring:$x},FI=t=>t/100;class xp extends Ux{constructor({KeyframeResolver:e=mp,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle";const{name:r,motionValue:o,keyframes:i}=this.options,s=(a,l)=>this.onKeyframesResolved(a,l);r&&o&&o.owner?this.resolver=o.owner.resolveKeyframes(i,s,r,o):this.resolver=new e(i,s,r,o),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:i,velocity:s=0}=this.options,a=DI[n]||Wl;let l,c;a!==Wl&&typeof e[0]!="number"&&(l=En(FI,Jx(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=MI(d));const{calculatedDuration:u}=d,f=u+o,y=f*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:u,resolvedDuration:f,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:u}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:y,repeatType:p,repeatDelay:g,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,x=i;if(y){const S=Math.min(this.currentTime,d)/u;let _=Math.floor(S),T=S%1;!T&&S>=1&&(T=1),T===1&&_--,_=Math.min(_,y+1),!!(_%2)&&(p==="reverse"?(T=1-T,g&&(T-=g/u)):p==="mirror"&&(x=s)),b=yr(0,1,T)*u}const E=m?{done:!1,value:l[0]}:x.next(b);a&&(E.value=a(E.value));let{done:C}=E;!m&&c!==null&&(C=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return A&&o!==void 0&&(E.value=jc(l,this.options,o)),w&&w(E.value),A&&this.finish(),E}get duration(){const{resolved:e}=this;return e?Sn(e.calculatedDuration):0}get time(){return Sn(this.currentTime)}set time(e){e=$r(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Sn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=jI,onPlay:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}stop(){if(this.isStopped=!0,this.state==="idle")return;this.state="idle";const{onStop:e}=this.options;e&&e(),this.teardown()}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Qx=t=>Array.isArray(t)&&typeof t[0]=="number";function Zx(t){return!!(!t||typeof t=="string"&&e1[t]||Qx(t)||Array.isArray(t)&&t.every(Zx))}const ji=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,e1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ji([0,.65,.55,1]),circOut:ji([.55,0,1,.45]),backIn:ji([.31,.01,.66,-.59]),backOut:ji([.33,1.53,.69,.99])};function t1(t){if(t)return Qx(t)?ji(t):Array.isArray(t)?t.map(t1):e1[t]}function UI(t,e,n,{delay:r=0,duration:o=300,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=t1(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}const VI=ZN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HI=new Set(["opacity","clipPath","filter","transform"]),ql=10,$I=2e4;function zI(t){return t.type==="spring"||t.name==="backgroundColor"||!Zx(t.ease)}function WI(t,e){const n=new xp({...e,keyframes:t,repeat:0,delay:0});let r={done:!1,value:t[0]};const o=[];let i=0;for(;!r.done&&i<$I;)r=n.sample(i),o.push(r.value),i+=ql;return{times:void 0,keyframes:o,duration:i-ql,ease:"linear"}}class uy extends Ux{constructor(e){super(e);const{name:n,motionValue:r,keyframes:o}=this.options;this.resolver=new Fx(o,(i,s)=>this.onKeyframesResolved(i,s),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){let r=this.options.duration||300;if(zI(this.options)){const{onComplete:a,onUpdate:l,motionValue:c,...d}=this.options,u=WI(e,d);e=u.keyframes,r=u.duration,this.options.times=u.times,this.options.ease=u.ease}const{motionValue:o,name:i}=this.options,s=UI(o.owner.current,i,e,{...this.options,duration:r});return s.startTime=dr.now(),this.pendingTimeline?(s.timeline=this.pendingTimeline,this.pendingTimeline=void 0):s.onfinish=()=>{const{onComplete:a}=this.options;o.set(jc(e,this.options,n)),a&&a(),this.cancel(),this.resolveFinishedPromise(),this.updateFinishedPromise()},{animation:s,duration:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Sn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Sn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=$r(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return We;const{animation:r}=n;r.timeline=e,r.onfinish=null}return We}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){this.isStopped=!0;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:o,onUpdate:i,onComplete:s,...a}=this.options,l=new xp({...a,keyframes:r});o.setWithVelocity(l.sample(this.time-ql).value,l.sample(this.time).value,ql)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:i,damping:s,type:a}=e;return VI()&&r&&HI.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&i!=="mirror"&&s!==0&&a!=="inertia"}}const kp=(t,e,n,r={},o,i)=>s=>{const a=pp(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-$r(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:o};AN(a)||(d={...d,...TN(t,d)}),d.duration&&(d.duration=$r(d.duration)),d.repeatDelay&&(d.repeatDelay=$r(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if(d.type===!1&&(d.duration=0,d.delay===0&&(u=!0)),u&&!i&&e.get()!==void 0){const f=jc(d.keyframes,a);if(f!==void 0){Re.update(()=>{d.onUpdate(f),d.onComplete()});return}}return!i&&uy.supports(d)?new uy(d):new xp(d)};function Kl(t){return!!(ze(t)&&t.add)}function Ep(t,e){t.indexOf(e)===-1&&t.push(e)}function Sp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _p{constructor(){this.subscriptions=[]}add(e){return Ep(this.subscriptions,e),()=>Sp(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dy=30,qI=t=>!isNaN(parseFloat(t));class KI{constructor(e,n={}){this.version="11.0.14",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{const i=dr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=qI(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dr.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _p);const r=this.events[e].add(n);return e==="change"?()=>{r(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dy);return Vx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ps(t,e){return new KI(t,e)}function GI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ps(n))}function YI(t,e){const n=Mc(t,e);let{transitionEnd:r={},transition:o={},...i}=n||{};i={...i,...r};for(const s in i){const a=nN(i[s]);GI(t,s,a)}}function XI({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function n1(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var i;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;const c=t.getValue("willChange");r&&(s=r);const d=[],u=o&&t.animationState&&t.animationState.getState()[o];for(const f in l){const y=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),p=l[f];if(p===void 0||u&&XI(u,f))continue;const g={delay:n,elapsed:0,...pp(s||{},f)};let w=!1;if(window.HandoffAppearAnimations){const m=t.getProps()[nx];if(m){const b=window.HandoffAppearAnimations(m,f);b!==null&&(g.elapsed=b,w=!0)}}y.start(kp(f,y,p,t.shouldReduceMotion&&co.has(f)?{type:!1}:g,t,w));const v=y.animation;v&&(Kl(c)&&(c.add(f),v.then(()=>c.remove(f))),d.push(v))}return a&&Promise.all(d).then(()=>{Re.update(()=>{a&&YI(t,a)})}),d}function mh(t,e,n={}){var r;const o=Mc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const s=o?()=>Promise.all(n1(t,o,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=i;return JI(t,e,d+c,u,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function JI(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(QI).forEach((c,d)=>{c.notify("AnimationStart",e),s.push(mh(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function QI(t,e){return t.sortNodePosition(e)}function ZI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>mh(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=mh(t,e,n);else{const o=typeof e=="function"?Mc(t,e,n.custom):e;r=Promise.all(n1(t,o,n))}return r.then(()=>{Re.postRender(()=>{t.notify("AnimationComplete",e)})})}const eP=[...np].reverse(),tP=np.length;function nP(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ZI(t,n,r)))}function rP(t){let e=nP(t);const n=iP();let r=!0;const o=l=>(c,d)=>{var u;const f=Mc(t,d,l==="exit"?(u=t.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(f){const{transition:y,transitionEnd:p,...g}=f;c={...c,...g,...p}}return c};function i(l){e=l(t)}function s(l){const c=t.getProps(),d=t.getVariantContext(!0)||{},u=[],f=new Set;let y={},p=1/0;for(let w=0;w<tP;w++){const v=eP[w],m=n[v],b=c[v]!==void 0?c[v]:d[v],x=As(b),E=v===l?m.isActive:null;E===!1&&(p=w);let C=b===d[v]&&b!==c[v]&&x;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),m.protectedKeys={...y},!m.isActive&&E===null||!b&&!m.prevProp||Lc(b)||typeof b=="boolean")continue;let S=oP(m.prevProp,b)||v===l&&m.isActive&&!C&&x||w>p&&x,_=!1;const T=Array.isArray(b)?b:[b];let R=T.reduce(o(v),{});E===!1&&(R={});const{prevResolvedValues:M={}}=m,V={...M,...R},$=j=>{S=!0,f.has(j)&&(_=!0,f.delete(j)),m.needsAnimating[j]=!0};for(const j in V){const q=R[j],xe=M[j];if(y.hasOwnProperty(j))continue;let B=!1;ah(q)&&ah(xe)?B=!Sx(q,xe):B=q!==xe,B?q!=null?$(j):f.add(j):q!==void 0&&f.has(j)?$(j):m.protectedKeys[j]=!0}m.prevProp=b,m.prevResolvedValues=R,m.isActive&&(y={...y,...R}),r&&t.blockInitialAnimation&&(S=!1),S&&(!C||_)&&u.push(...T.map(j=>({animation:j,options:{type:v}})))}if(f.size){const w={};f.forEach(v=>{const m=t.getBaseTarget(v);w[v]=m===void 0?null:m}),u.push({animation:w})}let g=!!u.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(u):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const u=s(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function oP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Sx(e,t):!1}function Ar(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iP(){return{animate:Ar(!0),whileInView:Ar(),whileHover:Ar(),whileTap:Ar(),whileDrag:Ar(),whileFocus:Ar(),exit:Ar()}}class sP extends _r{constructor(e){super(e),e.animationState||(e.animationState=rP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Lc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let aP=0;class lP extends _r{constructor(){super(...arguments),this.id=aP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cP={animation:{Feature:sP},exit:{Feature:lP}},hy=(t,e)=>Math.abs(t-e);function uP(t,e){const n=hy(t.x,e.x),r=hy(t.y,e.y);return Math.sqrt(n**2+r**2)}class r1{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Ou(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=uP(u.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:p}=u,{timestamp:g}=Me;this.history.push({...p,timestamp:g});const{onStart:w,onMove:v}=this.handlers;f||(w&&w(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Bu(f,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{this.end();const{onEnd:y,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ou(u.type==="pointercancel"?this.lastMoveEventInfo:Bu(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(u,w),p&&p(u,w)},!bx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=Oc(e),a=Bu(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=Me;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Ou(a,this.history)),this.removeListeners=En(kn(this.contextWindow,"pointermove",this.handlePointerMove),kn(this.contextWindow,"pointerup",this.handlePointerUp),kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vr(this.updatePoint)}}function Bu(t,e){return e?{point:e(t.point)}:t}function fy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ou({point:t},e){return{point:t,delta:fy(t,o1(e)),offset:fy(t,dP(e)),velocity:hP(e,.1)}}function dP(t){return t[0]}function o1(t){return t[t.length-1]}function hP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=o1(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>$r(e)));)n--;if(!r)return{x:0,y:0};const i=Sn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function pt(t){return t.max-t.min}function gh(t,e=0,n=.01){return Math.abs(t-e)<=n}function py(t,e,n,r=.5){t.origin=r,t.originPoint=me(e.min,e.max,t.origin),t.scale=pt(n)/pt(e),(gh(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=me(n.min,n.max,t.origin)-t.originPoint,(gh(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ns(t,e,n,r){py(t.x,e.x,n.x,r?r.originX:void 0),py(t.y,e.y,n.y,r?r.originY:void 0)}function my(t,e,n){t.min=n.min+e.min,t.max=t.min+pt(e)}function fP(t,e,n){my(t.x,e.x,n.x),my(t.y,e.y,n.y)}function gy(t,e,n){t.min=e.min-n.min,t.max=t.min+pt(e)}function rs(t,e,n){gy(t.x,e.x,n.x),gy(t.y,e.y,n.y)}function pP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?me(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?me(n,t,r.max):Math.min(t,n)),t}function yy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mP(t,{top:e,left:n,bottom:r,right:o}){return{x:yy(t.x,n,o),y:yy(t.y,e,r)}}function vy(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gP(t,e){return{x:vy(t.x,e.x),y:vy(t.y,e.y)}}function yP(t,e){let n=.5;const r=pt(t),o=pt(e);return o>r?n=Is(e.min,e.max-r,t.min):r>o&&(n=Is(t.min,t.max-o,e.min)),yr(0,1,n)}function vP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yh=.35;function bP(t=yh){return t===!1?t=0:t===!0&&(t=yh),{x:by(t,"left","right"),y:by(t,"top","bottom")}}function by(t,e,n){return{min:wy(t,e),max:wy(t,n)}}function wy(t,e){return typeof t=="number"?t:t[e]||0}const xy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:xy(),y:xy()}),ky=()=>({min:0,max:0}),ke=()=>({x:ky(),y:ky()});function vt(t){return[t("x"),t("y")]}function i1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Mu(t){return t===void 0||t===1}function vh({scale:t,scaleX:e,scaleY:n}){return!Mu(t)||!Mu(e)||!Mu(n)}function Pr(t){return vh(t)||s1(t)||t.z||t.rotate||t.rotateX||t.rotateY}function s1(t){return Ey(t.x)||Ey(t.y)}function Ey(t){return t&&t!=="0%"}function Gl(t,e,n){const r=t-n,o=e*r;return n+o}function Sy(t,e,n,r,o){return o!==void 0&&(t=Gl(t,o,r)),Gl(t,n,r)+e}function bh(t,e=0,n=1,r,o){t.min=Sy(t.min,e,n,r,o),t.max=Sy(t.max,e,n,r,o)}function a1(t,{x:e,y:n}){bh(t.x,e.translate,e.scale,e.originPoint),bh(t.y,n.translate,n.scale,n.originPoint)}function kP(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,a1(t,s)),r&&Pr(i.latestValues)&&Mo(t,i.latestValues))}e.x=_y(e.x),e.y=_y(e.y)}function _y(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function zn(t,e){t.min=t.min+e,t.max=t.max+e}function Cy(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=me(t.min,t.max,i);bh(t,e[n],e[r],s,e.scale)}const EP=["x","scaleX","originX"],SP=["y","scaleY","originY"];function Mo(t,e){Cy(t.x,e,EP),Cy(t.y,e,SP)}function l1(t,e){return i1(xP(t.getBoundingClientRect(),e))}function _P(t,e,n){const r=l1(t,n),{scroll:o}=e;return o&&(zn(r.x,o.offset.x),zn(r.y,o.offset.y)),r}const c1=({current:t})=>t?t.ownerDocument.defaultView:null,CP=new WeakMap;class TP{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oc(d,"page").point)},i=(d,u)=>{const{drag:f,dragPropagation:y,onDragStart:p}=this.getProps();if(f&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xx(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vt(w=>{let v=this.getAxisMotionValue(w).get()||0;if(Jt.test(v)){const{projection:m}=this.visualElement;if(m&&m.layout){const b=m.layout.layoutBox[w];b&&(v=pt(b)*(parseFloat(v)/100))}}this.originPoint[w]=v}),p&&p(d,u);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,u)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:p,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=u;if(y&&this.currentDirection===null){this.currentDirection=AP(w),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,w),this.updateAxis("y",u.point,w),this.visualElement.render(),g&&g(d,u)},a=(d,u)=>this.stop(d,u),l=()=>vt(d=>{var u;return this.getAnimationState(d)==="paused"&&((u=this.getAxisMotionValue(d).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new r1(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:c1(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&i(e,n)}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Aa(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=pP(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Lo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=mP(o.layoutBox,n):this.constraints=!1,this.elastic=bP(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&vt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=vP(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=_P(r,o.root,this.visualElement.getTransformPagePoint());let s=gP(o.layout.layoutBox,i);if(n){const a=n(wP(s));this.hasMutatedConstraints=!!a,a&&(s=i1(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vt(d=>{if(!Aa(d,n,this.currentDirection))return;let u=l&&l[d]||{};s&&(u={min:0,max:0});const f=o?200:1e6,y=o?40:1e7,p={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(kp(e,r,0,n,this.visualElement))}stopAnimation(){vt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vt(n=>{const{drag:r}=this.getProps();if(!Aa(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-me(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Lo(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};vt(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=yP({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vt(s=>{if(!Aa(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(me(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;CP.set(this.visualElement,this);const e=this.visualElement.current,n=kn(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Lo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=pn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vt(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=l[d].translate,u.set(u.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=yh,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function Aa(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NP extends _r{constructor(e){super(e),this.removeGroupControls=We,this.removeListeners=We,this.controls=new TP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ty=t=>(e,n)=>{t&&t(e,n)};class IP extends _r{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(e){this.session=new r1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:c1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ty(e),onStart:Ty(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&o(i,s)}}}mount(){this.removePointerDownListener=kn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function PP(){const t=k.useContext(Rc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=k.useId();return k.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ay(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ii={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(H.test(t))t=parseFloat(t);else return t;const n=Ay(t,e.target.x),r=Ay(t,e.target.y);return`${n}% ${r}%`}},RP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=br.parse(t);if(o.length>5)return r;const i=br.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=me(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class LP extends Xh.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;RA(BP),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Re.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function u1(t){const[e,n]=PP(),r=k.useContext(op);return Xh.createElement(LP,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(ix),isPresent:e,safeToRemove:n})}const BP={borderRadius:{...Ii,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ii,borderTopRightRadius:Ii,borderBottomLeftRadius:Ii,borderBottomRightRadius:Ii,boxShadow:RP},d1=["TopLeft","TopRight","BottomLeft","BottomRight"],OP=d1.length,Ny=t=>typeof t=="string"?parseFloat(t):t,Iy=t=>typeof t=="number"||H.test(t);function MP(t,e,n,r,o,i){o?(t.opacity=me(0,n.opacity!==void 0?n.opacity:1,jP(r)),t.opacityExit=me(e.opacity!==void 0?e.opacity:1,0,DP(r))):i&&(t.opacity=me(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<OP;s++){const a=`border${d1[s]}Radius`;let l=Py(e,a),c=Py(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Iy(l)===Iy(c)?(t[a]=Math.max(me(Ny(l),Ny(c),r),0),(Jt.test(c)||Jt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=me(e.rotate||0,n.rotate||0,r))}function Py(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jP=h1(0,.5,Gx),DP=h1(.5,.95,We);function h1(t,e,n){return r=>r<t?0:r>e?1:n(Is(t,e,r))}function Ry(t,e){t.min=e.min,t.max=e.max}function yt(t,e){Ry(t.x,e.x),Ry(t.y,e.y)}function Ly(t,e,n,r,o){return t-=e,t=Gl(t,1/n,r),o!==void 0&&(t=Gl(t,1/o,r)),t}function FP(t,e=0,n=1,r=.5,o,i=t,s=t){if(Jt.test(e)&&(e=parseFloat(e),e=me(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=me(i.min,i.max,r);t===i&&(a-=e),t.min=Ly(t.min,e,n,a,o),t.max=Ly(t.max,e,n,a,o)}function By(t,e,[n,r,o],i,s){FP(t,e[n],e[r],e[o],e.scale,i,s)}const UP=["x","scaleX","originX"],VP=["y","scaleY","originY"];function Oy(t,e,n,r){By(t.x,e,UP,n?n.x:void 0,r?r.x:void 0),By(t.y,e,VP,n?n.y:void 0,r?r.y:void 0)}function My(t){return t.translate===0&&t.scale===1}function f1(t){return My(t.x)&&My(t.y)}function HP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function p1(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function jy(t){return pt(t.x)/pt(t.y)}class $P{constructor(){this.members=[]}add(e){Ep(this.members,e),e.scheduleRender()}remove(e){if(Sp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dy(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const zP=(t,e)=>t.depth-e.depth;class WP{constructor(){this.children=[],this.isDirty=!1}add(e){Ep(this.children,e),this.isDirty=!0}remove(e){Sp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zP),this.isDirty=!1,this.children.forEach(e)}}function qP(t,e){const n=dr.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(vr(r),t(i-e))};return Re.read(r,!0),()=>vr(r)}function KP(t){window.MotionDebug&&window.MotionDebug.record(t)}function GP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function YP(t,e,n){const r=ze(t)?t:Ps(t);return r.start(kp("",r,e,n)),r.animation}const Fy=["","X","Y","Z"],XP={visibility:"hidden"},Uy=1e3;let JP=0;const Rr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function m1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=JP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rr.totalNodes=Rr.resolvedTargetDeltas=Rr.recalculatedProjection=0,this.nodes.forEach(eR),this.nodes.forEach(iR),this.nodes.forEach(sR),this.nodes.forEach(tR),KP(Rr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WP)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new _p),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GP(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=qP(f,250),rl.hasAnimatedSinceResize&&(rl.hasAnimatedSinceResize=!1,this.nodes.forEach(Hy))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeTargetChanged:y,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||dR,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=d.getProps(),m=!this.targetLayout||!p1(this.targetLayout,p)||y,b=!f&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const x={...pp(g,"layout"),onPlay:w,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||Hy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aR),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vy);return}this.isUpdating||this.nodes.forEach(rR),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(oR),this.nodes.forEach(QP),this.nodes.forEach(ZP),this.clearAllSnapshots();const a=dr.now();Me.delta=yr(0,1e3/60,a-Me.timestamp),Me.timestamp=a,Me.isProcessing=!0,Tu.update.process(Me),Tu.preRender.process(Me),Tu.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tp.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(nR),this.sharedNodes.forEach(lR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!f1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(a||Pr(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),hR(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ke();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(zn(a.x,l.offset.x),zn(a.y,l.offset.y)),a}removeElementScroll(s){const a=ke();yt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:u}=c;if(c!==this.root&&d&&u.layoutScroll){if(d.isRoot){yt(a,s);const{scroll:f}=this.root;f&&(zn(a.x,-f.offset.x),zn(a.y,-f.offset.y))}zn(a.x,d.offset.x),zn(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const l=ke();yt(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Pr(d.latestValues)&&Mo(l,d.latestValues)}return Pr(this.latestValues)&&Mo(l,this.latestValues),l}removeTransform(s){const a=ke();yt(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Pr(c.latestValues))continue;vh(c.latestValues)&&c.updateSnapshot();const d=ke(),u=c.measurePageBox();yt(d,u),Oy(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Pr(this.latestValues)&&Oy(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),rs(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yt(this.target,this.layout.layoutBox),a1(this.target,this.targetDelta)):yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),rs(this.relativeTargetOrigin,this.target,y.target),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vh(this.parent.latestValues)||s1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;yt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,y=this.treeScale.y;kP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ke());const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=Oo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo());const g=this.projectionTransform;ns(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Dy(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Rr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},u=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ke(),y=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=y!==p,w=this.getStack(),v=!w||w.members.length<=1,m=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(uR));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const E=x/1e3;$y(u.x,s.x,E),$y(u.y,s.y,E),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cR(this.relativeTarget,this.relativeTargetOrigin,f,E),b&&HP(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ke()),yt(b,this.relativeTarget)),g&&(this.animationValues=d,MP(d,c,this.latestValues,E,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{rl.hasAnimatedSinceResize=!0,this.currentAnimation=YP(0,Uy,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Uy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&g1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ke();const u=pt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+u;const f=pt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}yt(a,l),Mo(a,d),ns(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new $P),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<Fy.length;d++){const u="rotate"+Fy[d];l[u]&&(c[u]=l[u],s.setStaticValue(u,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XP;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=tl(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=tl(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Pr(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=u.animationValues||u.latestValues;this.applyTransformsToTarget(),c.transform=Dy(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:y,y:p}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${p.origin*100}% 0`,u.animationValues?c.opacity=u===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Hl){if(f[g]===void 0)continue;const{correct:w,applyTo:v}=Hl[g],m=c.transform==="none"?f[g]:w(f[g],u);if(v){const b=v.length;for(let x=0;x<b;x++)c[v[x]]=m}else c[g]=m}return this.options.layoutId&&(c.pointerEvents=u===this?tl(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Vy),this.root.sharedNodes.clear()}}}function QP(t){t.updateLayout()}function ZP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?vt(u=>{const f=s?n.measuredBox[u]:n.layoutBox[u],y=pt(f);f.min=r[u].min,f.max=f.min+y}):g1(i,n.layoutBox,r)&&vt(u=>{const f=s?n.measuredBox[u]:n.layoutBox[u],y=pt(r[u]);f.max=f.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+y)});const a=Oo();ns(a,r,n.layoutBox);const l=Oo();s?ns(l,t.applyTransform(o,!0),n.measuredBox):ns(l,r,n.layoutBox);const c=!f1(a);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:y}=u;if(f&&y){const p=ke();rs(p,n.layoutBox,f.layoutBox);const g=ke();rs(g,r,y.layoutBox),p1(p,g)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function eR(t){Rr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nR(t){t.clearSnapshot()}function Vy(t){t.clearMeasurements()}function rR(t){t.isLayoutDirty=!1}function oR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iR(t){t.resolveTargetDelta()}function sR(t){t.calcProjection()}function aR(t){t.resetRotation()}function lR(t){t.removeLeadSnapshot()}function $y(t,e,n){t.translate=me(e.translate,0,n),t.scale=me(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zy(t,e,n,r){t.min=me(e.min,n.min,r),t.max=me(e.max,n.max,r)}function cR(t,e,n,r){zy(t.x,e.x,n.x,r),zy(t.y,e.y,n.y,r)}function uR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dR={duration:.45,ease:[.4,0,.1,1]},Wy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qy=Wy("applewebkit/")&&!Wy("chrome/")?Math.round:We;function Ky(t){t.min=qy(t.min),t.max=qy(t.max)}function hR(t){Ky(t.x),Ky(t.y)}function g1(t,e,n){return t==="position"||t==="preserve-aspect"&&!gh(jy(e),jy(n),.2)}const fR=m1({attachResizeListener:(t,e)=>pn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ju={current:void 0},y1=m1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ju.current){const t=new fR({});t.mount(window),t.setOptions({layoutScroll:!0}),ju.current=t}return ju.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pR={pan:{Feature:IP},drag:{Feature:NP,ProjectionNode:y1,MeasureLayout:u1}},wh={current:null},v1={current:!1};function mR(){if(v1.current=!0,!!Qf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wh.current=t.matches;t.addListener(e),e()}else wh.current=!1}function gR(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(ze(i))t.addValue(o,i),Kl(r)&&r.add(o);else if(ze(s))t.addValue(o,Ps(i,{owner:t})),Kl(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,Ps(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const Gy=new WeakMap,yR=[...Ix,He,br],vR=t=>yR.find(Nx(t)),b1=Object.keys(Ns),bR=b1.length,Yy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wR=rp.length;class xR{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:s},a={}){this.resolveKeyframes=(f,y,p,g)=>new this.KeyframeResolver(f,y,p,g,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Re.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Bc(n),this.isVariantNode=ox(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const y=u[f];l[f]!==void 0&&ze(y)&&(y.set(l[f],!1),Kl(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Gy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),v1.current||mR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gy.delete(this.current),this.projection&&this.projection.unmount(),vr(this.notifyUpdate),vr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=co.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let l=0;l<bR;l++){const c=b1[l],{isEnabled:d,Feature:u,ProjectionNode:f,MeasureLayout:y}=Ns[c];f&&(s=f),d(n)&&(!this.features[c]&&u&&(this.features[c]=new u(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:u,layoutScroll:f,layoutRoot:y}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||u&&Lo(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yy.length;r++){const o=Yy[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=gR(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<wR;r++){const o=rp[r],i=this.props[o];(As(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ps(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Tx(o)||_x(o))?o=parseFloat(o):!vR(o)&&br.test(n)&&(o=Dx(e,n)),this.setBaseTarget(e,ze(o)?o.get():o)),ze(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n,r;const{initial:o}=this.props,i=typeof o=="string"||typeof o=="object"?(r=fp(this.props,o,(n=this.presenceContext)===null||n===void 0?void 0:n.custom))===null||r===void 0?void 0:r[e]:void 0;if(o&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ze(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _p),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class w1 extends xR{constructor(){super(...arguments),this.KeyframeResolver=Fx}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function kR(t){return window.getComputedStyle(t)}class ER extends w1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(co.has(n)){const r=yp(n);return r&&r.default||0}else{const r=kR(e),o=(lx(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return l1(e,n)}build(e,n,r,o){lp(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return hp(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ze(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){fx(e,n,r,o)}}class SR extends w1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(co.has(n)){const r=yp(n);return r&&r.default||0}return n=px.has(n)?n:ep(n),e.getAttribute(n)}measureInstanceViewportBox(){return ke()}scrapeMotionValuesFromProps(e,n){return gx(e,n)}build(e,n,r,o){up(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){mx(e,n,r,o)}mount(e){this.isSVGTag=dp(e.tagName),super.mount(e)}}const _R=(t,e)=>ip(t)?new SR(e,{enableHardwareAcceleration:!1}):new ER(e,{enableHardwareAcceleration:!0}),CR={layout:{ProjectionNode:y1,MeasureLayout:u1}},TR={...cP,...wN,...pR,...CR},AR=IA((t,e)=>aN(t,e,TR,_R));function x1(){const t=k.useRef(!1);return Zf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function NR(){const t=x1(),[e,n]=k.useState(0),r=k.useCallback(()=>{t.current&&n(e+1)},[e]);return[k.useCallback(()=>Re.postRender(r),[r]),e]}class IR extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PR({children:t,isPresent:e}){const n=k.useId(),r=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=k.useContext(Jf);return k.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:c}=o.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),k.createElement(IR,{isPresent:e,childRef:r,sizeRef:o},k.cloneElement(t,{ref:r}))}const Du=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=yx(RR),l=k.useId(),c=k.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const u of a.values())if(!u)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return k.useMemo(()=>{a.forEach((d,u)=>a.set(u,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=k.createElement(PR,{isPresent:n},t)),k.createElement(Rc.Provider,{value:c},t)};function RR(){return new Map}function LR(t){return k.useEffect(()=>()=>t(),[])}const Lr=t=>t.key||"";function BR(t,e){t.forEach(n=>{const r=Lr(n);e.set(r,n)})}function OR(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const MR=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=k.useContext(op).forceRender||NR()[0],l=x1(),c=OR(t);let d=c;const u=k.useRef(new Map).current,f=k.useRef(d),y=k.useRef(new Map).current,p=k.useRef(!0);if(Zf(()=>{p.current=!1,BR(c,y),f.current=d}),LR(()=>{p.current=!0,y.clear(),u.clear()}),p.current)return k.createElement(k.Fragment,null,d.map(m=>k.createElement(Du,{key:Lr(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},m)));d=[...d];const g=f.current.map(Lr),w=c.map(Lr),v=g.length;for(let m=0;m<v;m++){const b=g[m];w.indexOf(b)===-1&&!u.has(b)&&u.set(b,void 0)}return s==="wait"&&u.size&&(d=[]),u.forEach((m,b)=>{if(w.indexOf(b)!==-1)return;const x=y.get(b);if(!x)return;const E=g.indexOf(b);let C=m;if(!C){const A=()=>{u.delete(b);const S=Array.from(y.keys()).filter(_=>!w.includes(_));if(S.forEach(_=>y.delete(_)),f.current=c.filter(_=>{const T=Lr(_);return T===b||S.includes(T)}),!u.size){if(l.current===!1)return;a(),r&&r()}};C=k.createElement(Du,{key:Lr(x),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:i,mode:s},x),u.set(b,C)}d.splice(E,0,C)}),d=d.map(m=>{const b=m.key;return u.has(b)?m:k.createElement(Du,{key:Lr(m),isPresent:!0,presenceAffectsLayout:i,mode:s},m)}),k.createElement(k.Fragment,null,u.size?d:d.map(m=>k.cloneElement(m)))},jR=({url:t,caption:e})=>h.jsxs("div",{children:[h.jsx("img",{src:t,alt:""}),e.length?h.jsx("p",{className:"text-center my-3 md:mb-10 text-dark-grey italic",dangerouslySetInnerHTML:{__html:e}}):""]}),DR=({style:t,items:e})=>t==="unordered"?h.jsx("ul",{className:"pl-[30px]",children:e.map((n,r)=>h.jsx("li",{dangerouslySetInnerHTML:{__html:n},className:"pl-5 list-disc"},r))}):h.jsx("ol",{children:e.map((n,r)=>h.jsx("li",{dangerouslySetInnerHTML:{__html:n},className:"pl-5 list-decimal"},r))}),FR=({quote:t,caption:e})=>h.jsxs("div",{className:"bg-purple/10 pl-5 p-3 border-l-4 border-purple",children:[h.jsx("p",{className:"text-xl leading-10 md:text-2xl",dangerouslySetInnerHTML:{__html:t}}),e.length?h.jsx("p",{className:"text-base text-purple",dangerouslySetInnerHTML:{__html:e}}):""]}),UR=({block:t})=>{let{type:e,data:n}=t;return e==="paragraph"?h.jsx("p",{dangerouslySetInnerHTML:{__html:n.text}}):e==="header"?n.level===3?h.jsx("h3",{id:n.text,className:"font-3xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):h.jsx("h2",{id:n.text,className:"font-4xl font-bold",dangerouslySetInnerHTML:{__html:n.text}}):e==="image"?h.jsx(jR,{url:n.file.url,caption:n.caption}):e==="list"?h.jsx(DR,{style:n.style,items:n.items}):e==="Quote"?h.jsx(FR,{quote:n.text,caption:n.caption}):h.jsx("div",{children:"Blog Content"})};var VR={VITE_SERVER:"https://backend-mern-blog-web-v22.onrender.com/api/v1",VITE_SOCKET_SERVER:"https://socket-web-blog-v2.onrender.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Xy=()=>{let{commentWrapper:t,setCommentWrapper:e,blog:{blog_id:n,title:r,activity:o,activity:{total_likes:i,total_parent_comments:s},author:{personal_info:{username:a}},author:l},blog:c,setBlog:d,isLikedByUser:u,setIsLikedByUser:f}=k.useContext(Js);const{language:y}=k.useContext(re);let{userAuth:{username:p,access_token:g},socket:w}=k.useContext(le);console.log("author",l),console.log("username",p);const v=()=>{const m=u?-1:1;if(!g)return toast.error("You need to log in to like blog");console.log("handle like"),U.put(VR.VITE_SERVER_BLOG+`/like/${n}`,{is_liked_by_user:u},{headers:{Authorization:"Bearer "+g}}).then(({data:b})=>{const{notification:x}=b;u?w.emit("deleteInteraction",{message:"delete like",notification_for:a}):w.emit("interact",{...x,notification_for:a}),console.log("is liked by user",b),f(E=>!E),d({...c,activity:{...o,total_likes:i+m}})})};return k.useEffect(()=>{U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/is-liked-by-user",{_id:c._id},{headers:{Authorization:"Bearer "+g}}).then(({data:{isLikedByUser:m}})=>{console.log(!!m),f(!!m)})},[]),h.jsxs("div",{className:"flex item-center justify-between",children:[h.jsxs("div",{className:"flex gap-3 items-center",children:[h.jsx("button",{onClick:v,className:"w-10 h-10 flex items-center justify-center rounded-full bg-grey/30 gap-2",children:h.jsx("i",{className:`fi ${u?"fi-sr-heart":"fi-rr-heart"}`})}),h.jsx("p",{className:"border-grey my-2",children:i}),h.jsx("button",{onClick:()=>e(m=>!m),className:"w-10 h-10 flex items-center justify-center rounded-full bg-grey/30 gap-2",children:h.jsx("i",{className:"fi fi-rr-comment-alt"})}),h.jsx("p",{className:"border-grey my-2",children:s})]}),h.jsxs("div",{className:"flex gap-6 items-center",children:[p===a&&h.jsx(ne,{to:`/edit/${n}`,className:"hover:underline",children:I.edit[y]}),h.jsx(ne,{to:`https://twitter.com/intent/tweet?text=Read ${r}&url=${window.location.href}`,target:"_blank",children:h.jsx("i",{className:"fi fi-brands-twitter text-xl hover:text-twitter",children:" "})})]})]})},k1=({action:t,index:e=void 0,replyingTo:n=void 0,setReplying:r})=>{const[o,i]=k.useState("");k.useContext(S1);let{blog:{author:s,author:{personal_info:{username:a}},blog_id:l,_id:c,comments:d,comments:{results:u},activity:f,activity:{total_parent_comments:y,total_comments:p}},blog:g,setBlog:w,parentCommentLoaded:v,setParentCommentLoaded:m}=k.useContext(Js),{userAuth:{access_token:b},socket:x}=k.useContext(le);k.useContext(re);const E=A=>{if(!b)return O.error("You need to login");if(!o.length)return O.error("You need to write something to comment");A.target.setAttribute("disabled",!0),U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/comments",{comment:o,blog_author:s._id,_id:c,replying_to:n==null?void 0:n._id},{headers:{Authorization:"Bearer "+b}}).then(async({data:{comment:S,notification:_}})=>{i(""),A.target.removeAttribute("disabled");let T;if(n){const M={..._,notification_for:n.username};x.emit("interact",M),u[e].children.push(S._id),S.childrenLevel=u[e].childrenLevel+1,S.parentIndex=e,x.emit("comment",S),u[e].isReplyLoaded=!0,u.splice(e+1,0,S),T=u,r(!1)}else{S.childrenLevel=0,T=[S,...u];const M={..._,notification_for:a};x.emit("interact",M),x.emit("comment",S)}let R=n?0:1;w({...g,comments:{...d,results:T},activity:{...f,total_comments:p+1,total_parent_comments:y+R}}),m(M=>M+R)}).catch(S=>{console.log(S.message),O.error(S.message),i(""),A.target.removeAttribute("disabled")})},C=A=>{i(A.target.value),x.emit("typing",{message:"someone typing comment"})};return h.jsxs(h.Fragment,{children:[h.jsx("textarea",{onChange:C,value:o,placeholder:"Leave a comment...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),h.jsx("button",{onClick:E,className:"btn-dark mt-5 px-10",children:t})]})};var HR={VITE_SERVER:"https://backend-mern-blog-web-v22.onrender.com/api/v1",VITE_SOCKET_SERVER:"https://socket-web-blog-v2.onrender.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const $R=({index:t,commentData:e,lefVal:n})=>{const[r,o]=k.useState(!1);let{commented_by:{personal_info:{username:i,fullname:s,profile_img:a}},commentedAt:l,comment:c,children:d,_id:u}=e;const{setBlog:f,blog:y,blog:{comments:p,comments:{results:g},author:{personal_info:{username:w}},activity:v,activity:{total_parent_comments:m}},setParentCommentLoaded:b,parentCommentLoaded:x}=k.useContext(Js);let{userAuth:{username:E,access_token:C},setUserAuth:A}=k.useContext(le);const{language:S}=k.useContext(re);console.log(E);const _=()=>{let $=t-1;try{for(;g[$].childrenLevel>g[t].childrenLevel;)$--}catch{$=void 0}return $},T=({skip:$=0})=>{U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/comments/replies",{skip:$,_id:u}).then(({data:j})=>{e.replyLoaded=!0;for(let q=0;q<j.length;q++)j[q].childrenLevel=e.childrenLevel+1,g.splice(t+1+q+$,0,j[q]);f({...y,comments:{...p,results:g}})})},R=($,j=!1)=>{if(g[$])for(;g[$].childrenLevel>g[t].childrenLevel&&(g.splice($,1),!!g[$]););if(j){let q=_();console.log("parent index",q),q!=null&&(console.log("parent index",q),g[q].children=g[q].children.filter(xe=>xe!=u),g[q].children.length||(g[q].replyLoaded=!1)),g.splice(t,1)}e.childrenLevel===0&&j&&b(q=>q-1),f({...y,comments:{...p,results:g},activity:{...v,total_parent_comments:m-(e.childrenLevel==0&&j?1:0)}})},M=()=>{console.log("hidden"),e.replyLoaded=!1,console.log(e.replyLoaded),R(t+1)},V=async $=>{$.target.setAttribute("disabled",!0),console.log("comment id: ",u);try{const j=await U.put(HR.VITE_SERVER_COMMENT+"/delete-comment",{_id:u},{headers:{Authorization:"Bearer "+C}});console.log(j),$.target.removeAttribute("disabled"),O.success("Deleted comment"),console.log("delete comment successfully"),R(t+1,!0)}catch(j){console.log(j),$.target.removeAttribute("disabled"),O.error(j.message)}};return h.jsx("div",{className:"w-full mr-10",style:{marginLeft:`${n*50}px`},children:h.jsxs("div",{className:"border border-grey rounded-md my-5 p-6",children:[h.jsxs("div",{className:"flex gap-3 items-center mb-8",children:[h.jsx("img",{src:a,alt:"",className:"w-12 h-12 rounded-full"}),h.jsxs("p",{className:"line-clamp-1",children:["@",i]}),h.jsx("p",{className:"min-w-fit text-dark-grey",children:On(l)})]}),h.jsx("p",{className:"w-full font-gelasio text-xl ml-3 ",children:c}),h.jsxs("div",{className:"flex gp-5 items-center mt-5",children:[e.replyLoaded==!0?h.jsxs("button",{onClick:M,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:[h.jsx("i",{className:"fi fi-rs-comment-dots"}),I.hidden[S]," ",d.length," ",I.reply[S]]}):h.jsxs("button",{onClick:T,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:[h.jsx("i",{className:"fi fi-rs-comment-dots"}),I.show[S]," ",d.length," ",I.reply[S]]}),h.jsx("button",{className:"underline",onClick:()=>o($=>!$),children:I.reply[S]}),E===i||E===w?h.jsx("button",{onClick:V,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2 ml-auto",children:h.jsx("i",{className:"fi fi-rr-trash"})}):""]}),r&&h.jsx(k1,{action:"Reply",index:t,replyingTo:{_id:u,username:i},setReplying:o})]})})},Le=({keValue:t,children:e,className:n,initial:r={opacity:0},animate:o={opacity:1},exit:i={opacity:0},transition:s={duration:1}})=>h.jsx(MR,{children:h.jsx(AR.div,{className:n,initial:r,animate:o,exit:i,transition:s,children:e},t)}),E1=async({skip:t=0,setParentCommentLoaded:e,comment_arr:n=null,blog_id:r})=>{let o;return await U.post(`https://backend-mern-blog-web-v22.onrender.com/api/v1/comments/${r}`,{skip:t}).then(({data:i})=>{i.map(s=>{s.childrenLevel=0}),e(s=>s+i.length),n?o={results:[...n,i]}:o={results:i}}),o},S1=k.createContext({}),zR=()=>{const[t,e]=k.useState(!1),{socket:n}=k.useContext(le);let{blog:{blog_id:r,activity:{total_parent_comments:o},comments:{results:i}},blog:s,setBlog:a,commentWrapper:l,setCommentWrapper:c,parentCommentLoaded:d,setParentCommentLoaded:u}=k.useContext(Js);const{language:f}=k.useContext(re),y=async()=>{const g=(await E1({blog_id:s._id,setParentCommentLoaded:u,skip:d,comment_arr:i})).results[d];a({...s,comments:{results:[...i,...g]}})};return k.useEffect(()=>{n==null||n.on("sendTyping",p=>{e(!0)}),n==null||n.on("sendComment",p=>{console.log("comddddddd: ",p),p.parentIndex!==void 0?(console.log(p.parentIndex),i[p.parentIndex].replyLoaded=!0,console.log("parent comment: ",i[p.parentIndex]),i[p.parentIndex].children.length+=1,i.splice(p.parentIndex+1,0,p)):(i.splice(0,0,p),u(g=>g+1)),a({...s,comments:{results:[...i]}})})},[n]),console.log("p-c",o),console.log("pcl",d),h.jsx(S1.Provider,{value:{someoneTyping:t,setSomeoneTyping:e},children:h.jsxs("div",{className:`max-sm:w-full w-[300px] fixed  ${l?"top-0 sm:right-0 border-t-1 rounded-t-3xl":"top-[100%] right-[-100%]"} duration-700 max-sm:right-0 sm:top-0 w-[40%] min-w-[350px] h-[800px] z-50 bg-white shadow-2xl p-8 overflow-y-scroll px-16 overflow-x-scroll pr-[20px]`,children:[h.jsxs("div",{className:"relative",children:[h.jsx("h1",{className:"font-bold text-xl",children:I.comment[f]}),h.jsx("p",{className:" text-lg mt-2 w-[70%] text-dark-grey"}),h.jsx("button",{onClick:()=>c(!1),className:"absolute top-0 right-0 ",children:h.jsx("i",{className:"fi fi-br-cross text-xl w-10 h-10 flex justify-center items-center rounded-full bg-grey/30"})}),h.jsx("hr",{className:"border-grey my-8 w-[110%] -ml-10 "})]}),h.jsx(k1,{action:"Comment"}),i&&i.length?h.jsx(h.Fragment,{children:i.map((p,g)=>h.jsx(Le,{children:h.jsx($R,{commentData:p,lefVal:p.childrenLevel,index:g})},g))}):h.jsx(_t,{message:"No comment"}),o>d?h.jsx("button",{onClick:y,className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2 ",children:I.load_more[f]}):""]})})},at=()=>h.jsx("div",{className:"w-12 mx-auto my-8",children:h.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-dark-grey",viewBox:"0 0 100 101",fill:"none",children:[h.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),h.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),WR=({blog:t})=>{const{title:e,blog_id:n,banner:r,tags:o}=t;return h.jsxs("div",{className:"w-full flex gap-2 mb-6",children:[h.jsx("img",{className:"w-[120px] h-[120px] object-cover",src:r,alt:""}),h.jsxs("div",{className:"flex flex-col gap-2 w-full overflow-clip",children:[h.jsx("p",{className:"text-dark-grey",children:o[0].toUpperCase()}),h.jsx(ne,{className:"text-black font-bold md:text-2xl hover:underline text-xl",to:`/blog/${n}`,children:e})]})]})},qR=({data:t})=>{const[e,n]=k.useState(!0),r=o=>{const i=document.getElementById(o);i&&i.scrollIntoView({behavior:"smooth",block:"start"})};return h.jsxs("div",{className:" w-full max-w-[500px] border bg-grey shadow-md py-3 px-4 mt-10",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("h1",{className:"font-bold font-gelasio text-[18px]",children:"Danh mục"}),h.jsx("i",{className:"fi fi-br-list cursor-pointer",onClick:()=>n(o=>!o)})]}),h.jsx("hr",{}),e&&h.jsx("div",{children:t&&t.map((o,i)=>h.jsx("h3",{style:{paddingLeft:`${(o.level-2)*18}px`},onClick:()=>r(o.text),className:"cursor-pointer hover:underline !text-[15px] font-semibold",children:o.text},i))})]})};let Di={banner:"",title:"",des:"",tags:[],content:"",author:{personal_info:{}},publishedAt:""};const Js=k.createContext(Di),KR=()=>{const{blog_id:t}=hi(),[e,n]=k.useState(Di),[r,o]=k.useState(Di),[i,s]=k.useState(!0),[a,l]=k.useState(!1),[c,d]=k.useState(!0),[u,f]=k.useState(0);let{userAuth:{access_token:y}}=k.useContext(le);const{language:p}=k.useContext(re);console.log("blog page:",y);const g=()=>{U.put(`https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/${t}`).then(async({data:R})=>{R.comments=await E1({blog_id:R._id,setParentCommentLoaded:f}),document.title=R.title,console.log("blog: ",R),await U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/search",{tag:R.tags[0],limit:6}).then(({data:{blogs:M}})=>{M=M.filter(V=>V.blog_id!==t),o(M)}),n(R),s(!1)})},w=[];k.useEffect(()=>{v(),g()},[t]);const v=()=>{l(!1),n(Di),o(Di),s(!0),d(!1),f(0)};let{banner:m,title:b,content:x,des:E,tags:C,publishedAt:A,author:{personal_info:{username:S,profile_img:_,fullname:T}}}=e;return h.jsx(Le,{children:i?h.jsx(at,{}):h.jsxs(Js.Provider,{value:{blog:e,setBlog:n,similarBlogs:r,setSimilarBlogs:o,isLikedByUser:a,setIsLikedByUser:l,commentWrapper:c,setCommentWrapper:d,parentCommentLoaded:u,setParentCommentLoaded:f},children:[h.jsx(zR,{}),h.jsxs("div",{className:"max-w-[900px] center max-lg:px-[5vw]",children:[h.jsx("img",{src:m,alt:"",className:"aspect-video"}),h.jsxs("div",{className:"mt-12",children:[h.jsx("h2",{children:b}),h.jsx("p",{className:"font-gelasio",children:E}),h.jsxs("div",{className:"flex max-sm:flex-col justify-between my-8",children:[h.jsxs("div",{className:"flex gap-5 items-start",children:[h.jsx("img",{src:_,alt:"",className:"w-12 h-12 rounded-full"}),h.jsxs("p",{className:"capitalize",children:[T," ",h.jsx("br",{}),h.jsxs(ne,{to:`/user/${S}`,className:"underline",children:["@",S]})]})]}),h.jsxs("p",{className:"text-dark-grey max-sm:mt-6 max-sm:ml-12 max-sm:pl-5",children:[I.published_on[p]," ",On(A)]})]})]}),h.jsx(Xy,{}),h.jsxs("div",{className:"my-7 font-gelasio blog-page-content",children:[x[0].blocks.map((R,M)=>{const{type:V,data:$}=R;V==="header"&&w.push($)}),h.jsx(qR,{data:w}),x[0].blocks.map((R,M)=>h.jsx("div",{className:"my-4 md:my-8 ",children:h.jsx(UR,{block:R})},M))]}),h.jsx(Xy,{}),h.jsx("div",{className:"h-[1px] bg-orange-300 w-full"}),r&&r.length?h.jsxs("div",{className:"mb-12",children:[h.jsx("h1",{className:"mt-10 text-2xl font-bold",children:I.similar_blogs[p]}),h.jsx("hr",{className:"w-[100px] bg-dark-grey mb-8"}),r.map((R,M)=>h.jsx(Le,{transition:{duration:1,delay:M*.8},children:h.jsx(WR,{blog:R})},M))]}):""]})]})})},mn=({type:t,name:e,icon:n,placeHodler:r,value:o,id:i,disabled:s,className:a})=>{const[l,c]=k.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:i,className:"capitalize font-medium",children:e}),h.jsxs("div",{className:"w-full relative mb-4 mt-1",children:[h.jsx("input",{id:i,defaultValue:o,disabled:s,type:t==="password"?l?"text":"password":"text",name:e,placeholder:r,className:`${a||"input-box"} `,required:!0}),h.jsx("i",{className:`${n} absolute left-4 top-1/2 -translate-y-1/2`}),t==="password"?h.jsx("i",{className:`fi ${l?"fi-rr-unlock":"fi-rr-lock"} absolute right-4 top-1/2 -translate-y-1/2 duration-100`,onClick:()=>c(d=>!d)}):""]})]})},GR=()=>{let{userAuth:{access_token:t}}=k.useContext(le);const{language:e}=k.useContext(re),[n,r]=k.useState(!1);let o=k.useRef(),i=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;const s=a=>{a.preventDefault(),console.log(a);let l=new FormData(o.current);console.log(l);let c={};for(let[y,p]of l.entries())c[y]=p;let{currentPassword:d,newPassword:u}=c;if(!d.length||!u.length)return O.error("Fill all the inputs");if(!i.test(d)||!i.test(u))return console.log("invalid input"),O.error("Password must be from 6 to 20 characters long and at least a numeric, a lowercase, a uppercase letter");a.target.setAttribute("disabled",!0);let f=O.loading("Updating...");r(!0),U.put("https://backend-mern-blog-web-v22.onrender.com/api/v1/users/change-password",c,{headers:{Authorization:"Bearer "+t}}).then(({data:y})=>(O.dismiss(f),a.target.removeAttribute("disabled"),r(!1),o.current.reset(),O.success(y))).catch(({response:y})=>(console.log("error: ",y),O.dismiss(f),a.target.removeAttribute("disabled"),r(!1),O.error(y.data.message)))};return h.jsxs(Le,{className:"w-full",children:[h.jsx(qs,{}),h.jsxs("form",{ref:o,className:"mx-auto md:max-w-[400px]",children:[h.jsx("h1",{className:"max-md:hidden",children:I.change_pasword.cp[e]}),h.jsxs("div",{className:"py-10 w-full md:max-w-[400px]",children:[h.jsx(mn,{name:"currentPassword",type:"password",className:"input-box",placeHodler:I.change_pasword.current_pass[e],icon:"fi-br-key"}),h.jsx(mn,{name:"newPassword",type:"password",className:"input-box",placeHodler:I.change_pasword.new_pass[e],icon:"fi-br-key"}),h.jsx("button",{className:`btn-dark px-10 ${n?"cursor-not-allowed":"cursor-pointer"}`,type:"submit",onClick:s,children:I.change_pasword.cp[e]})]})]})]})};var Jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},YR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,d=i>>2,u=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,y=c&63;l||(y=64,s||(f=64)),r.push(n[d],n[u],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const u=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||u==null)throw new XR;const f=i<<2|a>>4;if(r.push(f),c!==64){const y=a<<4&240|c>>2;if(r.push(y),u!==64){const p=c<<6&192|u;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(t){const e=_1(t);return C1.encodeByteArray(e,!0)},Yl=function(t){return JR(t).replace(/\./g,"")},T1=function(t){try{return C1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=()=>QR().__FIREBASE_DEFAULTS__,eL=()=>{if(typeof process>"u"||typeof Jy>"u")return;const t=Jy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&T1(t[1]);return e&&JSON.parse(e)},Cp=()=>{try{return ZR()||eL()||tL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A1=t=>{var e,n;return(n=(e=Cp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nL=t=>{const e=A1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N1=()=>{var t;return(t=Cp())===null||t===void 0?void 0:t.config},I1=t=>{var e;return(e=Cp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yl(JSON.stringify(n)),Yl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function sL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lL(){const t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cL(){try{return typeof indexedDB=="object"}catch{return!1}}function uL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="FirebaseError";class Mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dL,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qs.prototype.create)}}class Qs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?hL(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new Mn(o,a,r)}}function hL(t,e){return t.replace(fL,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const fL=/\{\$([^}]+)}/g;function pL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(Qy(i)&&Qy(s)){if(!Xl(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Qy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mL(t,e){const n=new gL(t,e);return n.subscribe.bind(n)}class gL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yL(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Fu),o.error===void 0&&(o.error=Fu),o.complete===void 0&&(o.complete=Fu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wL(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bL(t){return t===Br?void 0:t}function wL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const kL={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},EL=ie.INFO,SL={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},_L=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=SL[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P1{constructor(e){this.name=e,this._logLevel=EL,this._logHandler=_L,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const CL=(t,e)=>e.some(n=>t instanceof n);let Zy,ev;function TL(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AL(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R1=new WeakMap,xh=new WeakMap,L1=new WeakMap,Uu=new WeakMap,Tp=new WeakMap;function NL(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(hr(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&R1.set(n,t)}).catch(()=>{}),Tp.set(e,t),e}function IL(t){if(xh.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});xh.set(t,e)}let kh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PL(t){kh=t(kh)}function RL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vu(this),e,...n);return L1.set(r,e.sort?e.sort():[e]),hr(r)}:AL().includes(t)?function(...e){return t.apply(Vu(this),e),hr(R1.get(this))}:function(...e){return hr(t.apply(Vu(this),e))}}function LL(t){return typeof t=="function"?RL(t):(t instanceof IDBTransaction&&IL(t),CL(t,TL())?new Proxy(t,kh):t)}function hr(t){if(t instanceof IDBRequest)return NL(t);if(Uu.has(t))return Uu.get(t);const e=LL(t);return e!==t&&(Uu.set(t,e),Tp.set(e,t)),e}const Vu=t=>Tp.get(t);function BL(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=hr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(hr(s.result),l.oldVersion,l.newVersion,hr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const OL=["get","getKey","getAll","getAllKeys","count"],ML=["put","add","delete","clear"],Hu=new Map;function tv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hu.get(e))return Hu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=ML.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||OL.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Hu.set(e,i),i}PL(t=>({...t,get:(e,n,r)=>tv(e,n)||t.get(e,n,r),has:(e,n)=>!!tv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eh="@firebase/app",nv="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new P1("@firebase/app"),FL="@firebase/app-compat",UL="@firebase/analytics-compat",VL="@firebase/analytics",HL="@firebase/app-check-compat",$L="@firebase/app-check",zL="@firebase/auth",WL="@firebase/auth-compat",qL="@firebase/database",KL="@firebase/database-compat",GL="@firebase/functions",YL="@firebase/functions-compat",XL="@firebase/installations",JL="@firebase/installations-compat",QL="@firebase/messaging",ZL="@firebase/messaging-compat",eB="@firebase/performance",tB="@firebase/performance-compat",nB="@firebase/remote-config",rB="@firebase/remote-config-compat",oB="@firebase/storage",iB="@firebase/storage-compat",sB="@firebase/firestore",aB="@firebase/firestore-compat",lB="firebase",cB="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="[DEFAULT]",uB={[Eh]:"fire-core",[FL]:"fire-core-compat",[VL]:"fire-analytics",[UL]:"fire-analytics-compat",[$L]:"fire-app-check",[HL]:"fire-app-check-compat",[zL]:"fire-auth",[WL]:"fire-auth-compat",[qL]:"fire-rtdb",[KL]:"fire-rtdb-compat",[GL]:"fire-fn",[YL]:"fire-fn-compat",[XL]:"fire-iid",[JL]:"fire-iid-compat",[QL]:"fire-fcm",[ZL]:"fire-fcm-compat",[eB]:"fire-perf",[tB]:"fire-perf-compat",[nB]:"fire-rc",[rB]:"fire-rc-compat",[oB]:"fire-gcs",[iB]:"fire-gcs-compat",[sB]:"fire-fst",[aB]:"fire-fst-compat","fire-js":"fire-js",[lB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Map,_h=new Map;function dB(t,e){try{t.container.addComponent(e)}catch(n){to.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ri(t){const e=t.name;if(_h.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;_h.set(e,t);for(const n of Rs.values())dB(n,t);return!0}function Ap(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fr=new Qs("app","Firebase",hB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=cB;function B1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sh,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(n||(n=N1()),!n)throw fr.create("no-options");const i=Rs.get(o);if(i){if(Xl(n,i.options)&&Xl(r,i.config))return i;throw fr.create("duplicate-app",{appName:o})}const s=new xL(o);for(const l of _h.values())s.addComponent(l);const a=new fB(n,r,s);return Rs.set(o,a),a}function Np(t=Sh){const e=Rs.get(t);if(!e&&t===Sh&&N1())return B1();if(!e)throw fr.create("no-app",{appName:t});return e}function pB(){return Array.from(Rs.values())}function pr(t,e,n){var r;let o=(r=uB[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),to.warn(a.join(" "));return}ri(new eo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="firebase-heartbeat-database",gB=1,Ls="firebase-heartbeat-store";let $u=null;function O1(){return $u||($u=BL(mB,gB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ls)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),$u}async function yB(t){try{const n=(await O1()).transaction(Ls),r=await n.objectStore(Ls).get(M1(t));return await n.done,r}catch(e){if(e instanceof Mn)to.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});to.warn(n.message)}}}async function rv(t,e){try{const r=(await O1()).transaction(Ls,"readwrite");await r.objectStore(Ls).put(e,M1(t)),await r.done}catch(n){if(n instanceof Mn)to.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});to.warn(r.message)}}}function M1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=1024,bB=30*24*60*60*1e3;class wB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ov();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=bB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ov(),{heartbeatsToSend:r,unsentEntries:o}=xB(this._heartbeatsCache.heartbeats),i=Yl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ov(){return new Date().toISOString().substring(0,10)}function xB(t,e=vB){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),iv(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cL()?uL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iv(t){return Yl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){ri(new eo("platform-logger",e=>new jL(e),"PRIVATE")),ri(new eo("heartbeat",e=>new wB(e),"PRIVATE")),pr(Eh,nv,t),pr(Eh,nv,"esm2017"),pr("fire-js","")}EB("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firebasestorage.googleapis.com",D1="storageBucket",SB=2*60*1e3,_B=10*60*1e3,CB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be extends Mn{constructor(e,n,r=0){super(zu(e),`Firebase Storage: ${n} (${zu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,be.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var he;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(he||(he={}));function zu(t){return"storage/"+t}function Ip(){const t="An unknown error occurred, please check the error payload for server response.";return new be(he.UNKNOWN,t)}function TB(t){return new be(he.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function AB(t){return new be(he.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new be(he.UNAUTHENTICATED,t)}function IB(){return new be(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PB(t){return new be(he.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function F1(){return new be(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U1(){return new be(he.CANCELED,"User canceled the upload/download.")}function RB(t){return new be(he.INVALID_URL,"Invalid URL '"+t+"'.")}function LB(t){return new be(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BB(){return new be(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+D1+"' property when initializing the app?")}function V1(){return new be(he.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OB(){return new be(he.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function MB(){return new be(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jB(t){return new be(he.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ch(t){return new be(he.INVALID_ARGUMENT,t)}function H1(){return new be(he.APP_DELETED,"The Firebase app was deleted.")}function DB(t){return new be(he.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function os(t,e){return new be(he.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pi(t){throw new be(he.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=dt.makeFromUrl(e,n)}catch{return new dt(e,"")}if(r.path==="")return r;throw LB(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+o+s,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const d="v[A-Za-z0-9_]+",u=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",y=new RegExp(`^https?://${u}/${d}/b/${o}/o${f}`,"i"),p={bucket:1,path:3},g=n===j1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${g}/${o}/${w}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:y,indices:p,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<b.length;x++){const E=b[x],C=E.regex.exec(e);if(C){const A=C[E.indices.bucket];let S=C[E.indices.path];S||(S=""),r=new dt(A,S),E.postModify(r);break}}if(r==null)throw RB(e);return r}}class FB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t,e,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return a===2}let c=!1;function d(...w){c||(c=!0,e.apply(null,w))}function u(w){o=setTimeout(()=>{o=null,t(y,l())},w)}function f(){i&&clearTimeout(i)}function y(w,...v){if(c){f();return}if(w){f(),d.call(null,w,...v);return}if(l()||s){f(),d.call(null,w,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,u(b)}let p=!1;function g(w){p||(p=!0,f(),!c&&(o!==null?(w||(a=2),clearTimeout(o),u(0)):w||(a=1)))}return u(0),i=setTimeout(()=>{s=!0,g(!0)},n),g}function VB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){return t!==void 0}function $B(t){return typeof t=="function"}function zB(t){return typeof t=="object"&&!Array.isArray(t)}function Dc(t){return typeof t=="string"||t instanceof String}function sv(t){return Pp()&&t instanceof Blob}function Pp(){return typeof Blob<"u"}function av(t,e,n,r){if(r<e)throw Ch(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ch(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zr||(zr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||o||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n,r,o,i,s,a,l,c,d,u,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=u,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,p)=>{this.resolve_=y,this.reject_=p,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Na(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const a=i.getErrorCode()===zr.NO_ERROR,l=i.getStatus();if(!a||z1(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===zr.ABORT;r(!1,new Na(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Na(c,i))})},n=(r,o)=>{const i=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());HB(l)?i(l):i()}catch(l){s(l)}else if(a!==null){const l=Ip();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(o.canceled){const l=this.appDelete_?H1():U1();s(l)}else{const l=F1();s(l)}};this.canceled_?n(!1,new Na(!1,null,!0)):this.backoffId_=UB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Na{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function KB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function YB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function XB(t,e,n,r,o,i,s=!0){const a=$1(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return GB(c,e),qB(c,n),KB(c,i),YB(c,r),new WB(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QB(...t){const e=JB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Pp())return new Blob(t);throw new be(he.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){if(typeof atob>"u")throw jB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wu{constructor(e,n){this.data=e,this.contentType=n||null}}function tO(t,e){switch(t){case Gt.RAW:return new Wu(W1(e));case Gt.BASE64:case Gt.BASE64URL:return new Wu(q1(t,e));case Gt.DATA_URL:return new Wu(rO(e),oO(e))}throw Ip()}function W1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,s=t.charCodeAt(++n);r=65536|(i&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function nO(t){let e;try{e=decodeURIComponent(t)}catch{throw os(Gt.DATA_URL,"Malformed data URL.")}return W1(e)}function q1(t,e){switch(t){case Gt.BASE64:{const o=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(o||i)throw os(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Gt.BASE64URL:{const o=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(o||i)throw os(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=eO(e)}catch(o){throw o.message.includes("polyfill")?o:os(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class K1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw os(Gt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=iO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function rO(t){const e=new K1(t);return e.base64?q1(Gt.BASE64,e.rest):nO(e.rest)}function oO(t){return new K1(t).contentType}function iO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){let r=0,o="";sv(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(sv(this.data_)){const r=this.data_,o=ZB(r,e,n);return o===null?null:new Yn(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Yn(r,!0)}}static getBlob(...e){if(Pp()){const n=e.map(r=>r instanceof Yn?r.data_:r);return new Yn(QB.apply(null,n))}else{const n=e.map(s=>Dc(s)?tO(Gt.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const o=new Uint8Array(r);let i=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)o[i++]=s[a]}),new Yn(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){let e;try{e=JSON.parse(t)}catch{return null}return zB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aO(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Y1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e){return e}class Ge{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||lO}}let Ia=null;function cO(t){return!Dc(t)||t.length<2?t:Y1(t)}function X1(){if(Ia)return Ia;const t=[];t.push(new Ge("bucket")),t.push(new Ge("generation")),t.push(new Ge("metageneration")),t.push(new Ge("name","fullPath",!0));function e(i,s){return cO(s)}const n=new Ge("name");n.xform=e,t.push(n);function r(i,s){return s!==void 0?Number(s):s}const o=new Ge("size");return o.xform=r,t.push(o),t.push(new Ge("timeCreated")),t.push(new Ge("updated")),t.push(new Ge("md5Hash",null,!0)),t.push(new Ge("cacheControl",null,!0)),t.push(new Ge("contentDisposition",null,!0)),t.push(new Ge("contentEncoding",null,!0)),t.push(new Ge("contentLanguage",null,!0)),t.push(new Ge("contentType",null,!0)),t.push(new Ge("metadata","customMetadata",!0)),Ia=t,Ia}function uO(t,e){function n(){const r=t.bucket,o=t.fullPath,i=new dt(r,o);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function dO(t,e,n){const r={};r.type="file";const o=n.length;for(let i=0;i<o;i++){const s=n[i];r[s.local]=s.xform(r,e[s.server])}return uO(r,t),r}function J1(t,e,n){const r=G1(e);return r===null?null:dO(t,r,n)}function hO(t,e,n,r){const o=G1(e);if(o===null||!Dc(o.downloadTokens))return null;const i=o.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,u=t.fullPath,f="/b/"+s(d)+"/o/"+s(u),y=ea(f,n,r),p=$1({alt:"media",token:c});return y+p})[0]}function Q1(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class gi{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){if(!t)throw Ip()}function Rp(t,e){function n(r,o){const i=J1(t,o,e);return _n(i!==null),i}return n}function fO(t,e){function n(r,o){const i=J1(t,o,e);return _n(i!==null),hO(i,o,t.host,t._protocol)}return n}function ta(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=IB():o=NB():n.getStatus()===402?o=AB(t.bucket):n.getStatus()===403?o=PB(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Z1(t){const e=ta(t);function n(r,o){let i=e(r,o);return r.getStatus()===404&&(i=TB(t.path)),i.serverResponse=o.serverResponse,i}return n}function pO(t,e,n){const r=e.fullServerUrl(),o=ea(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new gi(o,i,Rp(t,n),s);return a.errorHandler=Z1(e),a}function mO(t,e,n){const r=e.fullServerUrl(),o=ea(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new gi(o,i,fO(t,n),s);return a.errorHandler=Z1(e),a}function gO(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ek(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=gO(null,e)),r}function yO(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let x=0;x<2;x++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=ek(e,r,o),d=Q1(c,n),u="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",y=Yn.getBlob(u,r,f);if(y===null)throw V1();const p={name:c.fullPath},g=ea(i,t.host,t._protocol),w="POST",v=t.maxUploadRetryTime,m=new gi(g,w,Rp(t,n),v);return m.urlParams=p,m.headers=s,m.body=y.uploadData(),m.errorHandler=ta(e),m}class Jl{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function Lp(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{_n(!1)}return _n(!!n&&(e||["active"]).indexOf(n)!==-1),n}function vO(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s=ek(e,r,o),a={name:s.fullPath},l=ea(i,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=Q1(s,n),f=t.maxUploadRetryTime;function y(g){Lp(g);let w;try{w=g.getResponseHeader("X-Goog-Upload-URL")}catch{_n(!1)}return _n(Dc(w)),w}const p=new gi(l,c,y,f);return p.urlParams=a,p.headers=d,p.body=u,p.errorHandler=ta(e),p}function bO(t,e,n,r){const o={"X-Goog-Upload-Command":"query"};function i(c){const d=Lp(c,["active","final"]);let u=null;try{u=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_n(!1)}u||_n(!1);const f=Number(u);return _n(!isNaN(f)),new Jl(f,r.size(),d==="final")}const s="POST",a=t.maxUploadRetryTime,l=new gi(n,s,i,a);return l.headers=o,l.errorHandler=ta(e),l}const lv=256*1024;function wO(t,e,n,r,o,i,s,a){const l=new Jl(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw OB();const c=l.total-l.current;let d=c;o>0&&(d=Math.min(d,o));const u=l.current,f=u+d;let y="";d===0?y="finalize":c===d?y="upload, finalize":y="upload";const p={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(u,f);if(g===null)throw V1();function w(x,E){const C=Lp(x,["active","final"]),A=l.current+d,S=r.size();let _;return C==="final"?_=Rp(e,i)(x,E):_=null,new Jl(A,S,C==="final",_)}const v="POST",m=e.maxUploadRetryTime,b=new gi(n,v,w,m);return b.headers=p,b.body=g.uploadData(),b.progressCallback=a||null,b.errorHandler=ta(t),b}const et={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qu(t){switch(t){case"running":case"pausing":case"canceling":return et.RUNNING;case"paused":return et.PAUSED;case"success":return et.SUCCESS;case"canceled":return et.CANCELED;case"error":return et.ERROR;default:return et.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,r){if($B(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class kO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o){if(this.sent_)throw Pi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EO extends kO{initXhr(){this.xhr_.responseType="text"}}function mo(){return new EO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=X1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(he.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(z1(o.status,[]))if(i)o=F1();else{this.sleepTime=Math.max(this.sleepTime*2,CB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(he.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,i)=>{this._resolve=o,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=vO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,mo,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=bO(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(o,mo,n,r);this._request=i,i.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=lv*this._chunkMultiplier,n=new Jl(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,i)=>{let s;try{s=wO(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,mo,o,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){lv*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=pO(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,mo,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=yO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,mo,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=U1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=qu(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const i=new xO(n||void 0,r||void 0,o||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(qu(this._state)){case et.SUCCESS:ho(this._resolve.bind(null,this.snapshot))();break;case et.CANCELED:case et.ERROR:const n=this._reject;ho(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(qu(this._state)){case et.RUNNING:case et.PAUSED:e.next&&ho(e.next.bind(e,this.snapshot))();break;case et.SUCCESS:e.complete&&ho(e.complete.bind(e))();break;case et.CANCELED:case et.ERROR:e.error&&ho(e.error.bind(e,this._error))();break;default:e.error&&ho(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this._service=e,n instanceof dt?this._location=n:this._location=dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new no(e,n)}get root(){const e=new dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y1(this._location.path)}get storage(){return this._service}get parent(){const e=sO(this._location.path);if(e===null)return null;const n=new dt(this._location.bucket,e);return new no(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DB(e)}}function _O(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new SO(t,new Yn(e),n)}function CO(t){t._throwIfRoot("getDownloadURL");const e=mO(t.storage,t._location,X1());return t.storage.makeRequestWithTokens(e,mo).then(n=>{if(n===null)throw MB();return n})}function TO(t,e){const n=aO(t._location.path,e),r=new dt(t._location.bucket,n);return new no(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){return/^[A-Za-z]+:\/\//.test(t)}function NO(t,e){return new no(t,e)}function tk(t,e){if(t instanceof Bp){const n=t;if(n._bucket==null)throw BB();const r=new no(n,n._bucket);return e!=null?tk(r,e):r}else return e!==void 0?TO(t,e):t}function IO(t,e){if(e&&AO(e)){if(t instanceof Bp)return NO(t,e);throw Ch("To use ref(service, url), the first argument must be a Storage instance.")}else return tk(t,e)}function cv(t,e){const n=e==null?void 0:e[D1];return n==null?null:dt.makeFromBucketSpec(n,t)}function PO(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:oL(o,t.app.options.projectId))}class Bp{constructor(e,n,r,o,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=j1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SB,this._maxUploadRetryTime=_B,this._requests=new Set,o!=null?this._bucket=dt.makeFromBucketSpec(o,this._host):this._bucket=cv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dt.makeFromBucketSpec(this._url,e):this._bucket=cv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){av("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){av("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new no(this,e)}_makeRequest(e,n,r,o,i=!0){if(this._deleted)return new FB(H1());{const s=XB(e,this._appId,r,o,n,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const uv="@firebase/storage",dv="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="storage";function RO(t,e,n){return t=sn(t),_O(t,e,n)}function LO(t){return t=sn(t),CO(t)}function BO(t,e){return t=sn(t),IO(t,e)}function OO(t=Np(),e){t=sn(t);const r=Ap(t,nk).getImmediate({identifier:e}),o=nL("storage");return o&&MO(r,...o),r}function MO(t,e,n,r={}){PO(t,e,n,r)}function jO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Bp(n,r,o,e,mi)}function DO(){ri(new eo(nk,jO,"PUBLIC").setMultipleInstances(!0)),pr(uv,dv,""),pr(uv,dv,"esm2017")}DO();var FO="firebase",UO="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(FO,UO,"app");const VO={apiKey:"AIzaSyAgrI_LeUMRyAVJwlyjQyt8zT_Qooz5-LU",authDomain:"blogging-website-version-2.firebaseapp.com",projectId:"blogging-website-version-2",storageBucket:"blogging-website-version-2.appspot.com",messagingSenderId:"296726342117",appId:"1:296726342117:web:8707d2e76daaaebb01a70c",measurementId:"G-RN5WJ6E861"},rk=pB>0?Np:B1(VO),HO=OO(rk),Op=(t,e)=>new Promise((n,r)=>{const o=BO(HO,`Banner Blog/${Date.now()}_${t.name}`),i=RO(o,t);i.on("state_changed",s=>{e&&e((s.bytesTransferred/s.totalBytes*100).toFixed(2))},s=>{r(s.message)},()=>{LO(i.snapshot.ref).then(s=>{n(s)})})}),hv=({className:t,social_links:e,bio:n,joinedAt:r})=>{const{language:o}=k.useContext(re);return console.log({social_links:e}),Ut(),h.jsxs("div",{className:t,children:[h.jsx("p",{children:n}),h.jsx("div",{className:"flex flex-wrap gap-2",children:e&&Object.entries(e).map(([i,s],a)=>(console.log({key:i,value:s}),h.jsx(ne,{to:s,className:"bg-grey w-[50px] h-[50px] rounded-full flex items-center justify-center hover:bg-grey/70  mt-5 mb-3",children:s.length?s!=="website"?h.jsx("i",{className:`fi fi-brands-${i} text-[20px] flex justify-center items-center`}):h.jsx("i",{className:"fi fi-sr-globe"}):null})))}),h.jsxs("p",{children:[I.joined_at[o]," ",On(r)]})]})},Mp=({content:t,author:e})=>{let{publishedAt:n,blog_id:r,title:o,des:i,tags:s,banner:a,activity:{total_likes:l}}=t,{personal_info:{username:c,fullname:d,profile_img:u}}=e;return h.jsxs(ne,{className:"flex gap-8 justify-center items-center border-b border-grey mb-4 pb-5",to:`/blog/${r}`,children:[h.jsxs("div",{className:"w-full",children:[h.jsxs("div",{className:"flex gap-3 items-center mb-7",children:[h.jsx("img",{src:u,alt:"",className:"w-8 h-8 rounded-full"}),h.jsxs("div",{children:[h.jsx("p",{className:"line-clamp-1 text-black font-medium",children:d}),h.jsxs("p",{className:"line-clamp-1 hover:text-dark-grey",children:["@",c]})]}),h.jsx("p",{className:"min-w-fit text-dark-grey",children:On(n)})]}),h.jsx("h1",{className:"blog-title",children:o}),h.jsx("p",{className:"my-3 text-xl font-gelasio leading-7 max-sm:hidden md:max-[1100px]:hidden line-clamp-2",children:i}),h.jsxs("div",{className:"flex items-center gap-4 mt-7 ",children:[h.jsx("span",{className:"btn-light py-1 px-4 capitalize",children:s[0]}),h.jsxs("span",{className:"ml-3 flex items-center gap-2 text-dark-grey ",children:[h.jsx("i",{className:"fi fi-rs-heart"}),l]})]})]}),h.jsx("div",{className:"h-28 aspect-square bg-grey border border-grey",children:h.jsx("img",{src:a,alt:"",className:"w-full h-full aspect-square object-cover"})})]})};let Fi,Pa;const Fc=({routes:t,defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{const[o,i]=k.useState(0),[s,a]=k.useState(window.innerWidth);Fi=k.useRef(),Pa=k.useRef();const l=(c,d)=>{i(d);let{offsetWidth:u,offsetLeft:f}=c;console.log(f,u),Pa.current.style.left=f+"px",Pa.current.style.width=u+"px"};return k.useEffect(()=>{console.log(s),s>766&&o!==n&&(console.log("inner if: ",s),l(Fi.current,n)),Fi.current.click(),window.addEventListener("resize",()=>{a(window.innerWidth)})},[s]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative bg-white border-b border-grey flex flex-nowrap overflow-x-auto mb-8",children:[t.map((c,d)=>h.jsx("button",{ref:n===d?Fi:null,className:`p-4 px-5 capitalize ${o===d?"text-black":"text-dark-grey"} duration-150 ${e.includes(c)?"md:hidden":""}`,onClick:u=>l(u.target,d),children:c},d)),h.jsx("hr",{ref:Pa,className:"absolute bottom-0 duration-300 border-dark-grey"})]}),Array.isArray(r)?r[o]:r]})},Th={personal_info:{fullname:"",userName:"",profile_img:""},account_info:{total_posts:0,total_reads:0},social_links:{},joinedAt:" "},$O=()=>{let{username:t}=hi();const[e,n]=k.useState(Th),[r,o]=k.useState(null);let[i,s]=k.useState(!0),[a,l]=k.useState(""),{personal_info:{fullname:c,username:d,profile_img:u,bio:f},account_info:{total_posts:y,total_reads:p},social_links:g,joinedAt:w}=e,{userAuth:{username:v}}=k.useContext(le);const{language:m}=k.useContext(re),b=({page:C=1})=>{U.get(`https://backend-mern-blog-web-v22.onrender.com/api/v1/users/get-profile/${t}`).then(({data:{user:A}})=>{A!==null&&n(A),x({user_id:A._id,page:C}),l(t),s(!1)}).catch(A=>{s(!1),console.log(A)})},x=({page:C=1,user_id:A})=>{A=A===void 0?r.user_id:A,U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/search",{author:A,page:C}).then(async({data:S})=>{let _=await Qr({state:r,data:S.blogs,page:C,countRoute:"/blogs/count-search-blogs",data_to_send:{author:A}});_.use_id=A,o(_)})};k.useEffect(()=>{t!==a&&o(null),r==null&&(E(),b({page:1}))},[t,r]);const E=()=>{n(Th),s(!0),l("")};return console.log(t),h.jsx(Le,{children:i?h.jsx(at,{}):d?h.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start justify-between gap-5  min-[1100px]:gap-12 ",children:[h.jsxs("div",{className:"flex flex-col max-md:items-center min-w-[250px] md:w-[50%]  ",children:[h.jsx("img",{src:u,className:"w-48 h-48 bg-grey rounded-full md:w-32 md:h-32"}),h.jsxs("h1",{className:"text-2xl font-medium",children:["@",d]}),h.jsx("p",{className:"text-xl capitalize h-6",children:c}),h.jsxs("p",{children:[y.toLocaleString()," Blogs -"," ",p.toLocaleString()," ",I.profile_page.reads[m]]}),t==v?h.jsx("div",{className:"flex gap-4 mt-2 btn-light rounded-md",children:h.jsx(ne,{to:"/settings/edit-profile",children:I.profile_page.edit_profile[m]})}):" ",h.jsx(hv,{className:"max-md:hidden",bio:f,social_links:g,joinedAt:w})]}),h.jsx("div",{className:"flex flex-col justify-start w-full max-md:mt-12",children:h.jsxs(Fc,{routes:[`${I.profile_page.published_blog[m]}`,`${I.profile_page.about_user[m]}`],defaultHidden:[`${I.profile_page.about_user[m]}`],children:[h.jsxs(h.Fragment,{children:[r==null?h.jsx(at,{}):r.results.length?r.results.map((C,A)=>h.jsx(Le,{transiton:{duration:1,delay:A*.1},children:h.jsx(Mp,{content:C,author:C.author})},A)):h.jsx(_t,{message:"No blog"}),h.jsx(Zr,{state:r,fetchDataFunc:b})]}),h.jsx(h.Fragment,{children:h.jsx(hv,{bio:f,social_links:g,joinedAt:w})})]})})]}):h.jsx(ex,{})})},zO=()=>{let{userAuth:t,userAuth:{access_token:e,username:n},setUserAuth:r}=k.useContext(le);const{language:o}=k.useContext(re);let i=k.useRef();const[s,a]=k.useState(Th),[l,c]=k.useState(!0),[d,u]=k.useState(null);console.log("profile: _____",s);let{personal_info:{fullname:f,profile_img:y,email:p,bio:g},social_links:w}=s,v=150,m=k.useRef();const[b,x]=k.useState(v),E=_=>{x(v-_.target.value.length)},C=_=>{let T=O.loading("Uploading...");const R=_.target.files[0];console.log(R),Op(R).then(M=>{i.current.src=M,u(M),O.dismiss(T),O.success("Uploaded")}).catch(M=>{O.dismiss(T),console.log(M)})},A=_=>{_.preventDefault(),_.target.setAttribute("disabled",!0);let T=O.loading("Changing profile image");d&&U.put("https://backend-mern-blog-web-v22.onrender.com/api/v1/users/change-profile-img",{profile_img:d},{headers:{Authorization:"Bearer "+e}}).then(({data:R})=>{O.dismiss(T),O.success(R.status);let M={...t,profile_img:d};Qd("user",JSON.stringify(M)),r(M),u(null),_.target.removeAttribute("disabled")}).catch(R=>{O.dismiss(T),u(null),_.target.removeAttribute("disabled"),console.log(R)})},S=_=>{_.preventDefault();let T=new FormData(m.current),R={};for(let[ee,se]of T.entries())R[ee]=se;console.log(R);let{username:M,bio:V,youtube:$,facebook:j,twitter:q,github:xe,instagram:B,website:W}=R;_.target.setAttribute("disabled",!0);let G=O.loading("Changing profile");if(M.length<3)return O.error("Username must be at least 6 characters");if(V.length>v)return O.error(`Bio should not be more than ${v}`);U.put("https://backend-mern-blog-web-v22.onrender.com/api/v1/users/change-profile",{username:M,bio:V,social_links:{youtube:$,facebook:j,twitter:q,github:xe,instagram:B,website:W}},{headers:{Authorization:"Bearer "+e}}).then(({data:ee})=>{if(t.username!=ee.personal_info.username){let se={...t,username:ee.username};Qd("user",JSON.stringify(se)),r(se)}O.dismiss(G),_.target.removeAttribute("disabled"),O.success("Profile Updated")}).catch(({response:ee})=>{console.log("error: ",ee),O.dismiss(G),_.target.removeAttribute("disabled"),O.error(ee.data.message)})};return k.useEffect(()=>{e&&(console.log("userAuth: ______",t),U.get(`https://backend-mern-blog-web-v22.onrender.com/api/v1/users/get-profile/${t.username}`).then(({data:{user:_}})=>{a(_),c(!1)}))},[e]),h.jsx(Le,{children:l?h.jsx(at,{}):h.jsxs("form",{ref:m,children:[h.jsx(qs,{}),h.jsx("h1",{className:"max-md:hidden",children:I.edit_profile[o]}),h.jsxs("div",{className:"flex flex-col lg:flex-row items-start py-10 gap-8 lg:gap-10",children:[h.jsxs("div",{className:"max-lg:center mb-5 ",children:[h.jsxs("label",{htmlFor:"uploadImg",id:"profileImgLabel",className:"relative block w-48 h-48 bg-grey rounded-full overflow-hidden",children:[h.jsx("div",{className:"w-full h-full absolute top-0 left-0 flex items-center justify-center text-white bg-black/30 opacity-0 hover:opacity-100 cursor-pointer",children:I.upload_image[o]}),h.jsx("img",{ref:i,src:y,alt:"",className:" border-2 border-orange-300 w-full h-full rounded-full object-cover"})]}),h.jsx("input",{type:"file",id:"uploadImg",accept:".png, .jpeg, .jpg",hidden:!0,onChange:C}),d&&h.jsx("button",{onClick:A,className:"btn-light mt-5 max-lg:center lg:w-full px-10",children:"Upload"})]}),h.jsxs("div",{className:"grid lg:grid-rows-2 w-full",children:[h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-5",children:[h.jsx("div",{className:"",children:h.jsx(mn,{name:"fullname",type:"text",value:f,placeholder:"Fullname",icon:"fi-rr-user",disabled:!0})}),h.jsx("div",{className:"",children:h.jsx(mn,{name:"email",type:"email",value:p,placeholder:"Email",disabled:!0,icon:"fi-rr-envelope"})})]})}),h.jsx(mn,{name:"username",type:"text",value:n,placeholder:"Username",icon:"fi-rr-at"}),h.jsx("p",{className:"text-dark-grey -mt-3",children:I.username_des[o]}),h.jsx("textarea",{name:"bio",id:"bio",className:"input-box h-64 lg:h-40 resize-none leading-7 mt-5 pl-5 ",placeholder:"Bio",defaultValue:g,onChange:E}),h.jsxs("p",{className:"mt-1 text-dark-grey",children:[b," ",I.preview_page.char_left[o]]}),h.jsx("p",{className:"my-6 text-dark-grey",children:I.social_link[o]}),h.jsx("div",{className:"md:grid md:grid-cols-2 gap-x-6",children:Object.keys(w).map((_,T)=>{let R=w[_];return h.jsx(mn,{name:_,type:"text",value:R,placeholder:"https://",icon:"fi "+(_!="website")?"fi-brands-"+_:"fi-ss-site"},T)})}),h.jsx("button",{onClick:S,className:"btn-dark w-auto px-10",type:"submit",children:I.update[o]})]})]})]})})},WO="/assets/blog banner-CeC6Biu5.png";var qO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ku(){}Object.assign(Ku,{default:Ku,register:Ku,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let KO=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var ok=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(ok||{});const z={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},GO={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function na(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(na.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const a="Editor.js 2.29.0";t&&(i?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}na.logLevel="VERBOSE";function YO(t){na.logLevel=t}const te=na.bind(window,!1),Bt=na.bind(window,!0);function ro(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function ue(t){return ro(t)==="function"||ro(t)==="asyncfunction"}function De(t){return ro(t)==="object"}function wr(t){return ro(t)==="string"}function XO(t){return ro(t)==="boolean"}function fv(t){return ro(t)==="number"}function pv(t){return ro(t)==="undefined"}function At(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function ik(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function JO(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(pv(o.data)?{}:o.data)}catch{s(pv(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function sk(t){return Array.prototype.slice.call(t)}function Ql(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function QO(t){return t.name.split(".").pop()}function ZO(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function mv(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,n||t.apply(i,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function Ah(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const d=e-(c-a);return r=this,o=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,d)),i}}function eM(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function oi(t){return t[0].toUpperCase()+t.slice(1)}function Nh(t,...e){if(!e.length)return t;const n=e.shift();if(De(t)&&De(n))for(const r in n)De(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Nh(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Nh(t,...e)}function Uc(t){const e=eM();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function tM(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function nM(){return KO(10)}function rM(t){window.open(t,"_blank")}function oM(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Ih(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&Bt(r,"warn")}function yi(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const ak=650;function Wr(){return window.matchMedia(`(max-width: ${ak}px)`).matches}const gv=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function iM(t,e){const n=Array.isArray(t)||De(t),r=Array.isArray(e)||De(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let N=class Ye{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return sk(e.querySelectorAll(Ye.allInputsSelector)).reduce((n,r)=>Ye.isNativeInput(r)||Ye.containsOnlyInlineElements(r)?[...n,r]:[...n,...Ye.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(Ye.isSingleTag(i)&&!Ye.isNativeInput(i)&&!Ye.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return fv(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return fv(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(Ye.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=Ye.isContentEditable(e);return n}static isNodeEmpty(e,n){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("​",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){e.normalize();const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=Ye.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return Ye.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;wr(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!Ye.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return Ye.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...Ye.getDeepestBlockElements(r)],[])}static getHolder(e){return wr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}};const sM={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},aM={Text:"",Link:"",Bold:"",Italic:""},lM={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},cM={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},lk={ui:sM,toolNames:aM,tools:lM,blockTunes:cM},go=class{static ui(t,e){return go._t(t,e)}static t(t,e){return go._t(t,e)}static setDictionary(t){go.currentDictionary=t}static _t(t,e){const n=go.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],go.currentDictionary)}};let rt=go;rt.currentDictionary=lk;class ck extends Error{}class Vc{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){At(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function Or(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class Dp{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=oM("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class X{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Dp,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===X)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class F{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?N.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(F.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${F.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${F.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!F.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return te("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return te("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return N.isNativeInput(e)?N.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=F.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=F.range;if(e===null)return;const n=N.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return N.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=N.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=F.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}}function uM(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const s=Array.from(o).some(l=>e.contains(l)),a=Array.from(i).some(l=>e.contains(l));return s||a}const Ph="redactor dom changed",uk="block changed",dk="fake cursor is about to be toggled",hk="fake cursor have been set";function yv(t,e){return t.mergeable&&t.name===e.name}function dM(t,e){const n=e==null?void 0:e.export;return ue(n)?n(t):wr(n)?t[n]:(n!==void 0&&te("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function hM(t,e){const n=e==null?void 0:e.import;return ue(n)?n(t):wr(n)?{[n]:t}:(n!==void 0&&te("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var un=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(un||{});let gn=class Vn extends Vc{constructor({id:e=nM(),data:n,tool:r,api:o,readOnly:i,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,d=l instanceof InputEvent;!c&&!d&&this.detectToolRootChange(l);let u;c||d?u=!0:u=!(l.length>0&&l.every(f=>{const{addedNodes:y,removedNodes:p,target:g}=f;return[...Array.from(y),...Array.from(p),g].some(w=>(N.isElement(w)||(w=w.parentElement),w&&w.closest('[data-mutation-free="true"]')!==null))})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=a||null,this.blockAPI=new Or(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=N.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!At(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return ue(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=N.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,r;this.holder.classList.toggle(Vn.CSS.selected,e);const o=e===!0&&F.isRangeInsideContainer(this.holder),i=e===!1&&F.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(dk,{state:e}),o?F.addFakeCursor():F.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(hk,{state:e}))}get selected(){return this.holder.classList.contains(Vn.CSS.selected)}set stretched(e){this.holder.classList.toggle(Vn.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Vn.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Vn.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(ue(this.toolInstance[e])){e==="appendCallback"&&te("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){te(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(ue(s.save))try{n[i]=s.save()}catch(a){te(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{te(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render());return[r,o].flat().forEach(i=>{N.isElement(i)?e.appendChild(i):Array.isArray(i)?n.push(...i):n.push(i)}),[n,e]}updateCurrentInput(){this.currentInput=N.isNativeInput(document.activeElement)||!F.anchorNode?document.activeElement:F.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),ue(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([o,i])=>n[o]&&iM(n[o],i)))}async exportDataAsString(){const e=await this.data;return dM(e,this.tool.conversionConfig)}compose(){const e=N.make("div",Vn.CSS.wrapper),n=N.make("div",Vn.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(ue(i.wrap))try{o=i.wrap(o)}catch(s){te(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),N.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),N.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>uM(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Ph,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Ph,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}};class fM extends X{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:i,replace:s});return new Or(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new gn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(o===void 0)throw new Error(`Block with id "${e}" not found`);const i=await r.update(o,n);return new Or(i)},this.convert=(e,n,r)=>{var o,i;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const c=a.blockTools.get(l.name),d=a.blockTools.get(n);if(!d)throw new Error(`Block Tool with type "${n}" not found`);const u=((o=c==null?void 0:c.conversionConfig)==null?void 0:o.export)!==void 0,f=((i=d.conversionConfig)==null?void 0:i.import)!==void 0;if(u&&f)s.convert(l,n,r);else{const y=[u?!1:oi(l.name),f?!1:oi(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${y} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:o,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:o,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(o=>new Or(o))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Bt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Bt("There is no block at index `"+e+"`","warn");return}return new Or(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Bt("There is no block with id `"+e+"`","warn"),null):new Or(n)}swap(e,n){te("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){Bt(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Ih(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){te("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}class pM extends X{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class mM extends X{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class Fp extends X{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{Bt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>rt.t(Fp.getNamespace(e),n)})}}class gM extends X{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class yM extends X{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class vM extends X{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var Rh={},bM={get exports(){return Rh},set exports(t){Rh=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,d=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},d)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var f=(p=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),y=u.sources.map(function(g){return"/*# sourceURL="+u.sourceRoot+g+" */"});return[d].concat(y).concat([f]).join(`
`)}var p;return[d].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),i.push(u))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(S){var _={};return function(T){if(typeof T=="function")return T();if(_[T]===void 0){var R=(function(M){return document.querySelector(M)}).call(this,T);if(window.HTMLIFrameElement&&R instanceof window.HTMLIFrameElement)try{R=R.contentDocument.head}catch{R=null}_[T]=R}return _[T]}}(),d=null,u=0,f=[],y=o(5);function p(S,_){for(var T=0;T<S.length;T++){var R=S[T],M=a[R.id];if(M){M.refs++;for(var V=0;V<M.parts.length;V++)M.parts[V](R.parts[V]);for(;V<R.parts.length;V++)M.parts.push(x(R.parts[V],_))}else{var $=[];for(V=0;V<R.parts.length;V++)$.push(x(R.parts[V],_));a[R.id]={id:R.id,refs:1,parts:$}}}}function g(S,_){for(var T=[],R={},M=0;M<S.length;M++){var V=S[M],$=_.base?V[0]+_.base:V[0],j={css:V[1],media:V[2],sourceMap:V[3]};R[$]?R[$].parts.push(j):T.push(R[$]={id:$,parts:[j]})}return T}function w(S,_){var T=c(S.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=f[f.length-1];if(S.insertAt==="top")R?R.nextSibling?T.insertBefore(_,R.nextSibling):T.appendChild(_):T.insertBefore(_,T.firstChild),f.push(_);else if(S.insertAt==="bottom")T.appendChild(_);else{if(typeof S.insertAt!="object"||!S.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var M=c(S.insertInto+" "+S.insertAt.before);T.insertBefore(_,M)}}function v(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S);var _=f.indexOf(S);_>=0&&f.splice(_,1)}function m(S){var _=document.createElement("style");return S.attrs.type===void 0&&(S.attrs.type="text/css"),b(_,S.attrs),w(S,_),_}function b(S,_){Object.keys(_).forEach(function(T){S.setAttribute(T,_[T])})}function x(S,_){var T,R,M,V;if(_.transform&&S.css){if(!(V=_.transform(S.css)))return function(){};S.css=V}if(_.singleton){var $=u++;T=d||(d=m(_)),R=A.bind(null,T,$,!1),M=A.bind(null,T,$,!0)}else S.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(j){var q=document.createElement("link");return j.attrs.type===void 0&&(j.attrs.type="text/css"),j.attrs.rel="stylesheet",b(q,j.attrs),w(j,q),q}(_),R=(function(j,q,xe){var B=xe.css,W=xe.sourceMap,G=q.convertToAbsoluteUrls===void 0&&W;(q.convertToAbsoluteUrls||G)&&(B=y(B)),W&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(W))))+" */");var ee=new Blob([B],{type:"text/css"}),se=j.href;j.href=URL.createObjectURL(ee),se&&URL.revokeObjectURL(se)}).bind(null,T,_),M=function(){v(T),T.href&&URL.revokeObjectURL(T.href)}):(T=m(_),R=(function(j,q){var xe=q.css,B=q.media;if(B&&j.setAttribute("media",B),j.styleSheet)j.styleSheet.cssText=xe;else{for(;j.firstChild;)j.removeChild(j.firstChild);j.appendChild(document.createTextNode(xe))}}).bind(null,T),M=function(){v(T)});return R(S),function(j){if(j){if(j.css===S.css&&j.media===S.media&&j.sourceMap===S.sourceMap)return;R(S=j)}else M()}}n.exports=function(S,_){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(_=_||{}).attrs=typeof _.attrs=="object"?_.attrs:{},_.singleton||typeof _.singleton=="boolean"||(_.singleton=l()),_.insertInto||(_.insertInto="head"),_.insertAt||(_.insertAt="bottom");var T=g(S,_);return p(T,_),function(R){for(var M=[],V=0;V<T.length;V++){var $=T[V];(j=a[$.id]).refs--,M.push(j)}for(R&&p(g(R,_),_),V=0;V<M.length;V++){var j;if((j=M[V]).refs===0){for(var q=0;q<j.parts.length;q++)j.parts[q]();delete a[j.id]}}}};var E,C=(E=[],function(S,_){return E[S]=_,E.filter(Boolean).join(`
`)});function A(S,_,T,R){var M=T?"":R.css;if(S.styleSheet)S.styleSheet.cssText=C(_,M);else{var V=document.createTextNode(M),$=S.childNodes;$[_]&&S.removeChild($[_]),$.length?S.insertBefore(V,$[_]):S.appendChild(V)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(f,y){return y}).replace(/^'(.*)'$/,function(f,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,r,o){var i,s,a,l,c,d,u,f,y;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",d="cdx-notify__input",u="cdx-notify__button",f="cdx-notify__btns-wrapper",{alert:y=function(p){var g=document.createElement("DIV"),w=document.createElement("DIV"),v=p.message,m=p.style;return g.classList.add(s),m&&g.classList.add(s+"--"+m),g.innerHTML=v,w.classList.add(a),w.addEventListener("click",g.remove.bind(g)),g.appendChild(w),g},confirm:function(p){var g=y(p),w=document.createElement("div"),v=document.createElement("button"),m=document.createElement("button"),b=g.querySelector("."+a),x=p.cancelHandler,E=p.okHandler;return w.classList.add(f),v.innerHTML=p.okText||"Confirm",m.innerHTML=p.cancelText||"Cancel",v.classList.add(u),m.classList.add(u),v.classList.add(l),m.classList.add(c),x&&typeof x=="function"&&(m.addEventListener("click",x),b.addEventListener("click",x)),E&&typeof E=="function"&&v.addEventListener("click",E),v.addEventListener("click",g.remove.bind(g)),m.addEventListener("click",g.remove.bind(g)),w.appendChild(v),w.appendChild(m),g.appendChild(w),g},prompt:function(p){var g=y(p),w=document.createElement("div"),v=document.createElement("button"),m=document.createElement("input"),b=g.querySelector("."+a),x=p.cancelHandler,E=p.okHandler;return w.classList.add(f),v.innerHTML=p.okText||"Ok",v.classList.add(u),v.classList.add(l),m.classList.add(d),p.placeholder&&m.setAttribute("placeholder",p.placeholder),p.default&&(m.value=p.default),p.inputType&&(m.type=p.inputType),x&&typeof x=="function"&&b.addEventListener("click",x),E&&typeof E=="function"&&v.addEventListener("click",function(){E(m.value)}),v.addEventListener("click",g.remove.bind(g)),w.appendChild(m),w.appendChild(v),g.appendChild(w),g},getWrapper:function(){var p=document.createElement("DIV");return p.classList.add(i),p}})}])})})(bM);const wM=jp(Rh);class xM{show(e){wM.show(e)}}class kM extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new xM}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class EM extends X{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Lh={},SM={get exports(){return Lh},set exports(t){Lh=t}};(function(t,e){(function(n,r){t.exports=r()})(qO,function(){function n(u){var f=u.tags,y=Object.keys(f),p=y.map(function(g){return typeof f[g]}).every(function(g){return g==="object"||g==="boolean"||g==="function"});if(!p)throw new Error("The configuration was invalid");this.config=u}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(u){return r.indexOf(u.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(u){return i.indexOf(u.nodeName)!==-1}n.prototype.clean=function(u){const f=document.implementation.createHTMLDocument(),y=f.createElement("div");return y.innerHTML=u,this._sanitize(f,y),y.innerHTML},n.prototype._sanitize=function(u,f){var y=a(u,f),p=y.firstChild();if(p)do{if(p.nodeType===Node.TEXT_NODE)if(p.data.trim()===""&&(p.previousElementSibling&&o(p.previousElementSibling)||p.nextElementSibling&&o(p.nextElementSibling))){f.removeChild(p),this._sanitize(u,f);break}else continue;if(p.nodeType===Node.COMMENT_NODE){f.removeChild(p),this._sanitize(u,f);break}var g=s(p),w;g&&(w=Array.prototype.some.call(p.childNodes,o));var v=!!f.parentNode,m=o(f)&&o(p)&&v,b=p.nodeName.toLowerCase(),x=l(this.config,b,p),E=g&&w;if(E||c(p,x)||!this.config.keepNestedBlockElements&&m){if(!(p.nodeName==="SCRIPT"||p.nodeName==="STYLE"))for(;p.childNodes.length>0;)f.insertBefore(p.childNodes[0],p);f.removeChild(p),this._sanitize(u,f);break}for(var C=0;C<p.attributes.length;C+=1){var A=p.attributes[C];d(A,x,p)&&(p.removeAttribute(A.name),C=C-1)}this._sanitize(u,p)}while(p=y.nextSibling())};function a(u,f){return u.createTreeWalker(f,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(u,f,y){return typeof u.tags[f]=="function"?u.tags[f](y):u.tags[f]}function c(u,f){return typeof f>"u"?!0:typeof f=="boolean"?!f:!1}function d(u,f,y){var p=u.name.toLowerCase();return f===!0?!1:typeof f[p]=="function"?!f[p](u.value,y):typeof f[p]>"u"||f[p]===!1?!0:typeof f[p]=="string"?f[p]!==u.value:!1}return n})})(SM);const _M=Lh;function fk(t,e){return t.map(n=>{const r=ue(e)?e(n.tool):e;return At(r)||(n.data=Up(n.data,r)),n})}function yn(t,e={}){const n={tags:e};return new _M(n).clean(t)}function Up(t,e){return Array.isArray(t)?CM(t,e):De(t)?TM(t,e):wr(t)?AM(t,e):t}function CM(t,e){return t.map(n=>Up(n,e))}function TM(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=NM(e[r])?e[r]:e;n[r]=Up(o,i)}return n}function AM(t,e){return De(e)?yn(t,e):e===!1?yn(t,{}):t}function NM(t){return De(t)||XO(t)||ue(t)}class IM extends X{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return yn(e,n)}}class PM extends X{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Bt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class RM extends X{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new F().findParentTag(e,n)}expandToTag(e){new F().expandToTag(e)}}class LM extends X{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class BM extends X{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Bt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Bt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Bh={},OM={get exports(){return Bh},set exports(t){Bh=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(a,d);break;case"left":this.placeLeft(a,d);break;case"right":this.placeRight(a,d);break;case"bottom":default:this.placeBottom(a,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",d,u)}placeTop(a,l){const c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,u)}placeLeft(a,l){const c=a.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,u)}placeRight(a,l){const c=a.getBoundingClientRect(),d=c.right+this.offsetRight+l.marginRight,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,u)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const d=document.createElement(a);Array.isArray(l)?d.classList.add(...l):l&&d.classList.add(l);for(const u in c)c.hasOwnProperty(u)&&(d[u]=c[u]);return d}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(OM);const MM=jp(Bh);let Dt=null;function Vp(){Dt||(Dt=new MM)}function jM(t,e,n){Vp(),Dt==null||Dt.show(t,e,n)}function Oh(t=!1){Vp(),Dt==null||Dt.hide(t)}function Bs(t,e,n){Vp(),Dt==null||Dt.onHover(t,e,n)}function DM(){Dt==null||Dt.destroy(),Dt=null}class FM extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){jM(e,n,r)}hide(){Oh()}onHover(e,n,r){Bs(e,n,r)}}class UM extends X{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function pk(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(De(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>wr(s))?n[r]=i:n[r]=pk(o,i);return}n[r]=o}),n}const Ot=pk(lk);function VM(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const HM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',mk='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',$M='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',zM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',WM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',qM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',vv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',KM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',GM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',YM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',XM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',JM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';let bv=class Te{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Te.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Te.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Te.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Te.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(Te.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(Te.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=N.make("div",Te.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=N.make("div",Te.CSS.icon,{innerHTML:e.icon||WM}),n.appendChild(this.nodes.icon),n.appendChild(N.make("div",Te.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(N.make("div",Te.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(Te.CSS.active),e.isDisabled&&n.classList.add(Te.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Te.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Te.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Te.CSS.noHover),this.nodes.root.classList.add(Te.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(Te.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Te.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}};const Ui=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(Ui.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Ui.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===Ui.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===Ui.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,N.canSetCaret(this.items[e])&&Ql(()=>F.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let yo=Ui;yo.directions={RIGHT:"right",LEFT:"left"};class Pn{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Pn.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case z.TAB:this.handleTabPress(n);break;case z.LEFT:case z.UP:this.flipLeft();break;case z.RIGHT:case z.DOWN:this.flipRight();break;case z.ENTER:this.handleEnterPress(n);break}},this.iterator=new yo(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Pn.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[z.TAB,z.LEFT,z.RIGHT,z.ENTER,z.UP,z.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?yo.directions.LEFT:yo.directions.RIGHT){case yo.directions.RIGHT:this.flipRight();break;case yo.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),ue(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class is{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new Dp,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=N.make("div",is.CSS.wrapper);const n=N.make("div",is.CSS.icon,{innerHTML:YM});this.input=N.make("input",is.CSS.input,{placeholder:e,tabIndex:-1}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const Vi=class{lock(){gv?this.lockHard():document.body.classList.add(Vi.CSS.scrollLocked)}unlock(){gv?this.unlockHard():document.body.classList.remove(Vi.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Vi.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Vi.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let gk=Vi;gk.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var QM=Object.defineProperty,ZM=Object.getOwnPropertyDescriptor,ej=(t,e,n,r)=>{for(var o=r>1?void 0:r?ZM(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&QM(e,n,o),o},Os=(t=>(t.Close="close",t))(Os||{});const Be=class extends Vc{constructor(t){super(),this.scopeElement=document.body,this.listeners=new Dp,this.scrollLocker=new gk,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new bv(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Be.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Be.CSS.overlayHidden),this.nodes.popover.classList.add(Be.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&requestAnimationFrame(()=>{var t;(t=this.search)==null||t.focus()}),Wr()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Be.CSS.popoverOpened),this.nodes.popover.classList.remove(Be.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Be.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),Wr()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),Wr()&&this.scrollLocker.unlock()}make(){this.nodes.popover=N.make("div",[Be.CSS.popover]),this.nodes.nothingFoundMessage=N.make("div",[Be.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=N.make("div",[Be.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=N.make("div"),this.nodes.overlay=N.make("div",[Be.CSS.overlay,Be.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new is({items:this.items,placeholder:this.messages.search,onSearch:(e,n)=>{this.items.forEach(o=>{const i=!n.includes(o);o.toggleHidden(i)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(e!=="");const r=e===""?this.flippableElements:n.map(o=>o.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(r))}});const t=this.search.getElement();t.classList.add(Be.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(Be.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Pn({items:this.flippableElements,focusedItemClass:bv.CSS.focused,allowedKeys:[z.TAB,z.UP,z.DOWN,z.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Be.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.height,r=t.top+n,o=t.top-n,i=Math.min(window.innerHeight,e.bottom);return o<e.top||r<=i}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(Be.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(Be.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(n=>n.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(n=>{n.toggleActive(n===t)})}}};let Hp=Be;ej([yi],Hp.prototype,"height",1);class tj extends X{constructor(){super(...arguments),this.opened=!1,this.selection=new F,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=N.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Hp({searchable:!0,items:n.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:rt.ui(Ot.ui.popover,"Nothing found"),search:rt.ui(Ot.ui.popover,"Filter")}}),this.popover.on(Os.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened&&(this.opened=!1,F.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Os.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${N.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=VM(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class lt extends X{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=N.make("div",[lt.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=N.make("div",lt.CSS.conversionToolbarTools);const e=N.make("div",lt.CSS.conversionToolbarLabel,{textContent:rt.ui(Ot.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),N.append(this.nodes.wrapper,e),N.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),ue(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(lt.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(lt.CSS.conversionToolHidden))),this.flipper.focusFirst(),ue(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(lt.CSS.conversionToolbarShowed),ue(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const{BlockManager:r,BlockSelection:o,InlineToolbar:i,Caret:s}=this.Editor;r.convert(this.Editor.BlockManager.currentBlock,e,n),o.clearSelection(),this.close(),i.close(),window.requestAnimationFrame(()=>{s.setToBlock(this.Editor.BlockManager.currentBlock,s.positions.END)})}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{var o;const i=r.conversionConfig;!i||!i.import||(o=r.toolbox)==null||o.forEach(s=>this.addToolIfValid(n,s))})}addToolIfValid(e,n){At(n)||!n.icon||this.addTool(e,n)}addTool(e,n){var r;const o=N.make("div",[lt.CSS.conversionTool]),i=N.make("div",[lt.CSS.conversionToolIcon]);o.dataset.tool=e,i.innerHTML=n.icon,N.append(o,i),N.append(o,N.text(rt.t(Ot.toolNames,n.title||oi(e))));const s=(r=this.Editor.Tools.blockTools.get(e))==null?void 0:r.shortcut;if(s){const a=N.make("span",lt.CSS.conversionToolSecondaryLabel,{innerText:Uc(s)});N.append(o,a)}N.append(this.nodes.tools,o),this.tools.push({name:e,button:o,toolboxItem:n}),this.listeners.on(o,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(o,i){return o.icon===i.icon&&o.title===i.title}this.tools.forEach(o=>{let i=!1;if(n){const s=r(n,o.toolboxItem);i=o.button.dataset.tool===e.name&&s}o.button.hidden=i,o.button.classList.toggle(lt.CSS.conversionToolHidden,i)})}enableFlipper(){this.flipper=new Pn({focusedItemClass:lt.CSS.conversionToolFocused})}}var Mh={},nj={get exports(){return Mh},set exports(t){Mh=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&i(l.prototype,c),d&&i(l,d),l}o.r(r);var a=function(){function l(c){var d=this;(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(u){d.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var u=!1;for(var f in l.supportedCommands)if(l.supportedCommands[f].includes(c[d])){u=this.commands[f]=!0;break}u||(this.keys[c[d]]=!0)}for(var y in l.supportedCommands)this.commands[y]||(this.commands[y]=!1)}},{key:"execute",value:function(c){var d,u={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},f=!0;for(d in this.commands)this.commands[d]!==u[d]&&(f=!1);var y,p=!0;for(y in this.keys)p=p&&c.keyCode===l.keyCodes[y];f&&p&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(nj);const rj=jp(Mh);class oj{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new rj({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const ii=new oj;var ij=Object.defineProperty,sj=Object.getOwnPropertyDescriptor,yk=(t,e,n,r)=>{for(var o=r>1?void 0:r?sj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&ij(e,n,o),o},ol=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(ol||{});const vk=class extends Vc{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Hp({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Os.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(vk.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(Os.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:rt.t(Ot.toolNames,e.title||oi(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?Uc(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(r=>{e.push(t(r,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){ii.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(o)try{this.api.blocks.convert(o.id,t),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(r,"end")});return}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&ii.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const o=r.isEmpty?n:n+1;let i;if(e){const a=await this.api.blocks.composeBlockData(t);i=Object.assign(a,e)}const s=this.api.blocks.insert(t,i,void 0,o,void 0,r.isEmpty);s.call(un.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let $p=vk;yk([yi],$p.prototype,"toolsToBeDisplayed",1);yk([yi],$p.prototype,"toolboxItemsToBeDisplayed",1);const bk="block hovered";class aj extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){te("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){te("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){te("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,i=window.getComputedStyle(o),s=parseInt(i.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}make(){this.nodes.wrapper=N.make("div",this.CSS.toolbar),["content","actions"].forEach(o=>{this.nodes[o]=N.make("div",this.CSS[o])}),N.append(this.nodes.wrapper,this.nodes.content),N.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=N.make("div",this.CSS.plusButton,{innerHTML:GM}),N.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Oh(!0),this.plusButtonClicked()},!1);const e=N.make("div");e.appendChild(document.createTextNode(rt.ui(Ot.ui.toolbar.toolbox,"Add"))),e.appendChild(N.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Bs(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=N.make("span",this.CSS.settingsToggler,{innerHTML:KM}),N.append(this.nodes.actions,this.nodes.settingsToggler);const n=N.make("div"),r=N.text(rt.ui(Ot.ui.blockTunes.toggler,"Click to tune"));n.appendChild(r),n.appendChild(N.make("div",this.CSS.plusButtonShortcut,{textContent:Uc("CMD + /")})),Bs(this.nodes.settingsToggler,n,{hidingDelay:400}),N.append(this.nodes.actions,this.makeToolbox()),N.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),N.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new $p({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:rt.ui(Ot.ui.popover,"Filter"),nothingFound:rt.ui(Ot.ui.popover,"Nothing found")}}),this.toolboxInstance.on(ol.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ol.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ol.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),Oh(!0)},!0),Wr()||this.eventsDispatcher.on(bk,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Hc=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Hc||{}),il=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(il||{}),wk=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(wk||{}),vo=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(vo||{}),zp=(t=>(t.IsInline="isInline",t.Title="title",t))(zp||{}),xk=(t=>(t.IsTune="isTune",t))(xk||{});class Wp{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(ue(this.constructable.reset))return this.constructable.reset()}prepare(){if(ue(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class lj extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=Wr()?20:6,this.buttonsList=null,this.width=0,this.flipper=null}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1,n=!0){e&&this.close(),this.allowedToShow()&&(await this.addToolsFiltered(n),this.move(),this.open(n),this.Editor.Toolbar.close())}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&ii.remove(this.Editor.UI.nodes.redactor,r),ue(n.clear)&&n.clear()}),this.reset(),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}make(){this.nodes.wrapper=N.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=N.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=N.make("div",this.CSS.buttonsWrapper),this.nodes.actions=N.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),N.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),N.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),N.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}open(){if(this.opened)return;this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0;let e=Array.from(this.buttonsList);e.unshift(this.nodes.conversionToggler),e=e.filter(n=>!n.hidden),this.flipper.activate(e)}move(){const e=F.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.x,y:e.y+e.height-n.top+this.toolbarVerticalMargin};r.x+this.width+n.x>this.Editor.UI.contentRect.right&&(r.x=this.Editor.UI.contentRect.right-this.width-n.x),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}reset(){this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarLeftOriented,this.CSS.inlineToolbarRightOriented),this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=F.get(),r=F.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=N.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=N.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=N.make("div",this.CSS.conversionTogglerContent);const e=N.make("div",this.CSS.conversionTogglerArrow,{innerHTML:mk});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),Wr()===!1&&Bs(this.nodes.conversionToggler,rt.ui(Ot.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,o=n.tool.conversionConfig,i=o&&o.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||oi(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();N.append(this.nodes.wrapper,e)}async addToolsFiltered(e=!0){const n=F.get(),r=this.Editor.BlockManager.getBlock(n.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(r.tool.inlineTools.values()).forEach(o=>{this.addTool(o)}),e&&this.Editor.ConversionToolbar.hasTools()?await this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0,this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){te("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),ue(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(n,o)}catch{}const i=N.make("div"),s=rt.t(Ot.toolNames,e.title||oi(e.name));i.appendChild(N.text(s)),o&&i.appendChild(N.make("div",this.CSS.inlineToolbarShortcut,{textContent:Uc(o)})),Wr()===!1&&Bs(r,i,{placement:"top",hidingDelay:100}),n.checkState(F.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][wk.Shortcut]:r.shortcut}enableShortcuts(e,n){ii.add({name:n,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=F.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(F.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new Pn({focusedItemClass:this.CSS.focusedButton,allowedKeys:[z.ENTER,z.TAB]})}}class cj extends X{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case z.BACKSPACE:this.backspace(e);break;case z.DELETE:this.delete(e);break;case z.ENTER:this.enter(e);break;case z.DOWN:case z.RIGHT:this.arrowRightAndDown(e);break;case z.UP:case z.LEFT:this.arrowLeftAndUp(e);break;case z.TAB:this.tabPressed(e);break;case z.SLASH:e.ctrlKey||e.metaKey?this.commandSlashPressed():this.slashPressed();break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&ik(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,ConversionToolbar:r,Caret:o}=this.Editor;r.opened||n.opened||(e.shiftKey?o.navigatePrevious(!0):o.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(){this.Editor.BlockManager.currentBlock.isEmpty&&this.activateToolbox()}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,previousBlock:i}=n;if(!(!F.isCollapsed||!r.isAtStart)){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.firstInput){r.navigatePrevious();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}yv(o,i)?this.mergeBlocks(i,o):r.setToBlock(i,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,nextBlock:i}=n;if(!(!F.isCollapsed||!r.isAtEnd)){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.lastInput){r.navigateNext();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o),r.setToBlock(i,r.positions.START);return}yv(o,i)?this.mergeBlocks(o,i):r.setToBlock(i,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Caret:o,Toolbar:i}=this.Editor;o.createShadow(e.pluginsContent),r.mergeBlocks(e,n).then(()=>{window.requestAnimationFrame(()=>{o.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),i.close()})})}arrowRightAndDown(e){const n=Pn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===z.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===z.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===z.DOWN||e.keyCode===z.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Ql(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Pn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===z.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===z.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===z.UP||e.keyCode===z.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Ql(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===z.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===z.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===z.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===z.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===z.TAB;return!(e.shiftKey||s||n||r||o||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Gu{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return sk(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];N.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(un.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(un.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const o of e)r.appendChild(o.holder);if(this.length>0){if(n>0){const o=Math.min(n-1,this.length-1);this.blocks[o].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(o=>o.call(un.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(un.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(un.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(un.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const wv="block-removed",xv="block-added",uj="block-moved",kv="block-changed";class dj{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class hj extends X{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Gu(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Gu.set,get:Gu.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new gn({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(wv,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(xv,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n){const r=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,n),tunes:e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,o),this.blockDidMutated(kv,o,{index:i}),o}replace(e,n,r){const o=this.getBlockIndex(e);this.insert({tool:n,data:r,index:o,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{o.call(un.ON_PASTE,n)})}catch(i){te(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(xv,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=await n.data;At(r)||await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,n=!0){return new Promise(r=>{const o=this._blocks.indexOf(e);if(!this.validateIndex(o))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(o),this.blockDidMutated(wv,e,{index:o}),this.currentBlockIndex>=o&&this.currentBlockIndex--,this.blocks.length?o===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=N.make("div");n.appendChild(e);const r={text:N.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){N.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${gn.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}setCurrentBlockByChildNode(e){N.isElement(e)||(e=e.parentNode);const n=e.closest(`.${gn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;N.isElement(e)||(e=e.parentNode);const n=e.closest(`.${gn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){te("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){te("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(uj,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const o=this.Editor.Tools.blockTools.get(n);if(!o)throw new Error(`Could not convert Block. Tool «${n}» not found.`);const i=await e.exportDataAsString(),s=yn(i,o.sanitizeConfig);let a=hM(s,o.conversionConfig);r&&(a=Object.assign(a,r)),this.replace(e,o.name,a)}dropPointer(){this.currentBlockIndex=-1}async clear(e=!1){const n=new dj;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(kv,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new Or(n),...r}});return this.eventsDispatcher.emit(uk,{event:o}),n}}class fj extends X{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new F,ii.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){F.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&ik(e.keyCode);if(this.anyBlockSelected&&s&&a&&!F.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),Ql(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=N.make("div");this.selectedBlocks.forEach(i=>{const s=yn(i.holder.innerHTML,this.sanitizerConfig),a=N.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),F.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){ii.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),N.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),F.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Zl extends X{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const n=F.get(),r=N.getDeepestNode(e.currentInput);let o=n.focusNode;if(N.isNativeInput(r))return r.selectionEnd===0;if(!n.anchorNode)return!1;let i=o.textContent.search(/\S/);i===-1&&(i=0);let s=n.focusOffset;return o.nodeType!==Node.TEXT_NODE&&o.childNodes.length&&(o.childNodes[s]?(o=o.childNodes[s],s=0):(o=o.childNodes[s-1],s=o.textContent.length)),(N.isLineBreakTag(r)||N.isEmpty(r))&&this.getHigherLevelSiblings(o,"left").every(a=>{const l=N.isLineBreakTag(a),c=a.children.length===1&&N.isLineBreakTag(a.children[0]),d=l||c;return N.isEmpty(a)&&!d})&&s===i?!0:r===null||o===r&&s<=i}get isAtEnd(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const n=F.get();let r=n.focusNode;const o=N.getDeepestNode(e.currentInput,!0);if(N.isNativeInput(o))return o.selectionEnd===o.value.length;if(!n.focusNode)return!1;let i=n.focusOffset;if(r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[i-1]?(r=r.childNodes[i-1],i=r.textContent.length):(r=r.childNodes[0],i=0)),N.isLineBreakTag(o)||N.isEmpty(o)){const a=this.getHigherLevelSiblings(r,"right");if(a.every((l,c)=>c===a.length-1&&N.isLineBreakTag(l)||N.isEmpty(l)&&!N.isLineBreakTag(l))&&i===r.textContent.length)return!0}const s=o.textContent.replace(/\s+$/,"");return r===o&&i>=s.length}setToBlock(e,n=this.positions.DEFAULT,r=0){var o;const{BlockManager:i,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(o=window.getSelection())==null||o.removeAllRanges(),s.selectBlock(e),i.currentBlock=e;return}let a;switch(n){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const l=N.getDeepestNode(a,n===this.positions.END),c=N.getContentLength(l);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>c:r=c;break}this.set(l,r),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=a}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=N.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,N.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=F.setCursor(e,n),{innerHeight:i}=window;r<0?window.scrollBy(0,r-30):o>i&&window.scrollBy(0,o-i+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=F.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(N.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:o}=n,{nextInput:i}=r,s=this.isAtEnd;let a=o;const l=e||s;if(i&&l)return this.setToInput(i,this.positions.START),!0;if(a===null){if(r.tool.isDefault||!l)return!1;a=n.insertAtEnd()}return l?(this.setToBlock(a,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:o}=n,i=e||this.isAtStart;return o&&i?(this.setToInput(o,this.positions.END),!0):r!==null&&i?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Zl.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Zl.CSS.shadowCaret}`);if(!n)return;new F().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=F.get(),i=F.range;r.innerHTML=e,Array.from(r.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),o.removeAllRanges(),o.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const i=n==="left"?"previousSibling":"nextSibling";for(;r[i];)r=r[i],o.push(r);return o}}class pj extends X{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){F.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==GO.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),F.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case z.DOWN:case z.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case z.UP:case z.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;F.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class mj extends X{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),F.isAtEditor&&!F.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){F.isAtEditor&&!F.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class gj extends X{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(uk,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(dk,()=>{this.disable()}),this.eventsDispatcher.on(hk,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!ue(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Ph,{mutations:e})}}const kk=class extends X{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!ue(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){te(`Paste handling for «${t.name}» Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor,r=e.setCurrentBlockByChildNode(t.target);!r||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,r=t.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!At(this.toolsFiles)){await this.processFiles(t.files);return}const o=t.getData(this.MIME_TYPE),i=t.getData("text/plain");let s=t.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}e&&i.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:i)+"</p>");const a=Object.keys(this.toolsTags).reduce((d,u)=>(d[u.toLowerCase()]=this.toolsTags[u].sanitizationConfig??{},d),{}),l=Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=yn(s,l);!c.trim()||c.trim()===i||!N.isHTMLString(c)?await this.processText(i):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:r}=this.Editor,o=e?this.processHTML(t):this.processPlain(t);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const i=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;o.map(async(s,a)=>this.insertBlock(s,a===0&&i)),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return wr(t)?[t]:De(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(r=>{const o=this.collectTagNames(r);n.push(...o),o.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){te(`Paste handler for «${t.name}» Tool on «${i}» tag is skipped because it is already used by «${this.toolsTags[i].tool.name}» Tool.`,"warn");return}const s=De(r)?r[i]:null;this.toolsTags[i.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(r=>r.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:r}=e;!n&&!r||(n&&!Array.isArray(n)&&(te(`«extensions» property of the onDrop config for «${t.name}» Tool should be an array`),n=[]),r&&!Array.isArray(r)&&(te(`«mimeTypes» property of the onDrop config for «${t.name}» Tool should be an array`),r=[]),r&&(r=r.filter(o=>ZO(o)?!0:(te(`MIME type value «${o}» for the «${t.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||At(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||te(`Pattern ${n} for «${t.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return N.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(o=>this.processFile(o))),n=n.filter(o=>!!o);const r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((o,i)=>{e.paste(o.type,o.event,i===0&&r)})}async processFile(t){const e=QO(t),n=Object.entries(this.toolsFiles).find(([o,{mimeTypes:i,extensions:s}])=>{const[a,l]=t.type.split("/"),c=s.find(u=>u.toLowerCase()===e.toLowerCase()),d=i.find(u=>{const[f,y]=u.split("/");return f===a&&(y===l||y==="*")});return!!c||!!d});if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:t}),type:r}}processHTML(t){const{Tools:e}=this.Editor,n=N.make("DIV");return n.innerHTML=t,this.getNodes(n).map(r=>{let o,i=e.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=N.make("div"),o.appendChild(r);break;case Node.ELEMENT_NODE:o=r,s=!0,this.toolsTags[o.tagName]&&(i=this.toolsTags[o.tagName].tool);break}const{tags:a}=i.pasteConfig||{tags:[]},l=a.reduce((u,f)=>(this.collectTagNames(f).forEach(y=>{const p=De(f)?f[y]:null;u[y.toLowerCase()]=p||{}}),u),{}),c=Object.assign({},l,i.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const u=yn(o.outerHTML,c);o=N.make("div",void 0,{innerHTML:u}).firstChild}else o.innerHTML=yn(o.innerHTML,c);const d=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:s,tool:i.name,event:d}}).filter(r=>{const o=N.isEmpty(r.content),i=N.isSingleTag(r.content);return!o||i})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const o=N.make("div");o.textContent=r;const i=this.composePasteEvent("tag",{data:o});return{content:o,tool:n,isBlock:!1,event:i}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:r}=n;if(!r||t.tool!==r.name||!N.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:r}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&r.textContent.length<kk.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(r.textContent);if(o){const i=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(o.tool,o.event,i);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const o=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,yn(r.innerHTML,o))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const r=n.pattern.exec(t);return r?t===r.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o}=n;let i;if(e&&o&&o.isEmpty){i=n.paste(t.tool,t.event,!0),r.setToBlock(i,r.positions.END);return}i=n.paste(t.tool,t.event),r.setToBlock(i,r.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:r}=this.Editor;fk(t,o=>r.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:i},s)=>{let a=!1;s===0&&(a=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:o,data:i,replace:a});n.setToBlock(l,n.positions.END)})}processElementNode(t,e,n){const r=Object.keys(this.toolsTags),o=t,{tool:i}=this.toolsTags[o.tagName]||{},s=this.tagsByTool[i==null?void 0:i.name]||[],a=r.includes(o.tagName),l=N.blockElements.includes(o.tagName.toLowerCase()),c=Array.from(o.children).some(({tagName:u})=>r.includes(u)&&!s.includes(u)),d=Array.from(o.children).some(({tagName:u})=>N.blockElements.includes(u.toLowerCase()));if(!l&&!a&&!c)return n.appendChild(o),[...e,n];if(a&&!c||l&&!d&&!c)return[...e,n,o]}getNodes(t){const e=Array.from(t.childNodes);let n;const r=(o,i)=>{if(N.isEmpty(i)&&!N.isSingleTag(i))return o;const s=o[o.length-1];let a=new DocumentFragment;switch(s&&N.isFragment(s)&&(a=o.pop()),i.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(i,o,a),n)return n;break;case Node.TEXT_NODE:return a.appendChild(i),[...o,a];default:return[...o,a]}return[...o,...Array.from(i.childNodes).reduce(r,[])]};return e.reduce(r,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let Ek=kk;Ek.PATTERN_PROCESSING_MAX_LENGTH=450;class yj extends X{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new ck(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class ss extends X{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${gn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Ah(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Ah(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(N.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=N.make("div",ss.CSS.overlay,{}),o=N.make("div",ss.CSS.overlayContainer,{}),i=N.make("div",ss.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),F.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(d=>d.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+gn.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?o:i);const c=e>this.stackOfSelected[r-1]&&l===o,d=e<this.stackOfSelected[r-1]&&l===i,u=!(c||d||l===s);if(!u&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let p=this.stackOfSelected[r-1]+1||e;for(p;p<=e;p++)this.addBlockInSelection(p);return}if(!u&&e<this.stackOfSelected[r-1]){for(let p=this.stackOfSelected[r-1]-1;p>=e;p--)this.addBlockInSelection(p);return}if(!u)return;let f=r-1,y;for(e>this.stackOfSelected[r-1]?y=()=>e>this.stackOfSelected[f]:y=()=>e<this.stackOfSelected[f];y();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[f]),this.stackOfSelected.pop(),f--}}class vj extends X{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:o}=this.Editor;if(e.length===0)o.insert();else{const i=e.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(Bt(`Tool «${s}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let d;try{d=o.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(u){te(`Block «${s}» skipped because of plugins error`,"error",{data:a,error:u}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,d=o.composeBlock({id:c,tool:s,data:a,tunes:l})}return d});o.insertMany(i)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:o}=this.Editor;let i=e;if(o.unavailable.has(e)){const s=o.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:r,type:e,data:n},title:i}}}class bj extends X{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const i=await Promise.all(o),s=await fk(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){Bt("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:o,data:i,tunes:s,isValid:a})=>{if(!a){te(`Block «${o}» skipped because saved data is invalid`);return}if(o===this.Editor.Tools.stubTool){n.push(i);return}const l={id:r,type:o,data:i,...!At(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.29.0"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const wj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class qp{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:qp.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=n.preserveBlank!==void 0?n.preserveBlank:!1,this.data=e}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete")return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){const n={text:this.data.text+e.text};this.data=n}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this.data=n}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}get data(){if(this._element!==null){const e=this._element.innerHTML;this._data.text=e}return this._data}set data(e){this._data=e||{},this._element!==null&&this.hydrate()}hydrate(){window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:wj,title:"Text"}}}class Kp{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=HM,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}Kp.isInline=!0;Kp.title="Bold";class Gp{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=qM,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Gp.isInline=!0;Gp.title="Italic";class Yp{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new F}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=vv,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=XM,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=vv,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new F;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),te("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Yp.isInline=!0;Yp.title="Link";class Sk{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=N.make("div",this.CSS.wrapper),n=JM,r=N.make("div",this.CSS.info),o=N.make("div",this.CSS.title,{textContent:this.title}),i=N.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}}Sk.isReadOnlySupported=!0;class xj extends Wp{constructor(){super(...arguments),this.type=Hc.Inline}get title(){return this.constructable[zp.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class kj extends Wp{constructor(){super(...arguments),this.type=Hc.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}let zt=class bo extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new bo(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new bo(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new bo(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new bo(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new bo(e)}};var Ej=Object.defineProperty,Sj=Object.getOwnPropertyDescriptor,_k=(t,e,n,r)=>{for(var o=r>1?void 0:r?Sj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&Ej(e,n,o),o};class Xp extends Wp{constructor(){super(...arguments),this.type=Hc.Block,this.inlineTools=new zt,this.tunes=new zt}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[vo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[vo.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[vo.Toolbox],n=this.config[il.Toolbox];if(!At(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[vo.ConversionConfig]}get enabledInlineTools(){return this.config[il.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[il.EnabledBlockTunes]}get pasteConfig(){return this.constructable[vo.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(At(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];De(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}_k([yi],Xp.prototype,"sanitizeConfig",1);_k([yi],Xp.prototype,"baseSanitizeConfig",1);class _j{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n);return new i({name:e,constructable:n,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[zp.IsInline]:return xj;case e[xk.IsTune]:return kj;default:return Xp}}}class Ck{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:mk,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Ck.isTune=!0;class Tk{constructor({api:e}){this.api=e}render(){return{icon:zM,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Tk.isTune=!0;class Ak{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:$M,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Ak.isTune=!0;var Cj=Object.defineProperty,Tj=Object.getOwnPropertyDescriptor,Aj=(t,e,n,r)=>{for(var o=r>1?void 0:r?Tj(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&Cj(e,n,o),o};class Nk extends X{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new zt,this.toolsUnavailable=new zt}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Nh({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new _j(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await JO(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{ue(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:Kp,isInternal:!0},italic:{class:Gp,isInternal:!0},link:{class:Yp,isInternal:!0},paragraph:{class:qp,inlineToolbar:!0,isInternal:!0},stub:{class:Sk,isInternal:!0},moveUp:{class:Ak,isInternal:!0},delete:{class:Tk,isInternal:!0},moveDown:{class:Ck,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(o=>!n.create()[o]);if(r.length){te(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:ue(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new zt(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new zt(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new zt(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new zt([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new zt(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new zt([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!ue(n)&&!ue(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)De(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}Aj([yi],Nk.prototype,"getAllInlineToolsSanitizeConfig",1);const Nj=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class Ij extends X{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=mv(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${gn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return n.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Pn).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;n.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<ak}make(){this.nodes.holder=N.getHolder(this.config.holder),this.nodes.wrapper=N.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=N.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(N.get(e))return;const n=N.make("style",null,{id:e,textContent:Nj.toString()});this.config.style&&!At(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),N.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",n=>{this.redactorClicked(n)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",n=>{this.documentTouched(n)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",n=>{this.documentKeydown(n)},!0),this.readOnlyMutableListeners.on(document,"mousedown",n=>{this.documentClicked(n)},!0);const e=mv(()=>{this.selectionChanged()},180);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Ah(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(bk,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case z.ENTER:this.enterPressed(e);break;case z.BACKSPACE:case z.DELETE:this.backspacePressed(e);break;case z.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!F.isSelectionExists){const i=n.removeSelectedBlocks(),s=n.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!F.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,r;if(!e.isTrusted)return;const o=e.target;this.nodes.holder.contains(o)||F.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const i=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(o),s=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(o),a=i||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const l=this.Editor.BlockManager.getBlockByChildNode(o);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!F.isCollapsed)return;const n=e.target,r=e.metaKey||e.ctrlKey;if(N.isAnchor(n)&&r){e.stopImmediatePropagation(),e.stopPropagation();const o=n.getAttribute("href"),i=tM(o);rM(i);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=N.offset(n.holder).bottom,o=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&r<o){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:a,Toolbar:l}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=F.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&F.get().removeAllRanges(),!r){F.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${gn.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const i=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,i)}}const Pj={BlocksAPI:fM,CaretAPI:pM,EventsAPI:mM,I18nAPI:Fp,API:gM,InlineToolbarAPI:yM,ListenersAPI:vM,NotifierAPI:kM,ReadOnlyAPI:EM,SanitizerAPI:IM,SaverAPI:PM,SelectionAPI:RM,StylesAPI:LM,ToolbarAPI:BM,TooltipAPI:FM,UiAPI:UM,BlockSettings:tj,ConversionToolbar:lt,Toolbar:aj,InlineToolbar:lj,BlockEvents:cj,BlockManager:hj,BlockSelection:fj,Caret:Zl,CrossBlockSelection:pj,DragNDrop:mj,ModificationsObserver:gj,Paste:Ek,ReadOnly:yj,RectangleSelection:ss,Renderer:vj,Saver:bj,Tools:Nk,UI:Ij};class Rj{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Vc;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:o,Caret:i,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&i.setToBlock(o.blocks[0],i.positions.START),n()}).catch(o=>{te(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;De(e)?this.config={...e}:this.config={holder:e},Ih(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=ok.VERBOSE),YO(this.config.logLevel),Ih(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(At(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&rt.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(wr(n)&&!N.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&De(n)&&!N.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof ck)throw new Error(r.message);te(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(Pj).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){te("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Ev{static get version(){return"2.29.0"}constructor(e){let n=()=>{};De(e)&&ue(e.onReady)&&(n=e.onReady);const r=new Rj(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{ue(o.destroy)&&o.destroy(),o.listeners.removeAll()}),DM(),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}.ce-header[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;display:none;cursor:text}.ce-header[contentEditable=true][data-placeholder]:empty:before{display:block}.ce-header[contentEditable=true][data-placeholder]:empty:focus:before{display:none}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Lj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',Bj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',Oj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',Mj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',jj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',Dj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',Fj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let Uj=class{constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}normalizeData(e){const n={};return typeof e!="object"&&(e={}),n.text=e.text||"",n.level=parseInt(e.level)||this.defaultLevel.number,n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const n={text:this.data.text+e.text,level:this.data.level};this.data=n}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:Lj},{number:2,tag:"H2",svg:Bj},{number:3,tag:"H3",svg:Oj},{number:4,tag:"H4",svg:Mj},{number:5,tag:"H5",svg:jj},{number:6,tag:"H6",svg:Dj}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail.data;let r=this.defaultLevel.number;switch(n.tagName){case"H1":r=1;break;case"H2":r=2;break;case"H3":r=3;break;case"H4":r=4;break;case"H5":r=5;break;case"H6":r=6;break}this._settings.levels&&(r=this._settings.levels.reduce((o,i)=>Math.abs(i-r)<Math.abs(o-r)?i:o)),this.data={level:r,text:n.innerHTML}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:Fj,title:"Heading"}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Vj={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return e=e.slice(1).split("&").map(r=>{const[o,i]=r.split("=");return!t&&o==="v"?(t=i,null):!n[o]||i==="LL"||i.startsWith("RDMM")||i.startsWith("FL")?null:`${n[o]}=${i}`}).filter(r=>!!r),t+"?"+e.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t.join("/status/")},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function jh(t,e,n){var r,o,i,s,a;e==null&&(e=100);function l(){var d=Date.now()-s;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,n||(a=t.apply(i,o),i=o=null))}var c=function(){i=this,o=arguments,s=Date.now();var d=n&&!r;return r||(r=setTimeout(l,e)),d&&(a=t.apply(i,o),i=o=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}jh.debounce=jh;var Hj=jh;class Wn{constructor({data:e,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:n,source:r,embed:o,width:i,height:s,caption:a=""}=e;this._data={service:n||this.data.service,source:r||this.data.source,embed:o||this.data.embed,width:i||this.data.width,height:s||this.data.height,caption:a||this.data.caption||""};const l=this.element;l&&l.parentNode.replaceChild(this.render(),l)}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const a=document.createElement("div");return this.element=a,a}const{html:e}=Wn.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("template"),i=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(i),r.contentEditable=!this.readOnly,r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",o.innerHTML=e,o.content.firstChild.setAttribute("src",this.data.embed),o.content.firstChild.classList.add(this.CSS.content);const s=this.embedIsReady(n);return n.appendChild(o.content.firstChild),n.appendChild(r),s.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const e=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,e.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),e.appendChild(n),e}save(){return this.data}onPaste(e){const{key:n,data:r}=e.detail,{regex:o,embedUrl:i,width:s,height:a,id:l=u=>u.shift()}=Wn.services[n],c=o.exec(r).slice(1),d=i.replace(/<%= remote_id %>/g,l(c));this.data={service:n,source:r,embed:d,width:s,height:a}}static prepare({config:e={}}){const{services:n={}}=e;let r=Object.entries(Vj);const o=Object.entries(n).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),i=Object.entries(n).filter(([s,a])=>typeof a=="object").filter(([s,a])=>Wn.checkServiceConfig(a)).map(([s,a])=>{const{regex:l,embedUrl:c,html:d,height:u,width:f,id:y}=a;return[s,{regex:l,embedUrl:c,html:d,height:u,width:f,id:y}]});o.length&&(r=r.filter(([s])=>o.includes(s))),r=r.concat(i),Wn.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),Wn.patterns=r.reduce((s,[a,l])=>(s[a]=l.regex,s),{})}static checkServiceConfig(e){const{regex:n,embedUrl:r,html:o,height:i,width:s,id:a}=e;let l=n&&n instanceof RegExp&&r&&typeof r=="string"&&o&&typeof o=="string";return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(i!==void 0?Number.isFinite(i):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:Wn.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let n=null;return new Promise((r,o)=>{n=new MutationObserver(Hj.debounce(r,450)),n.observe(e,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const $j='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',zj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',Ik='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',Wj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function fo(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e&&r.classList.add(e);for(const o in n)r[o]=n[o];return r}let qj=class Ht{constructor({api:e,config:n,onSelectFile:r,readOnly:o}){this.api=e,this.config=n,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:fo("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:fo("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:fo("div",this.CSS.imagePreloader),caption:fo("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}static get status(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}render(e){return!e.file||Object.keys(e.file).length===0?this.toggleStatus(Ht.status.EMPTY):this.toggleStatus(Ht.status.UPLOADING),this.nodes.wrapper}createFileButton(){const e=fo("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent||`${Ik} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus(Ht.status.UPLOADING)}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(Ht.status.EMPTY)}fillImage(e){const n=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e};let o="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,o="loadeddata"),this.nodes.imageEl=fo(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(o,()=>{this.toggleStatus(Ht.status.FILLED),this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption&&(this.nodes.caption.innerHTML=e)}toggleStatus(e){for(const n in Ht.status)Object.prototype.hasOwnProperty.call(Ht.status,n)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${Ht.status[n]}`,e===Ht.status[n])}applyTune(e,n){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,n)}};function Kj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=3)}([function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){(function(i){var s=o(2),a=setTimeout;function l(){}function c(w){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof w!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(w,this)}function d(w,v){for(;w._state===3;)w=w._value;w._state!==0?(w._handled=!0,c._immediateFn(function(){var m=w._state===1?v.onFulfilled:v.onRejected;if(m!==null){var b;try{b=m(w._value)}catch(x){return void f(v.promise,x)}u(v.promise,b)}else(w._state===1?u:f)(v.promise,w._value)})):w._deferreds.push(v)}function u(w,v){try{if(v===w)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var m=v.then;if(v instanceof c)return w._state=3,w._value=v,void y(w);if(typeof m=="function")return void g((b=m,x=v,function(){b.apply(x,arguments)}),w)}w._state=1,w._value=v,y(w)}catch(E){f(w,E)}var b,x}function f(w,v){w._state=2,w._value=v,y(w)}function y(w){w._state===2&&w._deferreds.length===0&&c._immediateFn(function(){w._handled||c._unhandledRejectionFn(w._value)});for(var v=0,m=w._deferreds.length;v<m;v++)d(w,w._deferreds[v]);w._deferreds=null}function p(w,v,m){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof v=="function"?v:null,this.promise=m}function g(w,v){var m=!1;try{w(function(b){m||(m=!0,u(v,b))},function(b){m||(m=!0,f(v,b))})}catch(b){if(m)return;m=!0,f(v,b)}}c.prototype.catch=function(w){return this.then(null,w)},c.prototype.then=function(w,v){var m=new this.constructor(l);return d(this,new p(w,v,m)),m},c.prototype.finally=s.a,c.all=function(w){return new c(function(v,m){if(!w||w.length===void 0)throw new TypeError("Promise.all accepts an array");var b=Array.prototype.slice.call(w);if(b.length===0)return v([]);var x=b.length;function E(A,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var _=S.then;if(typeof _=="function")return void _.call(S,function(T){E(A,T)},m)}b[A]=S,--x==0&&v(b)}catch(T){m(T)}}for(var C=0;C<b.length;C++)E(C,b[C])})},c.resolve=function(w){return w&&typeof w=="object"&&w.constructor===c?w:new c(function(v){v(w)})},c.reject=function(w){return new c(function(v,m){m(w)})},c.race=function(w){return new c(function(v,m){for(var b=0,x=w.length;b<x;b++)w[b].then(v,m)})},c._immediateFn=typeof i=="function"&&function(w){i(w)}||function(w){a(w,0)},c._unhandledRejectionFn=function(w){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",w)},r.a=c}).call(this,o(5).setImmediate)},function(n,r,o){r.a=function(i){var s=this.constructor;return this.then(function(a){return s.resolve(i()).then(function(){return a})},function(a){return s.resolve(i()).then(function(){return s.reject(a)})})}},function(n,r,o){function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(g)}o(4);var s,a,l,c,d,u,f,y=o(8),p=(a=function(g){return new Promise(function(w,v){g=c(g),(g=d(g)).beforeSend&&g.beforeSend();var m=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");m.open(g.method,g.url),m.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(g.headers).forEach(function(x){var E=g.headers[x];m.setRequestHeader(x,E)});var b=g.ratio;m.upload.addEventListener("progress",function(x){var E=Math.round(x.loaded/x.total*100),C=Math.ceil(E*b/100);g.progress(Math.min(C,100))},!1),m.addEventListener("progress",function(x){var E=Math.round(x.loaded/x.total*100),C=Math.ceil(E*(100-b)/100)+b;g.progress(Math.min(C,100))},!1),m.onreadystatechange=function(){if(m.readyState===4){var x=m.response;try{x=JSON.parse(x)}catch{}var E=y.parseHeaders(m.getAllResponseHeaders()),C={body:x,code:m.status,headers:E};f(m.status)?w(C):v(C)}},m.send(g.data)})},l=function(g){return g.method="POST",a(g)},c=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g.url&&typeof g.url!="string")throw new Error("Url must be a string");if(g.url=g.url||"",g.method&&typeof g.method!="string")throw new Error("`method` must be a string or null");if(g.method=g.method?g.method.toUpperCase():"GET",g.headers&&i(g.headers)!=="object")throw new Error("`headers` must be an object or null");if(g.headers=g.headers||{},g.type&&(typeof g.type!="string"||!Object.values(s).includes(g.type)))throw new Error("`type` must be taken from module's «contentType» library");if(g.progress&&typeof g.progress!="function")throw new Error("`progress` must be a function or null");if(g.progress=g.progress||function(w){},g.beforeSend=g.beforeSend||function(w){},g.ratio&&typeof g.ratio!="number")throw new Error("`ratio` must be a number");if(g.ratio<0||g.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(g.ratio=g.ratio||90,g.accept&&typeof g.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(g.accept=g.accept||"*/*",g.multiple&&typeof g.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(g.multiple=g.multiple||!1,g.fieldName&&typeof g.fieldName!="string")throw new Error("`fieldName` must be a string");return g.fieldName=g.fieldName||"files",g},d=function(g){switch(g.method){case"GET":var w=u(g.data,s.URLENCODED);delete g.data,g.url=/\?/.test(g.url)?g.url+"&"+w:g.url+"?"+w;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var v=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(g);(y.isFormData(g.data)||y.isFormElement(g.data))&&(v=s.FORM),g.data=u(g.data,v),v!==p.contentType.FORM&&(g.headers["content-type"]=v)}return g},u=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return y.urlEncode(g);case s.JSON:return y.jsonEncode(g);case s.FORM:return y.formEncode(g);default:return g}},f=function(g){return g>=200&&g<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(g){return g.method="GET",a(g)},post:l,transport:function(g){return g=c(g),y.selectFiles(g).then(function(w){for(var v=new FormData,m=0;m<w.length;m++)v.append(g.fieldName,w[m],w[m].name);y.isObject(g.data)&&Object.keys(g.data).forEach(function(x){var E=g.data[x];v.append(x,E)});var b=g.beforeSend;return g.beforeSend=function(){return b(w)},g.data=v,l(g)})},selectFiles:function(g){return delete(g=c(g)).beforeSend,y.selectFiles(g)}});n.exports=p},function(n,r,o){o.r(r);var i=o(1);window.Promise=window.Promise||i.a},function(n,r,o){(function(i){var s=i!==void 0&&i||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,d){this._id=c,this._clearFn=d}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},o(6),r.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(n,r,o){(function(i,s){(function(a,l){if(!a.setImmediate){var c,d,u,f,y,p=1,g={},w=!1,v=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,{}.toString.call(a.process)==="[object process]"?c=function(E){s.nextTick(function(){x(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,C=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=C,E}}()?(f="setImmediate$"+Math.random()+"$",y=function(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(f)===0&&x(+E.data.slice(f.length))},a.addEventListener?a.addEventListener("message",y,!1):a.attachEvent("onmessage",y),c=function(E){a.postMessage(f+E,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(E){x(E.data)},c=function(E){u.port2.postMessage(E)}):v&&"onreadystatechange"in v.createElement("script")?(d=v.documentElement,c=function(E){var C=v.createElement("script");C.onreadystatechange=function(){x(E),C.onreadystatechange=null,d.removeChild(C),C=null},d.appendChild(C)}):c=function(E){setTimeout(x,0,E)},m.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var C=new Array(arguments.length-1),A=0;A<C.length;A++)C[A]=arguments[A+1];var S={callback:E,args:C};return g[p]=S,c(p),p++},m.clearImmediate=b}function b(E){delete g[E]}function x(E){if(w)setTimeout(x,0,E);else{var C=g[E];if(C){w=!0;try{(function(A){var S=A.callback,_=A.args;switch(_.length){case 0:S();break;case 1:S(_[0]);break;case 2:S(_[0],_[1]);break;case 3:S(_[0],_[1],_[2]);break;default:S.apply(l,_)}})(C)}finally{b(E),w=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,o(0),o(7))},function(n,r){var o,i,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(m){if(o===setTimeout)return setTimeout(m,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(m,0);try{return o(m,0)}catch{try{return o.call(null,m,0)}catch{return o.call(this,m,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{i=typeof clearTimeout=="function"?clearTimeout:l}catch{i=l}})();var d,u=[],f=!1,y=-1;function p(){f&&d&&(f=!1,d.length?u=d.concat(u):y=-1,u.length&&g())}function g(){if(!f){var m=c(p);f=!0;for(var b=u.length;b;){for(d=u,u=[];++y<b;)d&&d[y].run();y=-1,b=u.length}d=null,f=!1,function(x){if(i===clearTimeout)return clearTimeout(x);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(x);try{i(x)}catch{try{return i.call(null,x)}catch{return i.call(this,x)}}}(m)}}function w(m,b){this.fun=m,this.array=b}function v(){}s.nextTick=function(m){var b=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)b[x-1]=arguments[x];u.push(new w(m,b)),u.length!==1||f||c(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(m){return[]},s.binding=function(m){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(m){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,o){function i(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var s=o(9);n.exports=function(){function a(){(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,d;return l=a,d=[{key:"urlEncode",value:function(u){return s(u)}},{key:"jsonEncode",value:function(u){return JSON.stringify(u)}},{key:"formEncode",value:function(u){if(this.isFormData(u))return u;if(this.isFormElement(u))return new FormData(u);if(this.isObject(u)){var f=new FormData;return Object.keys(u).forEach(function(y){var p=u[y];f.append(y,p)}),f}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(u){return Object.prototype.toString.call(u)==="[object Object]"}},{key:"isFormData",value:function(u){return u instanceof FormData}},{key:"isFormElement",value:function(u){return u instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(f,y){var p=document.createElement("INPUT");p.type="file",u.multiple&&p.setAttribute("multiple","multiple"),u.accept&&p.setAttribute("accept",u.accept),p.style.display="none",document.body.appendChild(p),p.addEventListener("change",function(g){var w=g.target.files;f(w),document.body.removeChild(p)},!1),p.click()})}},{key:"parseHeaders",value:function(u){var f=u.trim().split(/[\r\n]+/),y={};return f.forEach(function(p){var g=p.split(": "),w=g.shift(),v=g.join(": ");w&&(y[w]=v)}),y}}],(c=null)&&i(l.prototype,c),d&&i(l,d),a}()},function(n,r){var o=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(d){for(var u=new Array,f=0;f<d.length;f++)d[f]&&u.push(d[f]);return u}(Object.keys(s).map(function(d){var u,f,y=d;if(c&&(y=c+"["+y+"]"),typeof s[d]=="object"&&s[d]!==null)u=i(s[d],null,l,y);else{a&&(f=y,y=!isNaN(parseFloat(f))&&isFinite(f)?a+Number(y):y);var p=s[d];p=(p=(p=(p=p===!0?"1":p)===!1?"0":p)===0?"0":p)||"",u=o(y)+"="+o(p)}return u})).join(l).replace(/[!'()*]/g,""):""};n.exports=i}])})})(Pk);var Gj=Pk.exports;const po=Kj(Gj);function Yu(t){return t&&typeof t.then=="function"}class Yj{constructor({config:e,onUpload:n,onError:r}){this.config=e,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:e}){const n=function(o){const i=new FileReader;i.readAsDataURL(o),i.onload=s=>{e(s.target.result)}};let r;this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?r=po.selectFiles({accept:this.config.types}).then(o=>{n(o[0]);const i=this.config.uploader.uploadByFile(o[0]);return Yu(i)||console.warn("Custom uploader method uploadByFile should return a Promise"),i}):r=po.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:o=>{n(o[0])},fieldName:this.config.field}).then(o=>o.body),r.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}uploadByUrl(e){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(e),Yu(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=po.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:po.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(e,{onPreview:n}){const r=new FileReader;r.readAsDataURL(e),r.onload=i=>{n(i.target.result)};let o;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")o=this.config.uploader.uploadByFile(e),Yu(o)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const i=new FormData;i.append(this.config.field,e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([s,a])=>{i.append(s,a)}),o=po.post({url:this.config.endpoints.byFile,data:i,type:po.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(s=>s.body)}o.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */class ec{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Ik,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:zj,title:"With border",toggle:!0},{name:"stretched",icon:Wj,title:"Stretch image",toggle:!0},{name:"withBackground",icon:$j,title:"With background",toggle:!0}]}constructor({data:e,config:n,api:r,readOnly:o,block:i}){this.api=r,this.readOnly=o,this.block=i,this.config={endpoints:n.endpoints||"",additionalRequestData:n.additionalRequestData||{},additionalRequestHeaders:n.additionalRequestHeaders||{},field:n.field||"image",types:n.types||"image/*",captionPlaceholder:this.api.i18n.t(n.captionPlaceholder||"Caption"),buttonContent:n.buttonContent||"",uploader:n.uploader||void 0,actions:n.actions||[]},this.uploader=new Yj({config:this.config,onUpload:s=>this.onUpload(s),onError:s=>this.uploadingFailed(s)}),this.ui=new qj({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:s=>{this.ui.showPreloader(s)}})},readOnly:o}),this._data={},this.data=e}render(){return this.ui.render(this.data)}validate(e){return e.file&&e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return ec.tunes.concat(this.config.actions).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const n=e.detail.data;if(/^blob:/.test(n.src)){const r=await(await fetch(n.src)).blob();this.uploadFile(r);break}this.uploadUrl(n.src);break}case"pattern":{const n=e.detail.data;this.uploadUrl(n);break}case"file":{const n=e.detail.file;this.uploadFile(n);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),ec.tunes.forEach(({name:n})=>{const r=typeof e[n]<"u"?e[n]===!0||e[n]==="true":!1;this.setTune(n,r)})}get data(){return this._data}set image(e){this._data.file=e||{},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,n){this._data[e]=n,this.ui.applyTune(e,n),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Sv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',Xj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';class Jj{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:Sv,title:"List"}}constructor({data:e,config:n,api:r,readOnly:o}){this._elements={wrapper:null},this.api=r,this.readOnly=o,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:Sv,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:Xj,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(i=>i.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const n=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(e){const n=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<e.length;n++)e[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[n].innerHTML);return this._data}_make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],o=this.currentItem;o===r&&!r.textContent.trim().length&&(o.parentElement.removeChild(o),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,o=r.closest("."+this.CSS.item),i=new Range;i.selectNodeContents(o),n.removeAllRanges(),n.addRange(i)}pasteHandler(e){const{tagName:n}=e;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const o={style:r,items:[]};if(n==="LI")o.items=[e.innerHTML];else{const i=Array.from(e.querySelectorAll("LI"));o.items=i.map(s=>s.innerHTML).filter(s=>!!s.trim())}return o}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(`.link-tool{position:relative}.link-tool__input{padding-left:38px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.link-tool__input-holder{position:relative}.link-tool__input-holder--error .link-tool__input{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");background-color:#fff3f6;border-color:#f3e0e0;color:#a95a5a;box-shadow:inset 0 1px 3px #923e3e0d}.link-tool__input[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.link-tool__input[contentEditable=true][data-placeholder]:empty:before{opacity:1}.link-tool__input[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.link-tool__progress{position:absolute;box-shadow:inset 0 1px 3px #66556b0a;height:100%;width:0;background-color:#f4f5f7;z-index:-1}.link-tool__progress--loading{-webkit-animation:progress .5s ease-in;-webkit-animation-fill-mode:forwards}.link-tool__progress--loaded{width:100%}.link-tool__content{display:block;padding:25px;border-radius:2px;box-shadow:0 0 0 2px #fff;color:initial!important;text-decoration:none!important}.link-tool__content:after{content:"";clear:both;display:table}.link-tool__content--rendered{background:#fff;border:1px solid rgba(201,201,204,.48);box-shadow:0 1px 3px #0000001a;border-radius:6px;will-change:filter;animation:link-in .45s 1 cubic-bezier(.215,.61,.355,1)}.link-tool__content--rendered:hover{box-shadow:0 0 3px #00000029}.link-tool__image{background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0 0 0 30px;width:65px;height:65px;border-radius:3px;float:right}.link-tool__title{font-size:17px;font-weight:600;line-height:1.5em;margin:0 0 10px}.link-tool__title+.link-tool__anchor{margin-top:25px}.link-tool__description{margin:0 0 20px;font-size:15px;line-height:1.55em;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.link-tool__anchor{display:block;font-size:15px;line-height:1em;color:#888!important;border:0!important;padding:0!important}@keyframes link-in{0%{filter:blur(5px)}to{filter:none}}.codex-editor--narrow .link-tool__image{display:none}@-webkit-keyframes progress{0%{width:0}to{width:85%}}`)),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(t){var e=function(){try{return!!Symbol.iterator}catch{return!1}},n=e(),r=function(c){var d={next:function(){var u=c.shift();return{done:u===void 0,value:u}}};return n&&(d[Symbol.iterator]=function(){return d}),d},o=function(c){return encodeURIComponent(c).replace(/%20/g,"+")},i=function(c){return decodeURIComponent(String(c).replace(/\+/g," "))},s=function(){var c=function(u){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var f=typeof u;if(f!=="undefined")if(f==="string")u!==""&&this._fromString(u);else if(u instanceof c){var y=this;u.forEach(function(v,m){y.append(m,v)})}else if(u!==null&&f==="object")if(Object.prototype.toString.call(u)==="[object Array]")for(var p=0;p<u.length;p++){var g=u[p];if(Object.prototype.toString.call(g)==="[object Array]"||g.length!==2)this.append(g[0],g[1]);else throw new TypeError("Expected [string, any] as entry at index "+p+" of URLSearchParams's input")}else for(var w in u)u.hasOwnProperty(w)&&this.append(w,u[w]);else throw new TypeError("Unsupported input's type for URLSearchParams")},d=c.prototype;d.append=function(u,f){u in this._entries?this._entries[u].push(String(f)):this._entries[u]=[String(f)]},d.delete=function(u){delete this._entries[u]},d.get=function(u){return u in this._entries?this._entries[u][0]:null},d.getAll=function(u){return u in this._entries?this._entries[u].slice(0):[]},d.has=function(u){return u in this._entries},d.set=function(u,f){this._entries[u]=[String(f)]},d.forEach=function(u,f){var y;for(var p in this._entries)if(this._entries.hasOwnProperty(p)){y=this._entries[p];for(var g=0;g<y.length;g++)u.call(f,y[g],p,this)}},d.keys=function(){var u=[];return this.forEach(function(f,y){u.push(y)}),r(u)},d.values=function(){var u=[];return this.forEach(function(f){u.push(f)}),r(u)},d.entries=function(){var u=[];return this.forEach(function(f,y){u.push([y,f])}),r(u)},n&&(d[Symbol.iterator]=d.entries),d.toString=function(){var u=[];return this.forEach(function(f,y){u.push(o(y)+"="+o(f))}),u.join("&")},t.URLSearchParams=c},a=function(){try{var c=t.URLSearchParams;return new c("?a=1").toString()==="a=1"&&typeof c.prototype.set=="function"}catch{return!1}};a()||s();var l=t.URLSearchParams.prototype;typeof l.sort!="function"&&(l.sort=function(){var c=this,d=[];this.forEach(function(f,y){d.push([y,f]),c._entries||c.delete(y)}),d.sort(function(f,y){return f[0]<y[0]?-1:f[0]>y[0]?1:0}),c._entries&&(c._entries={});for(var u=0;u<d.length;u++)this.append(d[u][0],d[u][1])}),typeof l._fromString!="function"&&Object.defineProperty(l,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(c){if(this._entries)this._entries={};else{var d=[];this.forEach(function(p,g){d.push(g)});for(var u=0;u<d.length;u++)this.delete(d[u])}c=c.replace(/^\?/,"");for(var f=c.split("&"),y,u=0;u<f.length;u++)y=f[u].split("="),this.append(i(y[0]),y.length>1?i(y[1]):"")}})})(typeof zo<"u"?zo:typeof window<"u"?window:typeof self<"u"?self:zo);(function(t){var e=function(){try{var o=new t.URL("b","http://a");return o.pathname="c d",o.href==="http://a/c%20d"&&o.searchParams}catch{return!1}},n=function(){var o=t.URL,i=function(l,c){typeof l!="string"&&(l=String(l));var d=document,u;if(c&&(t.location===void 0||c!==t.location.href)){d=document.implementation.createHTMLDocument(""),u=d.createElement("base"),u.href=c,d.head.appendChild(u);try{if(u.href.indexOf(c)!==0)throw new Error(u.href)}catch(b){throw new Error("URL unable to set base "+c+" due to "+b)}}var f=d.createElement("a");f.href=l,u&&(d.body.appendChild(f),f.href=f.href);var y=d.createElement("input");if(y.type="url",y.value=l,f.protocol===":"||!/:/.test(f.href)||!y.checkValidity()&&!c)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:f});var p=new t.URLSearchParams(this.search),g=!0,w=!0,v=this;["append","delete","set"].forEach(function(b){var x=p[b];p[b]=function(){x.apply(p,arguments),g&&(w=!1,v.search=p.toString(),w=!0)}}),Object.defineProperty(this,"searchParams",{value:p,enumerable:!0});var m=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==m&&(m=this.search,w&&(g=!1,this.searchParams._fromString(this.search),g=!0))}})},s=i.prototype,a=function(l){Object.defineProperty(s,l,{get:function(){return this._anchorElement[l]},set:function(c){this._anchorElement[l]=c},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(l){a(l)}),Object.defineProperty(s,"search",{get:function(){return this._anchorElement.search},set:function(l){this._anchorElement.search=l,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(s,{toString:{get:function(){var l=this;return function(){return l.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(l){this._anchorElement.href=l,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(l){this._anchorElement.pathname=l},enumerable:!0},origin:{get:function(){var l={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],c=this._anchorElement.port!=l&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(c?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(l){},enumerable:!0},username:{get:function(){return""},set:function(l){},enumerable:!0}}),i.createObjectURL=function(l){return o.createObjectURL.apply(o,arguments)},i.revokeObjectURL=function(l){return o.revokeObjectURL.apply(o,arguments)},t.URL=i};if(e()||n(),t.location!==void 0&&!("origin"in t.location)){var r=function(){return t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")};try{Object.defineProperty(t.location,"origin",{get:r,enumerable:!0})}catch{setInterval(function(){t.location.origin=r()},100)}}})(typeof zo<"u"?zo:typeof window<"u"?window:typeof self<"u"?self:zo);var Qj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=3)}([function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){(function(i){var s=o(2),a=setTimeout;function l(){}function c(w){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof w!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(w,this)}function d(w,v){for(;w._state===3;)w=w._value;w._state!==0?(w._handled=!0,c._immediateFn(function(){var m=w._state===1?v.onFulfilled:v.onRejected;if(m!==null){var b;try{b=m(w._value)}catch(x){return void f(v.promise,x)}u(v.promise,b)}else(w._state===1?u:f)(v.promise,w._value)})):w._deferreds.push(v)}function u(w,v){try{if(v===w)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var m=v.then;if(v instanceof c)return w._state=3,w._value=v,void y(w);if(typeof m=="function")return void g((b=m,x=v,function(){b.apply(x,arguments)}),w)}w._state=1,w._value=v,y(w)}catch(E){f(w,E)}var b,x}function f(w,v){w._state=2,w._value=v,y(w)}function y(w){w._state===2&&w._deferreds.length===0&&c._immediateFn(function(){w._handled||c._unhandledRejectionFn(w._value)});for(var v=0,m=w._deferreds.length;v<m;v++)d(w,w._deferreds[v]);w._deferreds=null}function p(w,v,m){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof v=="function"?v:null,this.promise=m}function g(w,v){var m=!1;try{w(function(b){m||(m=!0,u(v,b))},function(b){m||(m=!0,f(v,b))})}catch(b){if(m)return;m=!0,f(v,b)}}c.prototype.catch=function(w){return this.then(null,w)},c.prototype.then=function(w,v){var m=new this.constructor(l);return d(this,new p(w,v,m)),m},c.prototype.finally=s.a,c.all=function(w){return new c(function(v,m){if(!w||w.length===void 0)throw new TypeError("Promise.all accepts an array");var b=Array.prototype.slice.call(w);if(b.length===0)return v([]);var x=b.length;function E(A,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var _=S.then;if(typeof _=="function")return void _.call(S,function(T){E(A,T)},m)}b[A]=S,--x==0&&v(b)}catch(T){m(T)}}for(var C=0;C<b.length;C++)E(C,b[C])})},c.resolve=function(w){return w&&typeof w=="object"&&w.constructor===c?w:new c(function(v){v(w)})},c.reject=function(w){return new c(function(v,m){m(w)})},c.race=function(w){return new c(function(v,m){for(var b=0,x=w.length;b<x;b++)w[b].then(v,m)})},c._immediateFn=typeof i=="function"&&function(w){i(w)}||function(w){a(w,0)},c._unhandledRejectionFn=function(w){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",w)},r.a=c}).call(this,o(5).setImmediate)},function(n,r,o){r.a=function(i){var s=this.constructor;return this.then(function(a){return s.resolve(i()).then(function(){return a})},function(a){return s.resolve(i()).then(function(){return s.reject(a)})})}},function(n,r,o){function i(p){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}o(4);var s,a,l,c,d,u,f=o(8),y=(a=function(p){return new Promise(function(g,w){p=c(p),p=d(p);var v=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");v.open(p.method,p.url),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(p.headers).forEach(function(b){var x=p.headers[b];v.setRequestHeader(b,x)});var m=p.ratio;v.upload.addEventListener("progress",function(b){var x=Math.round(b.loaded/b.total*100),E=Math.ceil(x*m/100);p.progress(E)},!1),v.addEventListener("progress",function(b){var x=Math.round(b.loaded/b.total*100),E=Math.ceil(x*(100-m)/100)+m;p.progress(E)},!1),v.onreadystatechange=function(){if(v.readyState===4){var b=v.response;try{b=JSON.parse(b)}catch{}var x=f.parseHeaders(v.getAllResponseHeaders()),E={body:b,code:v.status,headers:x};v.status===200?g(E):w(E)}},v.send(p.data)})},l=function(p){return p.method="POST",a(p)},c=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(p.url&&typeof p.url!="string")throw new Error("Url must be a string");if(p.url=p.url||"",p.method&&typeof p.method!="string")throw new Error("`method` must be a string or null");if(p.method=p.method?p.method.toUpperCase():"GET",p.headers&&i(p.headers)!=="object")throw new Error("`headers` must be an object or null");if(p.headers=p.headers||{},p.type&&(typeof p.type!="string"||!Object.values(s).includes(p.type)))throw new Error("`type` must be taken from module's «contentType» library");if(p.progress&&typeof p.progress!="function")throw new Error("`progress` must be a function or null");if(p.progress=p.progress||function(g){},p.beforeSend=p.beforeSend||function(g){},p.ratio&&typeof p.ratio!="number")throw new Error("`ratio` must be a number");if(p.ratio<0||p.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(p.ratio=p.ratio||90,p.accept&&typeof p.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(p.accept=p.accept||"*/*",p.multiple&&typeof p.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(p.multiple=p.multiple||!1,p.fieldName&&typeof p.fieldName!="string")throw new Error("`fieldName` must be a string");return p.fieldName=p.fieldName||"files",p},d=function(p){switch(p.method){case"GET":var g=u(p.data,s.URLENCODED);delete p.data,p.url=/\?/.test(p.url)?p.url+"&"+g:p.url+"?"+g;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var w=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(p);(f.isFormData(p.data)||f.isFormElement(p.data))&&(w=s.FORM),p.data=u(p.data,w),w!==y.contentType.FORM&&(p.headers["content-type"]=w)}return p},u=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return f.urlEncode(p);case s.JSON:return f.jsonEncode(p);case s.FORM:return f.formEncode(p);default:return p}},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(p){return p.method="GET",a(p)},post:l,transport:function(p){return p=c(p),f.selectFiles(p).then(function(g){for(var w=new FormData,v=0;v<g.length;v++)w.append(p.fieldName,g[v],g[v].name);return f.isObject(p.data)&&Object.keys(p.data).forEach(function(m){var b=p.data[m];w.append(m,b)}),p.beforeSend&&p.beforeSend(g),p.data=w,l(p)})},selectFiles:function(p){return delete(p=c(p)).beforeSend,f.selectFiles(p)}});n.exports=y},function(n,r,o){o.r(r);var i=o(1);window.Promise=window.Promise||i.a},function(n,r,o){(function(i){var s=i!==void 0&&i||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,d){this._id=c,this._clearFn=d}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,d){clearTimeout(c._idleTimeoutId),c._idleTimeout=d},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var d=c._idleTimeout;d>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},d))},o(6),r.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(n,r,o){(function(i,s){(function(a,l){if(!a.setImmediate){var c,d,u,f,y,p=1,g={},w=!1,v=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,{}.toString.call(a.process)==="[object process]"?c=function(E){s.nextTick(function(){x(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,C=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=C,E}}()?(f="setImmediate$"+Math.random()+"$",y=function(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(f)===0&&x(+E.data.slice(f.length))},a.addEventListener?a.addEventListener("message",y,!1):a.attachEvent("onmessage",y),c=function(E){a.postMessage(f+E,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(E){x(E.data)},c=function(E){u.port2.postMessage(E)}):v&&"onreadystatechange"in v.createElement("script")?(d=v.documentElement,c=function(E){var C=v.createElement("script");C.onreadystatechange=function(){x(E),C.onreadystatechange=null,d.removeChild(C),C=null},d.appendChild(C)}):c=function(E){setTimeout(x,0,E)},m.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var C=new Array(arguments.length-1),A=0;A<C.length;A++)C[A]=arguments[A+1];var S={callback:E,args:C};return g[p]=S,c(p),p++},m.clearImmediate=b}function b(E){delete g[E]}function x(E){if(w)setTimeout(x,0,E);else{var C=g[E];if(C){w=!0;try{(function(A){var S=A.callback,_=A.args;switch(_.length){case 0:S();break;case 1:S(_[0]);break;case 2:S(_[0],_[1]);break;case 3:S(_[0],_[1],_[2]);break;default:S.apply(l,_)}})(C)}finally{b(E),w=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,o(0),o(7))},function(n,r){var o,i,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(m){if(o===setTimeout)return setTimeout(m,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(m,0);try{return o(m,0)}catch{try{return o.call(null,m,0)}catch{return o.call(this,m,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{i=typeof clearTimeout=="function"?clearTimeout:l}catch{i=l}})();var d,u=[],f=!1,y=-1;function p(){f&&d&&(f=!1,d.length?u=d.concat(u):y=-1,u.length&&g())}function g(){if(!f){var m=c(p);f=!0;for(var b=u.length;b;){for(d=u,u=[];++y<b;)d&&d[y].run();y=-1,b=u.length}d=null,f=!1,function(x){if(i===clearTimeout)return clearTimeout(x);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(x);try{i(x)}catch{try{return i.call(null,x)}catch{return i.call(this,x)}}}(m)}}function w(m,b){this.fun=m,this.array=b}function v(){}s.nextTick=function(m){var b=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)b[x-1]=arguments[x];u.push(new w(m,b)),u.length!==1||f||c(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(m){return[]},s.binding=function(m){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(m){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,o){function i(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var s=o(9);n.exports=function(){function a(){(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,d;return l=a,d=[{key:"urlEncode",value:function(u){return s(u)}},{key:"jsonEncode",value:function(u){return JSON.stringify(u)}},{key:"formEncode",value:function(u){if(this.isFormData(u))return u;if(this.isFormElement(u))return new FormData(u);if(this.isObject(u)){var f=new FormData;return Object.keys(u).forEach(function(y){var p=u[y];f.append(y,p)}),f}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(u){return Object.prototype.toString.call(u)==="[object Object]"}},{key:"isFormData",value:function(u){return u instanceof FormData}},{key:"isFormElement",value:function(u){return u instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(f,y){var p=document.createElement("INPUT");p.type="file",u.multiple&&p.setAttribute("multiple","multiple"),u.accept&&p.setAttribute("accept",u.accept),p.style.display="none",document.body.appendChild(p),p.addEventListener("change",function(g){var w=g.target.files;f(w),document.body.removeChild(p)},!1),p.click()})}},{key:"parseHeaders",value:function(u){var f=u.trim().split(/[\r\n]+/),y={};return f.forEach(function(p){var g=p.split(": "),w=g.shift(),v=g.join(": ");w&&(y[w]=v)}),y}}],(c=null)&&i(l.prototype,c),d&&i(l,d),a}()},function(n,r){var o=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(d){for(var u=new Array,f=0;f<d.length;f++)d[f]&&u.push(d[f]);return u}(Object.keys(s).map(function(d){var u,f,y=d;if(c&&(y=c+"["+y+"]"),typeof s[d]=="object"&&s[d]!==null)u=i(s[d],null,l,y);else{a&&(f=y,y=!isNaN(parseFloat(f))&&isFinite(f)?a+Number(y):y);var p=s[d];p=(p=(p=(p=p===!0?"1":p)===!1?"0":p)===0?"0":p)||"",u=o(y)+"="+o(p)}return u})).join(l).replace(/[!'()*]/g,""):""};n.exports=i}])})})(Qj);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Zj='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',eD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',tD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';let nD=class Hi{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:tD,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get ALIGNMENTS(){return{left:"left",center:"center"}}static get DEFAULT_ALIGNMENT(){return Hi.ALIGNMENTS.left}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} — ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:eD},{name:"center",icon:Zj}]}constructor({data:e,config:n,api:r,readOnly:o}){const{ALIGNMENTS:i,DEFAULT_ALIGNMENT:s}=Hi;this.api=r,this.readOnly=o,this.quotePlaceholder=n.quotePlaceholder||Hi.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=n.captionPlaceholder||Hi.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(i).includes(e.alignment)&&e.alignment||n.defaultAlignment||s}}render(){const e=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),n=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),r=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return n.dataset.placeholder=this.quotePlaceholder,r.dataset.placeholder=this.captionPlaceholder,e.appendChild(n),e.appendChild(r),e}save(e){const n=e.querySelector(`.${this.CSS.text}`),r=e.querySelector(`.${this.CSS.caption}`);return Object.assign(this.data,{text:n.innerHTML,caption:r.innerHTML})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=n=>n[0].toUpperCase()+n.substr(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${e(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this.data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e}_make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const rD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let oD=class $i{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,$i.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add($i.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,$i.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return rD}static get sanitize(){return{mark:{class:$i.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const iD='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>';class jo{static get CSS(){return"inline-code"}constructor({api:e}){this.api=e,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,jo.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(jo.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,jo.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return iD}static get sanitize(){return{code:{class:jo.CSS}}}}const sD=t=>(console.log(t),Op(t).then(e=>(console.log(e),{success:1,file:{url:e}}))),aD=t=>new Promise((n,r)=>{try{n(t)}catch(o){r(o.message)}}).then(n=>({success:1,file:{url:n}})),_v={header:{class:Uj,config:{placeholder:"Type heading...",levels:[2,3,4],defaultLevel:2}},embed:Wn,image:{class:ec,config:{uploader:{uploadByFile:sD,uploadByUrl:aD}}},list:{class:Jj,inlineToolbar:!0,config:{defaultStyle:"unordered"}},Quote:nD,inlineCode:{class:jo,shortcut:"CMD+SHIFT+M"},marker:oD};var Cv={VITE_SERVER:"https://backend-mern-blog-web-v22.onrender.com/api/v1",VITE_SOCKET_SERVER:"https://socket-web-blog-v2.onrender.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const lD=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(!1),{blog_id:o}=hi(),i=Ut();let{blog:{title:s,banner:a,des:l,tags:c,content:d},setBlog:u,textEditor:f,setTextEditor:y,editorState:p,setEditorState:g,blog:w}=k.useContext($c),{userAuth:{access_token:v},setUserAuth:m}=k.useContext(le);const{language:b}=k.useContext(re),x=async _=>{const T=_.target.files[0];console.log(T),r(!0);const R=O.loading("Loading...");try{const M=await Op(T,e);u({...w,banner:M}),r(!1),e(null),O.dismiss(R),O.success("Upload image to cloud successfully!")}catch(M){r(!1),e(null),O.dismiss(R),O.error(M)}},E=_=>{let T=_.target;T.style.height="auto",T.style.height=T.scrollHeight+"px",u({...w,title:T.value})},C=_=>{_.keyCode===13&&_.preventDefault()},A=()=>{if(!a.length)return O.error("You need to upload a banner");if(!s.length)return O.error("You need to write the title");f.save().then(_=>{if(_.blocks.length)u({...w,content:_}),g("publish");else return O.error("Write something to publish")})},S=_=>{if(_.target.className.includes("disabled"))return;if(_.target.classList.add("disabled"),!s.length)return O.error("You need to provide the title");let T=O.loading("Loading");console.log(f.isReady),f.isReady&&f.save().then(R=>{let M={banner:a,title:s,des:l,tags:c,content:R,draft:!0};U.post(Cv.VITE_SERVER_BLOG,M,{headers:{Authorization:"Bearer "+v}}).then(V=>{O.dismiss(T),_.target.classList.remove("disabled"),O.success("Upload a draft blog "),setTimeout(()=>{i("/",{replace:!0})},2e3)}).catch(V=>O.error(V.message))})};return k.useEffect(()=>{console.log(o),o?U.get(Cv.VITE_SERVER_BLOG+`/${o}`).then(({data:_})=>{u(_),f.isReady||y(new Ev({holderId:"textEditor",data:_.content[0],tools:_v,placeholder:"Let's write story"}))}).catch(_=>console.log(_)):f.isReady||y(new Ev({holderId:"textEditor",data:Array.isArray(d)?d[0]:d,tools:_v,placeholder:"Let's write story"}))},[]),h.jsxs(h.Fragment,{children:[h.jsxs("nav",{className:"navbar",children:[h.jsx(ne,{to:"/",className:"flex-none w-10",children:h.jsx("img",{src:Zw,alt:"",className:"w-full"})}),h.jsx("p",{className:"max-md:hidden text-black line-clamp-1 w-full",children:s.length>0?s:`${I.editor_page.new_title[b]}`}),h.jsxs("div",{className:"ml-auto flex gap-2",children:[h.jsx("button",{className:"btn-dark py-2",onClick:A,children:I.editor_page.publish[b]}),h.jsx("button",{className:"btn-light py-2",onClick:S,children:I.editor_page.save_draft[b]})]})]}),h.jsx(Le,{children:h.jsx("section",{children:h.jsxs("div",{className:"mx-auto max-w-[900px] w-full",children:[h.jsx("div",{className:"relative aspect-video bg-white border-4 border-grey hover:opacity-80",children:h.jsxs("label",{htmlFor:"uploadBanner",children:[a?h.jsx("img",{src:a,alt:""}):n?"":h.jsx("img",{src:WO,alt:""}),t&&h.jsx("p",{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 font-bold text-black text-2xl",children:`${t} %`}),h.jsx("input",{id:"uploadBanner",type:"file",accept:".jpg, .png, .jpeg",hidden:!0,onChange:x})]})}),h.jsx("textarea",{defaultValue:s,placeholder:I.editor_page.title[b],className:"text-4xl w-full h-20 bg-white resize-none placehodler:opacity-40 mt-10 font-medium leading-tight",onChange:E,onKeyDown:C}),h.jsx("hr",{className:"w-full opacity-40 my-5"}),h.jsx("div",{id:"textEditor",className:"text-gelasio"})]})})})]})},cD=({tag:t,tagIndex:e})=>{let{blog:{tags:n},blog:r,setBlog:o}=k.useContext($c);const i=()=>{n=n.filter(l=>l!==t),o({...r,tags:n})},s=l=>{if(l.keyCode==13||l.keyCode==188){l.preventDefault();let c=l.target.innerText;n[e]=c,l.target.setAttribute("contentEditable",!1),o({...r,tags:n})}},a=l=>{l.target.setAttribute("contentEditable",!0),l.target.focus()};return h.jsxs("div",{className:"bg-white inline-block relative rounded-full mr-2 px-5 p-2 hover:bg-opacity-50 pr-8 mt-2",children:[h.jsx("p",{className:"outline-none",onKeyDown:s,onClick:a,children:t}),h.jsx("button",{onClick:i,className:"absolute right-2 top-1/2 -translate-y-1/2 mt-[2px]",children:h.jsx("i",{className:"fi fi-br-cross text-sm pointer-events-none"})})]})};var uD={VITE_SERVER:"https://backend-mern-blog-web-v22.onrender.com/api/v1",VITE_SOCKET_SERVER:"https://socket-web-blog-v2.onrender.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const dD=()=>{const{blog_id:t}=hi();let{userAuth:{access_token:e},setUserAuth:n}=k.useContext(le);const{language:r}=k.useContext(re),o=Ut(),i=200,s=10,[a,l]=k.useState(i);let{blog:{title:c,banner:d,des:u,tags:f,content:y},setBlog:p,blog:g,setEditorState:w,editorState:v}=k.useContext($c);const m=()=>{w("editor")},b=S=>{let _=S.target.value;p({...g,title:_})},x=S=>{let _=S.target.value;if(p({...g,des:_}),a===0)return O.error("You achived max limit for description");l(T=>i-_.length)},E=S=>{S.keyCode===13&&S.preventDefault()},C=S=>{let _=S.target.value.trim().toLowerCase();if((S.keyCode===13||S.keyCode===188)&&_.length)if(console.log(f),f.length<s)console.log(f),p({...g,tags:[...f,_]}),S.target.value="";else return O.error("You achived limit tags")},A=()=>{if(!c.length)return O.error("title ");if(!u.length||u.length>i)return O.error("des");if(!f.length||f.length>s)return O.error("tags");let S={title:c,banner:d,des:u,content:y,tags:f},_=O.loading("publishing");console.log(g),console.log(e),U.post(uD.VITE_SERVER_BLOG+"/",{...S,id:t},{headers:{Authorization:`Bearer ${e}`}}).then(T=>{console.log(T),O.dismiss(_),O.success("Published"),setTimeout(()=>{o("/dashboard/blogs?tab=blog",{replace:!0})},2e3)}).catch(({response:T})=>(O.dismiss(_),O.error(T.data.message)))};return k.useEffect(()=>{console.log("publish form ")},[]),h.jsx(Le,{children:h.jsxs("section",{className:"w-screeen min-h-screen grid items-center lg:grid-cols-2 py-16 lg:gap-4",children:[h.jsx("button",{className:"w-12 h-12 absolute right-[3vw] z-10 top-[1%]",onClick:m,children:h.jsx("i",{className:"fi fi-br-cross"})}),h.jsxs("div",{className:"max-w-[550px] center ",children:[h.jsx("p",{className:"text-dark-grey mb-1",children:I.preview_page.preview[r]}),h.jsx("div",{className:"w-full aspect-video rounded-md bg-grey overflow-hidden mt-4",children:h.jsx("img",{src:d,alt:"",className:"rounded-md"})}),h.jsx("h1",{className:"text-4xl text-black font-bold leading-tight line-clamp-1",children:c}),h.jsx("p",{className:"text-black leading-tight",children:u})]}),h.jsxs("div",{className:"border-grey lg:border-1 lg:pl-8",children:[h.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:I.editor_page.title[r]}),h.jsx("input",{name:"title",defaultValue:c,placeholder:"title",className:"input-box pl-4 placeholder:opacity-40",onChange:b,onKeyDown:E}),h.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:I.preview_page.description[r]}),h.jsx("input",{name:"description",defaultValue:u,placeholder:"Description",className:"input-box pl-4 placeholder:opacity-40",onChange:x,onKeyDown:E}),h.jsxs("p",{className:"text-right mt-1 text-dark-grey",children:[a," ",I.preview_page.char_left[r]]}),h.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:I.preview_page.toppic[r]}),h.jsxs("div",{className:"bg-grey py-4 p-2 rounded-md",children:[h.jsx("input",{name:"topic",placeholder:"Topic",className:"sticky bg-white top-0 left-0 mb-3 input-box pl-4 placeholder:opacity-40 focus:bg-white rounded-md",onKeyDown:C}),f.map((S,_)=>h.jsx(cD,{tag:S,tagIndex:_},_))]}),h.jsxs("p",{className:"text-right mt-1 text-dark-grey",children:[s," ",I.preview_page.char_left[r]]}),h.jsx("button",{className:"btn-dark",onClick:A,children:I.editor_page.publish[r]})]})]})})},hD={title:"",banner:"",des:"",tags:[],content:[]},$c=k.createContext({}),Tv=()=>{const{userAuth:{access_token:t},setUserAuth:e}=k.useContext(le),[n,r]=k.useState(hD),[o,i]=k.useState("editor"),[s,a]=k.useState({isReady:!1}),[l,c]=k.useState(!1);return h.jsx($c.Provider,{value:{editorState:o,setEditorState:i,textEditor:s,setTextEditor:a,blog:n,setBlog:r},children:t?l?h.jsx(at,{}):o==="editor"?h.jsx(lD,{}):h.jsx(dD,{}):h.jsx(zf,{to:"/signin"})})},Av=({content:t,author:e,i:n})=>{let{blog_id:r,title:o,publishedAt:i,activity:{total_likes:s}}=t,{personal_info:{username:a,fullname:l,profile_img:c}}=e;return h.jsx(Le,{transition:{delay:n*.15},children:h.jsxs(ne,{className:"flex gap-5 mb-8 hover:bg-grey/30 px-3 p-2 group",to:`/blog/${r}`,children:[h.jsx("h1",{className:"blog-index hover:text-dark",children:n<10?"0"+(n+1):n+1}),h.jsxs("div",{className:"w-full overflow-hidden",children:[h.jsxs("div",{className:"flex gap-3 items-center mb-4",children:[h.jsx("img",{src:c,alt:"",className:"w-8 h-8 rounded-full"}),h.jsxs("div",{children:[h.jsx("p",{className:"line-clamp-1 text-black font-medium",children:l}),h.jsxs("p",{className:"line-clamp-1 hover:text-dark-grey",children:["@",a]})]}),h.jsx("p",{className:"min-w-fit text-dark-grey",children:On(i)})]}),h.jsx("h1",{className:"blog-title ml-12",children:o})]})]})})},fD=()=>{let{userAuth:{username:t,access_token:e},socket:n,notifications:r,setNotifications:o,userAuth:i}=k.useContext(le);const{language:s}=k.useContext(re),a=["chuyện tìm việc","đàm phán công việc","hồ sơ xin việc","mẹo phỏng vấn","học tập","hướng nghiệp","kỹ năng cứng và mềm"],[l,c]=k.useState(null),[d,u]=k.useState(I.home_page.home[s]),[f,y]=k.useState(null),p=({page:m=1})=>{const b={page:m};U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/latest-blogs",b).then(async({data:x})=>{const E=await Qr({state:l,data:x,countRoute:"/blogs/count-latest-blogs",page:m});c(E)}).catch(x=>console.log(x))},g=()=>{U.get("https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/trending").then(({data:m})=>{y(m)}).catch(m=>console.log(m))},w=({page:m=1})=>{console.log("blog:",l),console.log("pageState: ",d),U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/search",{tag:d,page:m}).then(async({data:b})=>{console.log("data: ",b);const x=await Qr({state:l,data:b.blogs,countRoute:"/blogs/count-search-blogs",page:m,data_to_send:{tag:d}});c(x),console.log(x)})},v=(m,b)=>{let x=m.innerText.toLowerCase();c(null),d==x?u(I.home_page.home[s]):u(x)};return k.useEffect(()=>{t&&n.emit("newUser",{username:t})},[i]),k.useEffect(()=>{Fi.current.click(),d===I.home_page.home[s]?p({page:1}):w({page:1}),f||g()},[d]),k.useEffect(()=>{u(I.home_page.home[s]),c(null)},[s]),h.jsx(Le,{children:h.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[h.jsx("div",{className:"w-full",children:h.jsxs(Fc,{routes:[d,I.home_page.trending[s]],defaultHidden:[I.home_page.trending[s]],children:[h.jsxs("div",{children:[l===null?h.jsx(at,{}):l.results.length?l.results.map((m,b)=>h.jsx(Mp,{content:m,author:m.author},b)):h.jsx(_t,{message:"No blog"}),h.jsx(Zr,{state:l,fetchDataFunc:d==`${I.home_page.home[s]}`?p:w})]}),h.jsx("div",{children:f===null?h.jsx(at,{}):f.length?f.map((m,b)=>h.jsx(Av,{i:b,content:m,author:m.author},b)):h.jsx(_t,{message:"No blog"})})]})}),h.jsx("div",{className:"min-w-[40%] lg:min-w-[400px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:h.jsxs("div",{className:"flex flex-col gap-10",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"tex-xl font-medium mb-8",children:I.home_page.tags[s]}),h.jsx("div",{className:"flex gap-2 flex-wrap ",children:a.map((m,b)=>h.jsx("button",{className:`tag ${d==m?"bg-black text-white":" "}`,onClick:x=>v(x.target),children:m},b))})]}),h.jsxs("div",{children:[h.jsxs("h1",{className:"tex-xl font-medium mb-8",children:[I.home_page.trending[s]," ",h.jsx("i",{className:"fi fi-rr-arrow-trend-up"})]}),h.jsx("div",{className:"mt-2",children:f===null?h.jsx(at,{}):f.length?f.map((m,b)=>h.jsx(Av,{i:b,content:m,author:m.author},b)):h.jsx(_t,{message:"No blog"})})]})]})})]})})},Nv=({stats:t})=>{const{language:e}=k.useContext(re);return h.jsx("div",{className:"flex gap-2 border-grey max-lg:border-b max-lg:mb-6 max-lg:pb-6 ",children:Object.keys(t).map((n,r)=>n.includes("parent")?"":h.jsxs("div",{className:`flex flex-col items-center w-full h-full justify-center p-4 px-6 ${r!=0?"border-l-2 border-l-grey":""}`,children:[h.jsx("h1",{className:"text-xl lg:text-2xl font-medium mb-2",children:t[n].toLocaleString()}),h.jsx("p",{className:"capitalize",children:I.dashboard_blogs[n.split("_")[1]][e]})]},r))})},pD=({blog:t})=>{let[e,n]=k.useState(!1),[r,o]=k.useState(!1),{blog_id:i,activity:s,banner:a,title:l,publishedAt:c,index:d}=t,{userAuth:{access_token:u}}=k.useContext(le);const{language:f}=k.useContext(re);return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-10 border-b mb-6 max-md:px-4 border-grey pb-6 items-center",children:[h.jsx("img",{src:a,className:"max-md:hidden lg:hidden xl:block w-28 h-28 flex-none bg-grey object-cover",alt:""}),h.jsxs("div",{className:"flex flex-col justify-between py-2 w-full min-w-[300px]",children:[h.jsxs("div",{className:"",children:[h.jsx(ne,{to:`/blog/${i}`,className:"blog-title mb-4 hover:underline",children:l}),h.jsxs("p",{children:[I.published_on[f]," ",On(c)]})]}),h.jsxs("div",{className:"flex gap-6 mt-3",children:[h.jsx(ne,{to:`/edit/${i}`,className:"pr-4 py-2 underline",children:I.edit[f]}),h.jsx("button",{onClick:()=>n(y=>!y),className:`lg:hidden pr-4 py-2 underline
          `,children:I.dashboard_blogs.stats[f]}),h.jsx("button",{onClick:y=>o(!0),className:`pr-4 py-2 underline
           text-red`,children:I.delete[f]}),r&&h.jsx("div",{className:"fixed w-screen h-screen top-0 left-0 bg-grey/50 flex items-center justify-center overscroll-contain",children:h.jsxs("div",{className:"bg-white w-[300px]  relative",children:[h.jsxs("div",{className:"flex justify-between items-center  bg-[#FF0000]",children:[h.jsx("p",{className:"text-white text-xl pl-4",children:I.warning[f]}),h.jsx("button",{className:"h-[45px] w-[45px] flex items-center justify-center hover:bg-grey/30 rounded-full",onClick:()=>o(!1),children:h.jsx("i",{className:"fi fi-rr-cross text-[15px]"})})]}),h.jsxs("div",{className:"mt-[20px] px-3",children:[h.jsxs("div",{className:"flex gap-4 items-start justify-center  mb-5",children:[h.jsx("i",{className:"fi fi-ss-triangle-warning text-[20px]",style:{color:"red"}}),h.jsx("p",{className:"text-xl",children:I.warn[f]})]}),h.jsxs("div",{className:"flex justify-end items-center gap-4 mt-2    w-[300px] py-2  px-6",children:[h.jsx("button",{className:"bg-grey border px-4 py-2 hover:opacity-80",onClick:()=>o(!1),children:I.cancel[f]}),h.jsx("button",{className:"border bg-[#FF0000] text-white px-4 py-2 hover:opacity-80",onClick:async y=>{await Rk(t,u,y.target),o(!1)},children:I.confirm[f]})]})]})]})})]})]}),h.jsx("div",{className:"max-lg:hidden",children:h.jsx(Nv,{stats:s})})]}),e?h.jsx("div",{className:"lg:hidden ",children:h.jsx(Nv,{stats:s})}):""]})},mD=({draft:t})=>{let{title:e,des:n,blog_id:r,index:o}=t,{userAuth:{access_token:i}}=k.useContext(le);const{language:s}=k.useContext(re);return h.jsxs("div",{className:"flex gap-5 lg:gap-10 pb-6 border-b mb-6 border-grey",children:[h.jsxs("h1",{className:"blog-index text-center pl-4 md:pl=6 flex-none",children:[o<10?"0"+o:o," "]}),h.jsxs("div",{className:"",children:[h.jsx("h1",{className:"blog-title mb-3",children:e}),h.jsx("p",{className:"line-clamp-2 font-gelasio",children:n.length?n:"No Description"}),h.jsxs("div",{className:"flex gap-6 mt-3",children:[h.jsx(ne,{to:`/edit/${r}`,className:"pr-4 py-2 underline",children:I.edit[s]}),h.jsx("button",{onClick:a=>Rk(t,i,a.target),className:"pr-4 py-2 underline text-red",children:I.delete[s]})]})]})]})},Rk=(t,e,n)=>{let{index:r,blog_id:o,setStateFunc:i,blogs:s}=t;n.setAttribute("disabled",!0),U.delete(`https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/${o}`,{headers:{Authorization:"Bearer "+e}}).then(({data:a})=>{console.log("deleted blog: ",a),n.removeAttribute("disabled"),i(l=>{let{deletedDocCount:c,totalDocs:d,results:u}=l;return console.log("prev blogs: ",l),console.log("deleted count: ",c),u.splice(r,1),u.length===0&&d-1===0?null:{...l,totalDocs:d-1,deletedDocCount:c+1}}),setTimeout(()=>{console.log("blog after update: ",s)},500)}).catch(a=>{console.log(a)})},gD=()=>{let t=ZC()[0].get("tab");const[e,n]=k.useState(null),[r,o]=k.useState(null),[i,s]=k.useState("");let{userAuth:{access_token:a}}=k.useContext(le);const{language:l}=k.useContext(re),c=({page:f,draft:y,deletedDocCount:p=0})=>{console.log("draft: ",y),U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/blogs-written-by-user",{page:f,draft:y,query:i,deletedDocCount:p},{headers:{Authorization:"Bearer "+a}}).then(async({data:g})=>{let w=await Qr({state:y?r:e,data:g.blogs,page:f,user:a,countRoute:"/blogs/user-written-blogs-count",data_to_send:{draft:y,query:i}});console.log(w),y?o(w):n(w)}).catch(g=>{console.log(g)})},d=f=>{f.target.value.length||(s(""),n(null),o(null))},u=f=>{let y=f.target.value;s(y),f.keyCode==13&&y.length>0&&(n(null),o(null))};return k.useEffect(()=>{a&&(e==null&&(console.log("blogssss"),c({page:1,draft:!1})),r==null&&(console.log("draftsssss"),c({page:1,draft:!0})))},[a,i]),h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"max-md:hidden font-bold",children:I.dashboard_blogs.manage_blog[l]}),h.jsxs("div",{className:"relative max-md:mt-5 md:mt-8 mb-10",children:[h.jsx("input",{type:"search",className:"w-full bg-grey p-4 pl-12 pr-6 rounded-full placeholder:text-dark-grey",placeholder:I.navbar.search_blog[l],onKeyDown:u,onChange:d}),h.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-xl text-dark-grey"})]}),h.jsxs(Fc,{routes:["Blogs","Drafts"],defaultActiveIndex:t!="draft"?0:1,children:[e==null?h.jsx(at,{}):e.results.length?h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:" font-bold text-[18px] mb-2",children:["Count ",i.length>0?`"${i}"`:""," ",e.results.length," of ",e.totalDocs," "]}),h.jsx("hr",{className:"w-full border-grey"}),e.results.map((f,y)=>h.jsx(Le,{transiton:{delay:y*.04},children:h.jsx(pD,{blog:{...f,index:y,setStateFunc:n,blogs:e}})},y)),h.jsx(Zr,{state:e,fetchDataFunc:c,additionalParams:{draft:!1,deletedDocCount:e.deletedDocCount}})]}):h.jsx(_t,{message:"No published Blog"}),r==null?h.jsx(at,{}):r.results.length?h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:" font-bold text-[18px] mb-2",children:["Count ",i.length>0?`"${i}"`:""," ",r.results.length," of ",r.totalDocs," "]}),h.jsx("hr",{className:"w-full border-grey"}),r.results.map((f,y)=>h.jsx(Le,{transiton:{delay:y*.04},children:h.jsx(mD,{draft:{...f,index:y,setStateFunc:o}})},y)),h.jsx(Zr,{state:r,fetchDataFunc:c,additionalParams:{draft:!0,deletedDocCount:r.deletedDocCount}})]}):h.jsx(_t,{message:"No published Blog"})]})]})},yD=({_id:t,blog_author:e,index:n=void 0,replyingTo:r=void 0,setReplying:o,notification_id:i,notificationData:s})=>{const[a,l]=k.useState("");let{_id:c}=e,{userAuth:{access_token:d}}=k.useContext(le),{notifications:u,notifications:{results:f},setNotifications:y}=s;const p=()=>{if(!a.length)return O.error("You need to write something");U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/comments/",{_id:t,comment:a,blog_author:c,replying_to:r,notification_id:i},{headers:{Authorization:"Bearer "+d}}).then(({data:{newComment:g}})=>{o(!1),f[n].reply={comment:a,_id:g._id},y({...u,results:f})}).catch(g=>{console.log(g)})};return h.jsxs(h.Fragment,{children:[h.jsx(qs,{}),h.jsx("textarea",{onChange:g=>l(g.target.value),value:a,placeholder:"Leave a comment...",className:"input-box pl-5 placeholder:text-dark-grey resize-none h-[150px] overflow-auto"}),h.jsx("button",{onClick:p,className:"btn-dark mt-5 px-10",children:"Reply"})]})},vD=({data:t,index:e,notificationState:n})=>{var T,R,M,V,$;console.log("Notification____________",t);const[r,o]=k.useState(!1);let{user:i,createdAt:s,type:a,seen:l,user:{personal_info:{fullname:c,username:d,profile_img:u}},replied_on_comment:f,comment:y,reply:p,_id:g}=t,{userAuth:{username:w,profile_img:v,access_token:m}}=k.useContext(le);const{language:b}=k.useContext(re);let{notifications:x,notifications:{results:E,totalDocs:C},setNotifications:A}=n;const S=()=>{o(j=>!j)},_=(j,q,xe)=>{console.log("delete commrnt"),xe.setAttribute("disabled",!0),U.put("https://backend-mern-blog-web-v22.onrender.com/api/v1/comments/delete-comment",{_id:j},{headers:{Authorization:"Bearer "+m}}).then(()=>{q=="comment"?E.splice(e,1):delete E[e].reply,xe.removeAttribute("disabled"),A({...x,totalDocs:C-1,deletedDocCount:x.deletedDocCount+1})}).catch(B=>{xe.removeAttribute("disabled"),console.log(B)})};return h.jsxs("div",{className:"w-full border-b border-grey p-6 mt-4 border-l-black "+(l?"":"border-l-2"),children:[h.jsxs("div",{className:"flex gap-5 mb-3",children:[h.jsx("img",{src:u,className:"w-12 h-12 rounded-full flex-none"}),h.jsxs("div",{className:"w-full",children:[h.jsxs("h1",{className:"font-medium text-xl text-dark-grey ",children:[h.jsx("span",{className:"lg:inline-block hidden capitalize",children:c}),h.jsx(ne,{to:`/user/${d}`,className:"mx-1 text-black underline",children:d}),h.jsx("span",{className:"font-normal",children:a=="like"?`${I.like_your_blog[b]}`:a=="comment"?`${I.commented_on[b]}`:`${I.replied_on[b]}`})]}),a=="reply"?h.jsxs(h.Fragment,{children:[h.jsx(ne,{to:`/blog/${(T=t==null?void 0:t.blog)==null?void 0:T.blog_id}`,className:"hover:underline font-medium text-dark-grey line-clamp-1",children:`"${(R=t==null?void 0:t.blog)==null?void 0:R.title}"`}),h.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:h.jsx("p",{children:f.comment})})]}):h.jsx(ne,{to:`/blog/${(M=t==null?void 0:t.blog)==null?void 0:M.blog_id}`,className:"hover:underline font-medium text-dark-grey line-clamp-1",children:`"${(V=t==null?void 0:t.blog)==null?void 0:V.title}"`})]})]}),a!="like"?h.jsx("p",{className:"ml-14 p-5 font-gelasio text-xl my-5 ",children:y.comment}):"",h.jsxs("div",{className:"ml-14 pl-5 mt-3 text-dark-grey flex gap-8",children:[h.jsx("p",{children:On(s)}),a!="like"?h.jsxs(h.Fragment,{children:[p?"":h.jsx("button",{onClick:S,className:"underline hover:text-black",children:I.reply[b]}),h.jsx("button",{onClick:j=>_(y._id,"comment",j.target),className:"underline hover:text-black",children:I.delete[b]})]}):""]}),r?h.jsx("div",{className:"mt-8",children:h.jsx(yD,{_id:($=t==null?void 0:t.blog)==null?void 0:$._id,blog_author:i,index:e,replyingTo:y._id,setReplying:o,notification_id:g,notificationData:n})}):"",p?h.jsxs("div",{className:"ml-20 p-5 bg-grey mt-5 rounded-md",children:[h.jsxs("div",{className:"flex gap-3 mb-3",children:[h.jsx("img",{src:v,className:"w-8 h-8 rounded-full flex-none"}),h.jsxs("div",{className:"w-full",children:[h.jsxs("h1",{className:"font-medium text-xl text-dark-grey",children:[h.jsxs(ne,{to:`/user/${w}`,className:"mx-1 text-black underline",children:["@",w]}),h.jsx("span",{className:"font-normal",children:I.replied_on[b]}),h.jsx(ne,{className:"mx-1 text-black underline",to:`/user/${d}`,children:d})]}),h.jsx("div",{className:"p-4 mt-4 rounded-md bg-grey",children:h.jsx("p",{children:p.comment})})]})]}),h.jsx("div",{className:"ml-14 mt-3 text-dark-grey flex gap-8",children:h.jsx("button",{onClick:j=>_(y._id,"reply",j.target),className:"underline hover:text-black",children:I.delete[b]})})]}):""]})},bD=()=>{const[t,e]=k.useState("all");let n=["all","like","comment","reply"];const[r,o]=k.useState(null),[i,s]=k.useState(0),[a,l]=k.useState(!1);let{userAuth:c,setUserAuth:d,userAuth:{access_token:u}}=k.useContext(le);const{language:f}=k.useContext(re),y=({page:m,deletedDocCount:b=0})=>{U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/notifications/",{page:m,deletedDocCount:b,filter:t},{headers:{Authorization:"Bearer "+u}}).then(async({data:{notifications:x}})=>{console.log(x);let E=await Qr({state:r,data:x,page:m,countRoute:"/notifications/count-notifications",data_to_send:{filter:t},user:u});o(E)}).catch(x=>{console.log(x)})},p=()=>{U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/notifications/new-notifications",{filter:t},{headers:{Authorization:"Bearer "+u}}).then(({data:{totalDocs:m}})=>{s(m)}).catch(m=>{console.log(m)})},g=m=>{let b=m.target;e(b.innerHTML),o(null)},w=()=>{U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/notifications/delete-all",{filter:t},{headers:{Authorization:"Bearer "+u}}).then(({data:m})=>{console.log(m),o({results:[]}),s(0)}).catch(m=>{console.log(m)})},v=()=>{U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/notifications/mark-as-read",{filter:t},{headers:{Authorization:"Bearer "+u}}).then(({data:m})=>{if(console.log(m),r.results){const b=r.results.map(x=>({...x,seen:!0}));o({...r,results:b})}removeFromSession("new notifications")}).catch(m=>{console.log(m)})};return k.useEffect(()=>{u&&(y({page:1}),p())},[u,t]),h.jsxs("div",{className:"",children:[h.jsx("h1",{className:"max-md:hidden font-bold",children:I.notifications[f]}),h.jsx("div",{className:"my-8 flex gap-6",children:n.map((m,b)=>h.jsx("button",{className:`py-2 ${t===m?"btn-dark":"btn-light"}`,onClick:g,children:m},b))}),r==null?h.jsx(at,{}):h.jsxs(h.Fragment,{children:[r.results.length?h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:" font-bold text-[18px] mb-2",children:[r.results.length," of ",r.totalDocs," "]}),h.jsx("hr",{className:"w-full border-grey"}),h.jsxs("div",{className:"flex justify-end py-2 px-3 gap-3 items-center",children:[i>0&&h.jsxs("h2",{className:"font-bold !text-[18px] text-white bg-black rounded-full px-2",children:[i," ",I.new[f]]}),h.jsxs("button",{className:"px-2 py-1 flex justify-center items-center relative",onClick:()=>l(m=>!m),children:[h.jsx("i",{className:"fi fi-rr-menu-dots text-[20px]"}),h.jsxs("div",{className:`absolute right-0 top-[100%] flex flex-col justify-center gap-2 px-4 py-2 bg-white border border-grey ${a?"show":"hide"} `,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[h.jsxs("div",{className:"flex gap-2 items-center link",onClick:v,children:[h.jsx("i",{className:"fi fi-br-check"}),h.jsx("span",{className:"whitespace-nowrap ",children:I.mark_as_read[f]})]}),h.jsxs("div",{className:"flex gap-2 items-center link",onClick:w,children:[h.jsx("i",{className:"fi fi-rr-trash"}),h.jsx("span",{className:"whitespace-nowrap ",children:I.delete_all[f]})]})]})]})]}),h.jsx("hr",{className:"w-full border-grey"}),r.results.map((m,b)=>h.jsx(Le,{transiton:{delay:b*.08},children:h.jsx(vD,{data:m,index:b,notificationState:{notifications:r,setNotifications:o}})},b))]}):h.jsx(_t,{message:"Nothing available"}),h.jsx(Zr,{state:r,fetchDataFunc:y,additionalParams:{deletedDocCount:r.deletedDocCount}})]})]})},Iv=({user:t})=>{let{personal_info:{fullname:e,username:n,profile_img:r}}=t;return h.jsxs(ne,{to:`/user/${n}`,className:"flex gap-5 items-center mb-5",children:[h.jsx("img",{src:r,className:"w-14 h-14 rounded-md"}),h.jsxs("div",{children:[h.jsx("h1",{className:"font-medium text-xl line-clamp-2 ",children:e}),h.jsxs("p",{className:"text-dark-grey",children:["@",n]})]})]})},wD=()=>{let{query:t}=hi();const[e,n]=k.useState(null),[r,o]=k.useState(null),i=({page:c=1,create_new_arr:d=!1})=>{U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/blogs/search",{query:t,page:c}).then(async({data:u})=>{let f=await Qr({state:e,data:u.blogs,page:c,countRoute:"/blogs/count-search-blogs",data_to_send:{query:t},create_new_arr:d});n(f),console.log(f)}).catch(u=>{console.log(u)})},s=()=>{U.get(`https://backend-mern-blog-web-v22.onrender.com/api/v1/users/search/${t}`).then(({data:{users:c}})=>{o(c),console.log(c)}).catch(c=>{console.log(c)})};k.useEffect(()=>{a(),i({page:1,create_new_arr:!0}),s()},[t]);const a=()=>{n(null),o(null)},l=()=>h.jsx(h.Fragment,{children:r?r.length?h.jsx("div",{children:r.map((c,d)=>h.jsx(Le,{children:h.jsx(Iv,{user:c},d)}))}):h.jsx(_t,{message:"No User data"}):h.jsx(at,{})});return h.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[h.jsx("div",{className:"w-full",children:h.jsxs(Fc,{routes:[`Search results from "${t}"`,"Account matched"],defaultHidden:["Account matched"],children:[h.jsxs(h.Fragment,{children:[e==null?h.jsx(at,{}):e.results.length?e.results.map((c,d)=>h.jsx(Le,{transiton:{duration:1,delay:d*.1},children:h.jsx(Mp,{content:c,author:c.author})},d)):h.jsx(_t,{message:"No blogs published"}),h.jsx(Zr,{state:e,fetchDataFunc:i})]}),h.jsx(h.Fragment,{children:h.jsx(l,{})})]})}),h.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-l border-grey pl-8 pt-3 max-md:hidden",children:[h.jsxs("h1",{className:"font-medium text-xl mb-8",children:["User related to search ",h.jsx("i",{className:"fi fi-rr-user"})]}),h.jsx("div",{children:r?r.length?h.jsx("div",{children:r.map((c,d)=>h.jsx(Le,{children:h.jsx(Iv,{user:c},d)}))}):h.jsx(_t,{message:"No User data"}):h.jsx(at,{})})]})]})},xD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=";function Jp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kD=Lk,Bk=new Qs("auth","Firebase",Lk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new P1("@firebase/auth");function ED(t,...e){tc.logLevel<=ie.WARN&&tc.warn(`Auth (${mi}): ${t}`,...e)}function sl(t,...e){tc.logLevel<=ie.ERROR&&tc.error(`Auth (${mi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,...e){throw Qp(t,...e)}function Qt(t,...e){return Qp(t,...e)}function Ok(t,e,n){const r=Object.assign(Object.assign({},kD()),{[e]:n});return new Qs("auth","Firebase",r).create(e,{appName:t.name})}function SD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&tn(t,"argument-error"),Ok(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Bk.create(t,...e)}function K(t,e,...n){if(!t)throw Qp(e,...n)}function vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sl(e),new Error(e)}function Rn(t,e){t||vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _D(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_D()||sL()||"connection"in navigator)?navigator.onLine:!0}function TD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rn(n>e,"Short delay should be less than long delay!"),this.isMobile=iL()||aL()}get(){return CD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t,e){Rn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new ra(3e4,6e4);function em(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vi(t,e,n,r,o={}){return jk(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=Zs(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Mk.fetch()(Dk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function jk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AD),e);try{const o=new PD(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Ra(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ra(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ra(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ra(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ok(t,d,c);tn(t,d)}}catch(o){if(o instanceof Mn)throw o;tn(t,"network-request-failed",{message:String(o)})}}async function ID(t,e,n,r,o={}){const i=await vi(t,e,n,r,o);return"mfaPendingCredential"in i&&tn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Dk(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?Zp(t.config,o):`${t.config.apiScheme}://${o}`}class PD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qt(this.auth,"network-request-failed")),ND.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ra(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Qt(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function LD(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BD(t,e=!1){const n=sn(t),r=await n.getIdToken(e),o=tm(r);K(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:as(Xu(o.auth_time)),issuedAtTime:as(Xu(o.iat)),expirationTime:as(Xu(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Xu(t){return Number(t)*1e3}function tm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sl("JWT malformed, contained fewer than 3 sections"),null;try{const o=T1(n);return o?JSON.parse(o):(sl("Failed to decode base64 JWT payload"),null)}catch(o){return sl("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function OD(t){const e=tm(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mn&&MD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=as(this.lastLoginAt),this.creationTime=as(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Ms(t,LD(n,{idToken:r}));K(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?UD(i.providerUserInfo):[],a=FD(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Fk(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,u)}async function DD(t){const e=sn(t);await nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FD(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function UD(t){return t.map(e=>{var{providerId:n}=e,r=Jp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){const n=await jk(t,{},async()=>{const r=Zs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=Dk(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mk.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HD(t,e){return vi(t,"POST","/v2/accounts:revokeToken",em(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return K(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await VD(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new js;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(K(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(K(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new js,this.toJSON())}_performRefresh(){return vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=Jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fk(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ms(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BD(this,e)}reload(){return DD(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ms(this,RD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,d;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(o=n.email)!==null&&o!==void 0?o:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:x,isAnonymous:E,providerData:C,stsTokenManager:A}=n;K(b&&A,e,"internal-error");const S=js.fromJSON(this.name,A);K(typeof b=="string",e,"internal-error"),Fn(u,e.name),Fn(f,e.name),K(typeof x=="boolean",e,"internal-error"),K(typeof E=="boolean",e,"internal-error"),Fn(y,e.name),Fn(p,e.name),Fn(g,e.name),Fn(w,e.name),Fn(v,e.name),Fn(m,e.name);const _=new qr({uid:b,auth:e,email:f,emailVerified:x,displayName:u,isAnonymous:E,photoURL:p,phoneNumber:y,tenantId:g,stsTokenManager:S,createdAt:v,lastLoginAt:m});return C&&Array.isArray(C)&&(_.providerData=C.map(T=>Object.assign({},T))),w&&(_._redirectEventId=w),_}static async _fromIdTokenResponse(e,n,r=!1){const o=new js;o.updateFromServerResponse(n);const i=new qr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await nc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;function bn(t){Rn(t instanceof Function,"Expected a class definition");let e=Rv.get(t);return e?(Rn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Uk.type="NONE";const Lv=Uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t,e,n){return`firebase:${t}:${e}:${n}`}class Wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=al(this.userKey,o.apiKey,i),this.fullPersistenceKey=al("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wo(bn(Lv),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||bn(Lv);const s=al(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const u=qr._fromJSON(e,d);c!==i&&(a=u),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Wo(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new Wo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($k(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wk(e))return"Blackberry";if(qk(e))return"Webos";if(nm(e))return"Safari";if((e.includes("chrome/")||Hk(e))&&!e.includes("edge/"))return"Chrome";if(zk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vk(t=Ke()){return/firefox\//i.test(t)}function nm(t=Ke()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hk(t=Ke()){return/crios\//i.test(t)}function $k(t=Ke()){return/iemobile/i.test(t)}function zk(t=Ke()){return/android/i.test(t)}function Wk(t=Ke()){return/blackberry/i.test(t)}function qk(t=Ke()){return/webos/i.test(t)}function zc(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $D(t=Ke()){var e;return zc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zD(){return lL()&&document.documentMode===10}function Kk(t=Ke()){return zc(t)||zk(t)||qk(t)||Wk(t)||/windows phone/i.test(t)||$k(t)}function WD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t,e=[]){let n;switch(t){case"Browser":n=Bv(Ke());break;case"Worker":n=`${Bv(Ke())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e={}){return vi(t,"GET","/v2/passwordPolicy",em(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=6;class YD{constructor(e){var n,r,o,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:GD,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bn(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?sn(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KD(this),n=new YD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,o);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ED(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wc(t){return sn(t)}class Ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=mL(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JD(t){rm=t}function QD(t){return rm.loadJS(t)}function ZD(){return rm.gapiScript}function e3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e){const n=Ap(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(Xl(i,e??{}))return o;tn(o,"already-initialized")}return n.initialize({options:e})}function n3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r3(t,e,n){const r=Wc(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=Yk(e),{host:s,port:a}=o3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||i3()}function Yk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o3(t){const e=Yk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:Mv(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:Mv(s)}}}function Mv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vn("not implemented")}_getIdTokenResponse(e){return vn("not implemented")}_linkToIdToken(e,n){return vn("not implemented")}_getReauthenticationResolver(e){return vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e){return ID(t,"POST","/v1/accounts:signInWithIdp",em(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="http://localhost";class oo extends Xk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=Jp(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new oo(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:s3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends oa{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xn.credential(e.oauthAccessToken)}catch{return null}}}Xn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends oa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:dn.PROVIDER_ID,signInMethod:dn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dn.credentialFromTaggedObject(e)}static credentialFromError(e){return dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dn.credential(n,r)}catch{return null}}}dn.GOOGLE_SIGN_IN_METHOD="google.com";dn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends oa{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jn.credential(e.oauthAccessToken)}catch{return null}}}Jn.GITHUB_SIGN_IN_METHOD="github.com";Jn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends oa{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.TWITTER_SIGN_IN_METHOD="twitter.com";Qn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await qr._fromIdTokenResponse(e,r,o),s=jv(r);return new si({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=jv(r);return new si({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function jv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Mn{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new rc(e,n,r,o)}}function Jk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?rc._fromErrorAndOperation(t,i,e,r):i})}async function a3(t,e,n=!1){const r=await Ms(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return si._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const i=await Ms(t,Jk(r,o,e,t),n);K(i.idToken,r,"internal-error");const s=tm(i.idToken);K(s,r,"internal-error");const{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),si._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&tn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e,n=!1){const r="signIn",o=await Jk(t,r,e),i=await si._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function u3(t,e,n,r){return sn(t).onIdTokenChanged(e,n,r)}function d3(t,e,n){return sn(t).beforeAuthStateChanged(e,n)}const oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oc,"1"),this.storage.removeItem(oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){const t=Ke();return nm(t)||zc(t)}const f3=1e3,p3=10;class Zk extends Qk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=h3()&&WD(),this.fallbackToPolling=Kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);zD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,p3):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},f3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zk.type="LOCAL";const m3=Zk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Qk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eE.type="SESSION";const tE=eE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new qc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await g3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=im("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(u){const f=u;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return window}function v3(t){Zt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(){return typeof Zt().WorkerGlobalScope<"u"&&typeof Zt().importScripts=="function"}async function b3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x3(){return nE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firebaseLocalStorageDb",k3=1,ic="firebaseLocalStorage",oE="fbase_key";class ia{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kc(t,e){return t.transaction([ic],e?"readwrite":"readonly").objectStore(ic)}function E3(){const t=indexedDB.deleteDatabase(rE);return new ia(t).toPromise()}function Fh(){const t=indexedDB.open(rE,k3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ic,{keyPath:oE})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ic)?e(r):(r.close(),await E3(),e(await Fh()))})})}async function Dv(t,e,n){const r=Kc(t,!0).put({[oE]:e,value:n});return new ia(r).toPromise()}async function S3(t,e){const n=Kc(t,!1).get(e),r=await new ia(n).toPromise();return r===void 0?null:r.value}function Fv(t,e){const n=Kc(t,!0).delete(e);return new ia(n).toPromise()}const _3=800,C3=3;class iE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qc._getInstance(x3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await b3(),!this.activeServiceWorker)return;this.sender=new y3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fh();return await Dv(e,oc,"1"),await Fv(e,oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=Kc(o,!1).getAll();return new ia(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iE.type="LOCAL";const T3=iE;new ra(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){return e?bn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Xk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function A3(t){return c3(t.auth,new sm(t),t.bypassAuthState)}function N3(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),l3(n,new sm(t),t.bypassAuthState)}async function I3(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),a3(n,new sm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A3;case"linkViaPopup":case"linkViaRedirect":return I3;case"reauthViaPopup":case"reauthViaRedirect":return N3;default:tn(this.auth,"internal-error")}}resolve(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new ra(2e3,1e4);async function R3(t,e,n){const r=Wc(t);SD(t,e,om);const o=sE(r,n);return new Ur(r,"signInViaPopup",e,o).executeNotNull()}class Ur extends aE{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,Ur.currentPopupAction&&Ur.currentPopupAction.cancel(),Ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Rn(this.filter.length===1,"Popup operations only handle one event");const e=im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P3.get())};e()}}Ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="pendingRedirect",ll=new Map;class B3 extends aE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ll.get(this.auth._key());if(!e){try{const r=await O3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ll.set(this.auth._key(),e)}return this.bypassAuthState||ll.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O3(t,e){const n=D3(e),r=j3(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function M3(t,e){ll.set(t._key(),e)}function j3(t){return bn(t._redirectPersistence)}function D3(t){return al(L3,t.config.apiKey,t.name)}async function F3(t,e,n=!1){const r=Wc(t),o=sE(r,e),s=await new B3(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=10*60*1e3;class V3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qt(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W3=/^https?/;async function q3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $3(t);for(const n of e)try{if(K3(n))return}catch{}tn(t,"unauthorized-domain")}function K3(t){const e=Dh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!W3.test(n))return!1;if(z3.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new ra(3e4,6e4);function Vv(){const t=Zt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y3(t){return new Promise((e,n)=>{var r,o,i;function s(){Vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vv(),n(Qt(t,"network-request-failed"))},timeout:G3.get()})}if(!((o=(r=Zt().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=Zt().gapi)===null||i===void 0)&&i.load)s();else{const a=e3("iframefcb");return Zt()[a]=()=>{gapi.load?s():n(Qt(t,"network-request-failed"))},QD(`${ZD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cl=null,e})}let cl=null;function X3(t){return cl=cl||Y3(t),cl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new ra(5e3,15e3),Q3="__/auth/iframe",Z3="emulator/auth/iframe",e4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n4(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zp(e,Z3):`https://${t.config.authDomain}/${Q3}`,r={apiKey:e.apiKey,appName:t.name,v:mi},o=t4.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Zs(r).slice(1)}`}async function r4(t){const e=await X3(t),n=Zt().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:n4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e4,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Qt(t,"network-request-failed"),a=Zt().setTimeout(()=>{i(s)},J3.get());function l(){Zt().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,s4=600,a4="_blank",l4="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c4(t,e,n,r=i4,o=s4){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},o4),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Ke().toLowerCase();n&&(a=Hk(c)?a4:n),Vk(c)&&(e=e||l4,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[y,p])=>`${f}${y}=${p},`,"");if($D(c)&&a!=="_self")return u4(e||"",a),new Hv(null);const u=window.open(e||"",a,d);K(u,t,"popup-blocked");try{u.focus()}catch{}return new Hv(u)}function u4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="__/auth/handler",h4="emulator/auth/handler",f4=encodeURIComponent("fac");async function $v(t,e,n,r,o,i){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mi,eventId:o};if(e instanceof om){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",pL(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries(i||{}))s[d]=u}if(e instanceof oa){const d=e.getScopes().filter(u=>u!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${f4}=${encodeURIComponent(l)}`:"";return`${p4(t)}?${Zs(a).slice(1)}${c}`}function p4({config:t}){return t.emulator?Zp(t,h4):`https://${t.authDomain}/${d4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="webStorageSupport";class m4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=F3,this._overrideRedirectResult=M3}async _openPopup(e,n,r,o){var i;Rn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await $v(e,n,r,Dh(),o);return c4(e,s,im())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await $v(e,n,r,Dh(),o);return v3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(Rn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await r4(e),r=new V3(e);return n.register("authEvent",o=>(K(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ju,{type:Ju},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[Ju];s!==void 0&&n(!!s),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kk()||nm()||zc()}}const g4=m4;var zv="@firebase/auth",Wv="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b4(t){ri(new eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gk(t)},c=new XD(r,o,i,l);return n3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ri(new eo("auth-internal",e=>{const n=Wc(e.getProvider("auth").getImmediate());return(r=>new y4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(zv,Wv,v4(t)),pr(zv,Wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=5*60,x4=I1("authIdTokenMaxAge")||w4;let qv=null;const k4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x4)return;const o=n==null?void 0:n.token;qv!==o&&(qv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function E4(t=Np()){const e=Ap(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t3(t,{popupRedirectResolver:g4,persistence:[T3,m3,tE]}),r=I1("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=k4(r);d3(n,i,()=>i(n.currentUser)),u3(n,s=>i(s))}const o=A1("auth");return o&&r3(n,`http://${o}`),n}function S4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Qt("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",S4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b4("Browser");const Kv=({type:t})=>{const e=k.useRef(),n=E4(rk),r=new dn,[o,i]=k.useState(!1),{userAuth:s,userAuth:{access_token:a},setUserAuth:l}=k.useContext(le),{language:c}=k.useContext(re),d=(y,p)=>{i(!0),U.post(`https://backend-mern-blog-web-v22.onrender.com/api/v1/users/${y}`,p).then(({data:g})=>{sessionStorage.setItem("user",JSON.stringify(g)),l(g),console.log("userAuh:",s)}).catch(({response:g})=>O.error(g.data.message)).finally(()=>{i(!1)})},u=()=>{R3(n,r).then(y=>{const p=y.user.accessToken;console.log(p),d("/signin-with-google",{access_token:p})})},f=y=>{y.preventDefault();let p=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,g=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;const w=y.target.textContent.toLowerCase();console.log({action:w});const v=w===I.sign_in[c]?"/signin":"/signup";console.log(v);const m=new FormData(e.current);let b={};for(let[A,S]of m)b[A]=S;console.log(b);let{fullname:x,email:E,password:C}=b;if(x&&!x.length)return O.error("Enter fullname");if(!E.length)return O.error("Enter email");if(!C.length)return O.error("Enter password");if(!p.test(E))return O.error("Invalid email");if(!g.test(C))return O.error("Password need at least a lower character, an uppercase character, a special character and length from 6-20");d(v,b)};return a?h.jsx(zf,{to:"/"}):h.jsx(Le,{children:h.jsxs("section",{className:"h-cover flex items-center justify-center",children:[h.jsx(qs,{}),h.jsxs("form",{ref:e,className:"w-[80%] max-w-[400px]",children:[h.jsx("h1",{className:"text-4xl font-gelasio capitalize text-center mb-24",children:t==="sign-in"?`${I.authform.welcome_back[c]}`:`${I.authform.join_us[c]}`}),t==="sign-up"?h.jsx(mn,{id:"fullname",type:"text",name:"fullname",placeHodler:I.authform.type_fullname[c],icon:"fi fi-rr-user"}):"",h.jsx(mn,{id:"email",type:"text",name:"email",placeHodler:I.authform.type_email[c],icon:"fi fi-rr-envelope"}),h.jsx(mn,{id:"password",type:"password",name:"password",placeHodler:I.authform.type_password[c],icon:"fi fi-rr-key"}),h.jsx("div",{className:"w-full flex justify-end",children:h.jsx(ne,{className:"underline",to:"/forgot-password",children:I.authform.forgot_password[c]})}),h.jsx("div",{className:"w-full mt-8 flex items-center justify-center",children:t==="sign-in"?h.jsx("button",{className:`btn-dark ${o?"cursor-progress":"cursor-pointer"}`,type:"submit",onClick:f,children:I.sign_in[c]}):h.jsx("button",{className:`btn-dark ${o?"opacity-70 cursor-progress":"cursor-pointer"}`,type:"submit",onClick:f,children:I.sign_up[c]})}),h.jsxs("div",{className:"relative w-full flex items-center justify-center gap-4 font-bold text-black  my-10 opacity-10 uppercase",children:[h.jsx("hr",{className:" w-[40%] border-black"}),h.jsx("span",{className:"px-5",children:I.authform.or[c]}),h.jsx("hr",{className:"w-[40%] border-black"})]}),h.jsxs("button",{onClick:u,className:"w-[90%] btn-dark flex items-center justify-center gap-4 center",children:[h.jsx("img",{src:xD,className:"w-5"}),I.authform.google[c]]}),h.jsx("div",{children:t==="sign-in"?h.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:[I.authform.dont_have[c]," ",h.jsx(ne,{to:"/signup",className:"underline text-black",children:I.sign_up[c]})]}):h.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:[I.authform.have_had[c]," ",h.jsx(ne,{to:"/signin",className:"underline text-black",children:I.sign_in[c]})]})})]})]})},t)},nn=Object.create(null);nn.open="0";nn.close="1";nn.ping="2";nn.pong="3";nn.message="4";nn.upgrade="5";nn.noop="6";const ul=Object.create(null);Object.keys(nn).forEach(t=>{ul[nn[t]]=t});const Uh={type:"error",data:"parser error"},cE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",uE=typeof ArrayBuffer=="function",dE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,am=({type:t,data:e},n,r)=>cE&&e instanceof Blob?n?r(e):Gv(e,r):uE&&(e instanceof ArrayBuffer||dE(e))?n?r(e):Gv(new Blob([e]),r):r(nn[t]+(e||"")),Gv=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Yv(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Qu;function _4(t,e){if(cE&&t.data instanceof Blob)return t.data.arrayBuffer().then(Yv).then(e);if(uE&&(t.data instanceof ArrayBuffer||dE(t.data)))return e(Yv(t.data));am(t,!1,n=>{Qu||(Qu=new TextEncoder),e(Qu.encode(n))})}const Xv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Xv.length;t++)zi[Xv.charCodeAt(t)]=t;const C4=t=>{let e=t.length*.75,n=t.length,r,o=0,i,s,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(r=0;r<n;r+=4)i=zi[t.charCodeAt(r)],s=zi[t.charCodeAt(r+1)],a=zi[t.charCodeAt(r+2)],l=zi[t.charCodeAt(r+3)],d[o++]=i<<2|s>>4,d[o++]=(s&15)<<4|a>>2,d[o++]=(a&3)<<6|l&63;return c},T4=typeof ArrayBuffer=="function",lm=(t,e)=>{if(typeof t!="string")return{type:"message",data:hE(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:A4(t.substring(1),e)}:ul[n]?t.length>1?{type:ul[n],data:t.substring(1)}:{type:ul[n]}:Uh},A4=(t,e)=>{if(T4){const n=C4(t);return hE(n,e)}else return{base64:!0,data:t}},hE=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},fE="",N4=(t,e)=>{const n=t.length,r=new Array(n);let o=0;t.forEach((i,s)=>{am(i,!1,a=>{r[s]=a,++o===n&&e(r.join(fE))})})},I4=(t,e)=>{const n=t.split(fE),r=[];for(let o=0;o<n.length;o++){const i=lm(n[o],e);if(r.push(i),i.type==="error")break}return r};function P4(){return new TransformStream({transform(t,e){_4(t,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const i=new DataView(o.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{o=new Uint8Array(9);const i=new DataView(o.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(o[0]|=128),e.enqueue(o),e.enqueue(n)})}})}let Zu;function La(t){return t.reduce((e,n)=>e+n.length,0)}function Ba(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let o=0;o<e;o++)n[o]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function R4(t,e){Zu||(Zu=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(La(n)<1)break;const l=Ba(n,1);i=(l[0]&128)===128,o=l[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if(La(n)<2)break;const l=Ba(n,2);o=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(La(n)<8)break;const l=Ba(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(Uh);break}o=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(La(n)<o)break;const l=Ba(n,o);a.enqueue(lm(i?l:Zu.decode(l),e)),r=0}if(o===0||o>t){a.enqueue(Uh);break}}}})}const pE=4;function _e(t){if(t)return L4(t)}function L4(t){for(var e in _e.prototype)t[e]=_e.prototype[e];return t}_e.prototype.on=_e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};_e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};_e.prototype.off=_e.prototype.removeListener=_e.prototype.removeAllListeners=_e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+t],this};_e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this};_e.prototype.emitReserved=_e.prototype.emit;_e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};_e.prototype.hasListeners=function(t){return!!this.listeners(t).length};const xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function mE(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const B4=xt.setTimeout,O4=xt.clearTimeout;function Gc(t,e){e.useNativeTimers?(t.setTimeoutFn=B4.bind(xt),t.clearTimeoutFn=O4.bind(xt)):(t.setTimeoutFn=xt.setTimeout.bind(xt),t.clearTimeoutFn=xt.clearTimeout.bind(xt))}const M4=1.33;function j4(t){return typeof t=="string"?D4(t):Math.ceil((t.byteLength||t.size)*M4)}function D4(t){let e=0,n=0;for(let r=0,o=t.length;r<o;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function F4(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function U4(t){let e={},n=t.split("&");for(let r=0,o=n.length;r<o;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class V4 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class cm extends _e{constructor(e){super(),this.writable=!1,Gc(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new V4(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=lm(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=F4(e);return n.length?"?"+n:""}}const gE="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vh=64,H4={};let Jv=0,Oa=0,Qv;function Zv(t){let e="";do e=gE[t%Vh]+e,t=Math.floor(t/Vh);while(t>0);return e}function yE(){const t=Zv(+new Date);return t!==Qv?(Jv=0,Qv=t):t+"."+Zv(Jv++)}for(;Oa<Vh;Oa++)H4[gE[Oa]]=Oa;let vE=!1;try{vE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $4=vE;function bE(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||$4))return new XMLHttpRequest}catch{}if(!e)try{return new xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function z4(){}const W4=function(){return new bE({xdomain:!1}).responseType!=null}();class q4 extends cm{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let o=location.port;o||(o=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||o!==e.port}const n=e&&e.forceBase64;this.supportsBinary=W4&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};I4(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,N4(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=yE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new en(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(o,i)=>{this.onError("xhr post error",o,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class en extends _e{constructor(e,n){super(),Gc(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=mE(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new bE(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=en.requestsCount++,en.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=z4,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete en.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}en.requestsCount=0;en.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",e0);else if(typeof addEventListener=="function"){const t="onpagehide"in xt?"pagehide":"unload";addEventListener(t,e0,!1)}}function e0(){for(let t in en.requests)en.requests.hasOwnProperty(t)&&en.requests[t].abort()}const um=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ma=xt.WebSocket||xt.MozWebSocket,t0=!0,K4="arraybuffer",n0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class G4 extends cm{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=n0?{}:mE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=t0&&!n0?n?new Ma(e,n):new Ma(e):new Ma(e,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],o=n===e.length-1;am(r,this.supportsBinary,i=>{const s={};try{t0&&this.ws.send(i)}catch{}o&&um(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=yE()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Ma}}class Y4 extends cm{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=R4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),o=P4();o.readable.pipeTo(e.writable),this.writer=o.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],o=n===e.length-1;this.writer.write(r).then(()=>{o&&um(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const X4={websocket:G4,webtransport:Y4,polling:q4},J4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Q4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Hh(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let o=J4.exec(t||""),i={},s=14;for(;s--;)i[Q4[s]]=o[s]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Z4(i,i.path),i.queryKey=e5(i,i.query),i}function Z4(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function e5(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,i){o&&(n[o]=i)}),n}let wE=class wo extends _e{constructor(e,n={}){super(),this.binaryType=K4,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=Hh(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Hh(n.host).host),Gc(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=U4(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=pE,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new X4[e](r)}open(){let e;if(this.opts.rememberUpgrade&&wo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;wo.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;wo.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const s=u=>{const f=new Error("probe error: "+u);f.transport=n.name,i(),this.emitReserved("upgradeError",f)};function a(){s("transport closed")}function l(){s("socket closed")}function c(u){n&&u.name!==n.name&&i()}const d=()=>{n.removeListener("open",o),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",o),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",wo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=j4(o)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){wo.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const o=e.length;for(;r<o;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};wE.protocol=pE;function t5(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Hh(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const n5=typeof ArrayBuffer=="function",r5=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,xE=Object.prototype.toString,o5=typeof Blob=="function"||typeof Blob<"u"&&xE.call(Blob)==="[object BlobConstructor]",i5=typeof File=="function"||typeof File<"u"&&xE.call(File)==="[object FileConstructor]";function dm(t){return n5&&(t instanceof ArrayBuffer||r5(t))||o5&&t instanceof Blob||i5&&t instanceof File}function dl(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(dl(t[n]))return!0;return!1}if(dm(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return dl(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&dl(t[n]))return!0;return!1}function s5(t){const e=[],n=t.data,r=t;return r.data=$h(n,e),r.attachments=e.length,{packet:r,buffers:e}}function $h(t,e){if(!t)return t;if(dm(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=$h(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=$h(t[r],e));return n}return t}function a5(t,e){return t.data=zh(t.data,e),delete t.attachments,t}function zh(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=zh(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=zh(t[n],e));return t}const l5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],c5=5;var J;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(J||(J={}));class u5{constructor(e){this.replacer=e}encode(e){return(e.type===J.EVENT||e.type===J.ACK)&&dl(e)?this.encodeAsBinary({type:e.type===J.EVENT?J.BINARY_EVENT:J.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===J.BINARY_EVENT||e.type===J.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=s5(e),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}function r0(t){return Object.prototype.toString.call(t)==="[object Object]"}class hm extends _e{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===J.BINARY_EVENT;r||n.type===J.BINARY_ACK?(n.type=r?J.EVENT:J.ACK,this.reconstructor=new d5(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(dm(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(J[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===J.BINARY_EVENT||r.type===J.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const s=e.substring(i,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const o=e.charAt(n+1);if(o!==""&&Number(o)==o){const i=n+1;for(;++n;){const s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(hm.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case J.CONNECT:return r0(n);case J.DISCONNECT:return n===void 0;case J.CONNECT_ERROR:return typeof n=="string"||r0(n);case J.EVENT:case J.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&l5.indexOf(n[0])===-1);case J.ACK:case J.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class d5{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=a5(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const h5=Object.freeze(Object.defineProperty({__proto__:null,Decoder:hm,Encoder:u5,get PacketType(){return J},protocol:c5},Symbol.toStringTag,{value:"Module"}));function Rt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const f5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kE extends _e{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Rt(e,"open",this.onopen.bind(this)),Rt(e,"packet",this.onpacket.bind(this)),Rt(e,"error",this.onerror.bind(this)),Rt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(f5.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:J.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const s=this.ids++,a=n.pop();this._registerAckCallback(s,a),r.id=s}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},o),s=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((r,o)=>{const i=(s,a)=>s?o(s):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((o,...i)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:J.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case J.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case J.EVENT:case J.BINARY_EVENT:this.onevent(e);break;case J.ACK:case J.BINARY_ACK:this.onack(e);break;case J.DISCONNECT:this.ondisconnect();break;case J.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:J.ACK,id:e,data:o}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:J.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function bi(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}bi.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};bi.prototype.reset=function(){this.attempts=0};bi.prototype.setMin=function(t){this.ms=t};bi.prototype.setMax=function(t){this.max=t};bi.prototype.setJitter=function(t){this.jitter=t};class Wh extends _e{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Gc(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new bi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const o=n.parser||h5;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new wE(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=Rt(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Rt(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{o(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(o),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Rt(e,"ping",this.onping.bind(this)),Rt(e,"data",this.ondata.bind(this)),Rt(e,"error",this.onerror.bind(this)),Rt(e,"close",this.onclose.bind(this)),Rt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){um(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new kE(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",o)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ri={};function hl(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=t5(t,e.path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=Ri[o]&&i in Ri[o].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let l;return a?l=new Wh(r,e):(Ri[o]||(Ri[o]=new Wh(r,e)),l=Ri[o]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(hl,{Manager:Wh,Socket:kE,io:hl,connect:hl});const p5=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(!1),{language:o}=k.useContext(re),i=s=>{if(!t.length)return O.error("You miss email");s.target.setAttribute("disabled",!0),r(!0),U.post("https://backend-mern-blog-web-v22.onrender.com/api/v1/users/forgot-password",{email:t}).then(()=>{O.success("Please go to your email to confirm")}).catch(({response:a})=>{console.log(a),O.error(a.data.messsage)}).finally(()=>{r(!1),s.target.removeAttribute("disabled")})};return h.jsxs("div",{className:" px-4 py-2  fixed top-0 left-0 w-screen h-screen z-50 bg-white",children:[h.jsx("h1",{className:"font-bold text-[30px] mb-10 flex items-center justify-center w-full mt-10",children:I.forgot_password[o]}),h.jsx("div",{className:"w-full flex justify-center items-center flex-col",children:h.jsxs("div",{className:"w-full mb-2  flex items-center justify-center flex-col gap-3",children:[h.jsx("div",{className:"w-full md:max-w-[600px]",children:h.jsx("label",{htmlFor:"email",children:"Email"})}),h.jsx("input",{onChange:s=>e(s.target.value),defaultValue:t,placeholder:"email",name:"email",id:"email",type:"email",className:" input-box placeholder:text-gray-400 md:max-w-[600px]"}),h.jsx("button",{className:"btn-dark mx-auto rounded-[5px]",onClick:i,children:I.send[o]})]})})]})},m5=()=>{const{token:t}=hi(),[e,n]=k.useState(""),[r,o]=k.useState(!1);k.useContext(le);const i=Ut(),{language:s}=k.useContext(re),a=l=>{if(!e.length)return O.error("You must be write password");l.target.setAttribute("disabled",!0),o(!0),U.put(`https://backend-mern-blog-web-v22.onrender.com/api/v1/users/reset-password/${t}`,{password:e}).then(({data:c})=>{O.success(c),i("/signin")}).catch(({response:c})=>{console.log(c),O.error(c.data.messsage)}).finally(()=>{o(!1),l.target.removeAttribute("disabled")})};return h.jsxs("div",{className:" px-4 py-2  fixed top-0 left-0 w-screen h-screen z-50 bg-white",children:[h.jsx("h1",{className:"font-bold text-[30px] mb-10 flex items-center justify-center w-full mt-10",children:I.reset_password[s]}),h.jsx("div",{className:"w-full flex justify-center items-center flex-col",children:h.jsxs("div",{className:"w-full mb-2  flex items-center justify-center flex-col gap-3",children:[h.jsx("div",{className:"w-full md:max-w-[600px]",children:h.jsx("label",{htmlFor:"password",children:"New password"})}),h.jsx("input",{onChange:l=>n(l.target.value),defaultValue:e,placeholder:"password",name:"password",id:"password",type:"password",className:" input-box placeholder:text-gray-400 md:max-w-[600px]"}),h.jsx("button",{className:`btn-dark mx-auto rounded-[5px] ${r?"cursor-progress":"cursor-pointer"}`,onClick:a,children:I.send[s]})]})})]})},le=k.createContext({}),re=k.createContext({});function g5(){const[t,e]=k.useState({access_token:null,username:"",profile_img:""}),[n,r]=k.useState(1),[o,i]=k.useState(null),[s,a]=k.useState(null);return k.useEffect(()=>{const l=hl("https://socket-web-blog-v2.onrender.com");i(l),l.on("connect",()=>{console.log(`You are connected with id: ${l.id}`)});let c=Aw("user");if(c){const d=JSON.parse(c);e(d),l.emit("newUser",{username:d.username})}else e({access_token:null})},[]),h.jsxs("div",{children:[h.jsx(re.Provider,{value:{language:n,setLanguage:r},children:h.jsx(le.Provider,{value:{userAuth:t,setUserAuth:e,socket:o,setSocket:i,notifications:s,setNotifications:a},children:h.jsx(GC,{children:h.jsxs(FC,{children:[h.jsx(Ce,{path:"/editor",element:h.jsx(Tv,{})}),h.jsx(Ce,{path:"/edit/:blog_id",element:h.jsx(Tv,{})}),h.jsxs(Ce,{path:"/",element:h.jsx(mA,{}),children:[h.jsx(Ce,{index:!0,element:h.jsx(fD,{})}),h.jsxs(Ce,{path:"dashboard",element:h.jsx(Hg,{}),children:[h.jsx(Ce,{path:"blogs",element:h.jsx(gD,{})}),h.jsx(Ce,{path:"notifications",element:h.jsx(bD,{})})]}),h.jsxs(Ce,{path:"settings",element:h.jsx(Hg,{}),children:[h.jsx(Ce,{path:"edit-profile",element:h.jsx(zO,{})}),h.jsx(Ce,{path:"change-password",element:h.jsx(GR,{})})]}),h.jsx(Ce,{path:"signin",element:h.jsx(Kv,{type:"sign-in"})}),h.jsx(Ce,{path:"signup",element:h.jsx(Kv,{type:"sign-up"})}),h.jsx(Ce,{path:"user/:username",element:h.jsx($O,{})}),h.jsx(Ce,{path:"blog/:blog_id",element:h.jsx(KR,{})}),h.jsx(Ce,{path:"search/:query",element:h.jsx(wD,{})}),h.jsx(Ce,{path:"forgot-password",element:h.jsx(p5,{})}),h.jsx(Ce,{path:"reset-password/:token",element:h.jsx(m5,{})}),h.jsx(Ce,{path:"*",element:h.jsx(ex,{})})]})]})})})}),h.jsx(qs,{})]})}ed.createRoot(document.getElementById("root")).render(h.jsx(g5,{}));
